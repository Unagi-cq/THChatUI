{"version":3,"file":"js/279.803ef350.js","mappings":"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","sources":["webpack://THChatUI/pdfjs-dist/build/pdf/webpack/universalModuleDefinition","webpack://THChatUI/pdfjs-dist/build/pdf/webpack/bootstrap","webpack://THChatUI/pdfjs-dist/build/pdf/src/pdf.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/display_utils.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/shared/util.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/shared/compatibility.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/shared/is_node.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/api.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/font_loader.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/node_utils.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/annotation_storage.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/api_compatibility.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/canvas.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/pattern_helper.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/worker_options.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/shared/message_handler.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/metadata.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/xml_parser.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/optional_content_config.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/transport_stream.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/webgl.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/annotation_layer.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/text_layer.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/svg.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/node_stream.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/network_utils.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/content_disposition.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/network.js","webpack://THChatUI/pdfjs-dist/build/pdf/src/display/fetch_stream.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__w_pdfjs_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__w_pdfjs_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __w_pdfjs_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__w_pdfjs_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __w_pdfjs_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 0);\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes,\n  getFilenameFromUrl,\n  isFetchSupported,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n} from \"./display/display_utils.js\";\nimport {\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n} from \"./display/api.js\";\nimport {\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { apiCompatibilityParams } from \"./display/api_compatibility.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { renderTextLayer } from \"./display/text_layer.js\";\nimport { SVGGraphics } from \"./display/svg.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n  const streamsPromise = Promise.all([\n    import(\"pdfjs/display/network.js\"),\n    import(\"pdfjs/display/fetch_stream.js\"),\n  ]);\n  setPDFNetworkStreamFactory(params => {\n    return streamsPromise.then(streams => {\n      const [{ PDFNetworkStream }, { PDFFetchStream }] = streams;\n      if (isFetchSupported() && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  });\n} else if (PDFJSDev.test(\"GENERIC\")) {\n  const { isNodeJS } = require(\"./shared/is_node.js\");\n  if (isNodeJS) {\n    const PDFNodeStream = require(\"./display/node_stream.js\").PDFNodeStream;\n    setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n    let PDFFetchStream;\n    if (isFetchSupported()) {\n      PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n    }\n    setPDFNetworkStreamFactory(params => {\n      if (PDFFetchStream && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n} else if (PDFJSDev.test(\"CHROME\")) {\n  const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n  let PDFFetchStream;\n  const isChromeWithFetchCredentials = function () {\n    // fetch does not include credentials until Chrome 61.0.3138.0 and later.\n    // https://chromium.googlesource.com/chromium/src/+/2e231cf052ca5e68e22baf0008ac9e5e29121707\n    try {\n      // Indexed properties on window are read-only in Chrome 61.0.3151.0+\n      // https://chromium.googlesource.com/chromium/src.git/+/58ab4a971b06dec13e4edf9de8382ca6847f6190\n      window[999] = 123; // should throw. Note: JS strict mode MUST be enabled.\n      delete window[999];\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  if (isFetchSupported() && isChromeWithFetchCredentials()) {\n    PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n  }\n  setPDFNetworkStreamFactory(params => {\n    if (PDFFetchStream && isValidFetchUrl(params.url)) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n}\n\nexport {\n  // From \"./display/display_utils.js\":\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n  // From \"./display/api.js\":\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n  // From \"./shared/util.js\":\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n  // From \"./display/annotation_layer.js\":\n  AnnotationLayer,\n  // From \"./display/api_compatibility.js\":\n  apiCompatibilityParams,\n  // From \"./display/worker_options.js\":\n  GlobalWorkerOptions,\n  // From \"./display/text_layer.js\":\n  renderTextLayer,\n  // From \"./display/svg.js\":\n  SVGGraphics,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  BaseException,\n  CMapCompressionType,\n  isString,\n  removeNullCharacters,\n  stringToBytes,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    unreachable(\"Abstract method `create` called.\");\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      (isFetchSupported() && isValidFetchUrl(url, document.baseURI))\n    ) {\n      return fetch(url).then(async response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        let cMapData;\n        if (this.isCompressed) {\n          cMapData = new Uint8Array(await response.arrayBuffer());\n        } else {\n          cMapData = stringToBytes(await response.text());\n        }\n        return { cMapData, compressionType };\n      });\n    }\n\n    // The Fetch API is not supported.\n    return new Promise((resolve, reject) => {\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      if (this.isCompressed) {\n        request.responseType = \"arraybuffer\";\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let cMapData;\n          if (this.isCompressed && request.response) {\n            cMapData = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            cMapData = stringToBytes(request.responseText);\n          }\n          if (cMapData) {\n            resolve({ cMapData, compressionType });\n            return;\n          }\n        }\n        reject(new Error(request.statusText));\n      };\n\n      request.send(null);\n    });\n  }\n}\n\nclass DOMSVGFactory {\n  create(width, height) {\n    assert(width > 0 && height > 0, \"Invalid SVG dimensions\");\n\n    const svg = document.createElementNS(SVG_NS, \"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", width + \"px\");\n    svg.setAttribute(\"height\", height + \"px\");\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n    return svg;\n  }\n\n  createElement(type) {\n    assert(typeof type === \"string\", \"Invalid SVG element type\");\n\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg);\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\n/**\n * Gets the file name from a given URL.\n * @param {string} url\n */\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isFetchSupported() {\n  return (\n    typeof fetch !== \"undefined\" &&\n    typeof Response !== \"undefined\" &&\n    \"body\" in Response.prototype &&\n    typeof ReadableStream !== \"undefined\"\n  );\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * @param {string} src\n * @returns {Promise<void>}\n */\nfunction loadScript(src) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = resolve;\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\nexport {\n  PageViewport,\n  RenderingCancelledException,\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  DEFAULT_LINK_REL,\n  BaseCanvasFactory,\n  DOMCanvasFactory,\n  BaseCMapReaderFactory,\n  DOMCMapReaderFactory,\n  DOMSVGFactory,\n  StatTimer,\n  isFetchSupported,\n  isValidFetchUrl,\n  loadScript,\n  deprecated,\n  PDFDateString,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {}\n\nclass MissingPDFException extends BaseException {}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {}\n\nconst NullCharactersRegExp = /\\x00/g;\n\n/**\n * @param {string} str\n */\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst rgbBuf = [\"rgb(\", 0, \",\", 0, \",\", 0, \")\"];\n\nclass Util {\n  // makeCssRgb() can be called thousands of times. Using ´rgbBuf` avoids\n  // creating many intermediate strings.\n  static makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join(\"\");\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\n// prettier-ignore\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\" and \"\\\" by \"\\(\", \"\\)\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([\\(\\)\\\\])/g, \"\\\\$1\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every(function (element, index) {\n    return element === arr2[index];\n  });\n}\n\nfunction getModificationDate(date = new Date(Date.now())) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    (date.getUTCDate() + 1).toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  // eslint-disable-next-line no-shadow\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], { type: contentType });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n        d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nexport {\n  BaseException,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VerbosityLevel,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MissingPDFException,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createPromiseCapability,\n  createObjectURL,\n  escapeString,\n  getModificationDate,\n  getVerbosityLevel,\n  info,\n  isArrayBuffer,\n  isArrayEqual,\n  isBool,\n  isNum,\n  isString,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  IsLittleEndianCached,\n  IsEvalSupportedCached,\n  removeNullCharacters,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for globalThis in legacy browsers.\n  // Support: IE11/Edge, Opera\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  const hasDOM = typeof window === \"object\" && typeof document === \"object\";\n  const userAgent =\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n  const isIE = /Trident/.test(userAgent);\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Provides support for ChildNode.remove in legacy browsers.\n  // Support: IE.\n  (function checkChildNodeRemove() {\n    if (!hasDOM) {\n      return;\n    }\n    if (typeof Element.prototype.remove !== \"undefined\") {\n      return;\n    }\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        // eslint-disable-next-line mozilla/avoid-removeChild\n        this.parentNode.removeChild(this);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.{add, remove}, with more than\n  // one parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListAddRemove() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.classList.add(\"testOne\", \"testTwo\");\n\n    if (\n      div.classList.contains(\"testOne\") === true &&\n      div.classList.contains(\"testTwo\") === true\n    ) {\n      return;\n    }\n    const OriginalDOMTokenListAdd = DOMTokenList.prototype.add;\n    const OriginalDOMTokenListRemove = DOMTokenList.prototype.remove;\n\n    DOMTokenList.prototype.add = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListAdd.call(this, token);\n      }\n    };\n    DOMTokenList.prototype.remove = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListRemove.call(this, token);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.toggle, with the optional\n  // \"force\" parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListToggle() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    if (div.classList.toggle(\"test\", 0) === false) {\n      return;\n    }\n\n    DOMTokenList.prototype.toggle = function (token) {\n      const force =\n        arguments.length > 1 ? !!arguments[1] : !this.contains(token);\n      return this[force ? \"add\" : \"remove\"](token), force;\n    };\n  })();\n\n  // Provides support for window.history.{pushState, replaceState}, with the\n  // `url` parameter set to `undefined`, without breaking the document URL.\n  // Support: IE\n  (function checkWindowHistoryPushStateReplaceState() {\n    if (!hasDOM || !isIE) {\n      return;\n    }\n    const OriginalPushState = window.history.pushState;\n    const OriginalReplaceState = window.history.replaceState;\n\n    window.history.pushState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalPushState.apply(this, args);\n    };\n    window.history.replaceState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalReplaceState.apply(this, args);\n    };\n  })();\n\n  // Provides support for String.prototype.startsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringStartsWith() {\n    if (String.prototype.startsWith) {\n      return;\n    }\n    require(\"core-js/es/string/starts-with.js\");\n  })();\n\n  // Provides support for String.prototype.endsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringEndsWith() {\n    if (String.prototype.endsWith) {\n      return;\n    }\n    require(\"core-js/es/string/ends-with.js\");\n  })();\n\n  // Provides support for String.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringIncludes() {\n    if (String.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/string/includes.js\");\n  })();\n\n  // Provides support for Array.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<47\n  (function checkArrayIncludes() {\n    if (Array.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/array/includes.js\");\n  })();\n\n  // Provides support for Array.from in legacy browsers.\n  // Support: IE\n  (function checkArrayFrom() {\n    if (Array.from) {\n      return;\n    }\n    require(\"core-js/es/array/from.js\");\n  })();\n\n  // Provides support for Object.assign in legacy browsers.\n  // Support: IE\n  (function checkObjectAssign() {\n    if (Object.assign) {\n      return;\n    }\n    require(\"core-js/es/object/assign.js\");\n  })();\n\n  // Provides support for Object.fromEntries in legacy browsers.\n  // Support: IE, Chrome<73\n  (function checkObjectFromEntries() {\n    if (Object.fromEntries) {\n      return;\n    }\n    require(\"core-js/es/object/from-entries.js\");\n  })();\n\n  // Provides support for Math.log2 in legacy browsers.\n  // Support: IE, Chrome<38\n  (function checkMathLog2() {\n    if (Math.log2) {\n      return;\n    }\n    Math.log2 = require(\"core-js/es/math/log2.js\");\n  })();\n\n  // Provides support for Number.isNaN in legacy browsers.\n  // Support: IE.\n  (function checkNumberIsNaN() {\n    if (Number.isNaN) {\n      return;\n    }\n    Number.isNaN = require(\"core-js/es/number/is-nan.js\");\n  })();\n\n  // Provides support for Number.isInteger in legacy browsers.\n  // Support: IE, Chrome<34\n  (function checkNumberIsInteger() {\n    if (Number.isInteger) {\n      return;\n    }\n    Number.isInteger = require(\"core-js/es/number/is-integer.js\");\n  })();\n\n  // Provides support for TypedArray.prototype.slice in legacy browsers.\n  // Support: IE\n  (function checkTypedArraySlice() {\n    if (Uint8Array.prototype.slice) {\n      return;\n    }\n    require(\"core-js/es/typed-array/slice\");\n  })();\n\n  // Support: IE, Safari<11, Chrome<63\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise && globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: IE\n  (function checkURL() {\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n      // Prevent \"require is not a function\" errors in development mode,\n      // since the `URL` constructor should be available in modern browers.\n      return;\n    } else if (!PDFJSDev.test(\"GENERIC\")) {\n      // The `URL` constructor is assumed to be available in the extension\n      // builds.\n      return;\n    } else if (PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders don't use the `URL` constructor, so it\n      // doesn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    globalThis.URL = require(\"core-js/web/url.js\");\n  })();\n\n  // Support: IE, Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    let isReadableStreamSupported = false;\n\n    if (typeof ReadableStream !== \"undefined\") {\n      // MS Edge may say it has ReadableStream but they are not up to spec yet.\n      try {\n        // eslint-disable-next-line no-new\n        new ReadableStream({\n          start(controller) {\n            controller.close();\n          },\n        });\n        isReadableStreamSupported = true;\n      } catch (e) {\n        // The ReadableStream constructor cannot be used.\n      }\n    }\n    if (isReadableStreamSupported) {\n      return;\n    }\n    globalThis.ReadableStream = require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n\n  // We want to support Map iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkMapEntries() {\n    if (globalThis.Map && globalThis.Map.prototype.entries) {\n      return;\n    }\n    globalThis.Map = require(\"core-js/es/map/index.js\");\n  })();\n\n  // We want to support Set iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkSetEntries() {\n    if (globalThis.Set && globalThis.Set.prototype.entries) {\n      return;\n    }\n    globalThis.Set = require(\"core-js/es/set/index.js\");\n  })();\n\n  // Support: IE<11, Safari<8, Chrome<36\n  (function checkWeakMap() {\n    if (globalThis.WeakMap) {\n      return;\n    }\n    globalThis.WeakMap = require(\"core-js/es/weak-map/index.js\");\n  })();\n\n  // Support: IE11\n  (function checkWeakSet() {\n    if (globalThis.WeakSet) {\n      return;\n    }\n    globalThis.WeakSet = require(\"core-js/es/weak-set/index.js\");\n  })();\n\n  // Provides support for String.codePointAt in legacy browsers.\n  // Support: IE11.\n  (function checkStringCodePointAt() {\n    if (String.prototype.codePointAt) {\n      return;\n    }\n    require(\"core-js/es/string/code-point-at.js\");\n  })();\n\n  // Provides support for String.fromCodePoint in legacy browsers.\n  // Support: IE11.\n  (function checkStringFromCodePoint() {\n    if (String.fromCodePoint) {\n      return;\n    }\n    String.fromCodePoint = require(\"core-js/es/string/from-code-point.js\");\n  })();\n\n  // Support: IE\n  (function checkSymbol() {\n    if (globalThis.Symbol) {\n      return;\n    }\n    require(\"core-js/es/symbol/index.js\");\n  })();\n\n  // Provides support for String.prototype.padStart in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadStart() {\n    if (String.prototype.padStart) {\n      return;\n    }\n    require(\"core-js/es/string/pad-start.js\");\n  })();\n\n  // Provides support for String.prototype.padEnd in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadEnd() {\n    if (String.prototype.padEnd) {\n      return;\n    }\n    require(\"core-js/es/string/pad-end.js\");\n  })();\n\n  // Provides support for Object.values in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectValues() {\n    if (Object.values) {\n      return;\n    }\n    Object.values = require(\"core-js/es/object/values.js\");\n  })();\n\n  // Provides support for Object.entries in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectEntries() {\n    if (Object.entries) {\n      return;\n    }\n    Object.entries = require(\"core-js/es/object/entries.js\");\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  PasswordException,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport { NodeCanvasFactory, NodeCMapReaderFactory } from \"./node_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { apiCompatibilityParams } from \"./api_compatibility.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { WebGLContext } from \"./webgl.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\nconst DefaultCanvasFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params - The document initialization\n *   parameters. The \"url\" key is always present.\n * @returns {Promise} A promise, which is resolved with an instance of\n *   {IPDFStream}.\n * @ignore\n */\n\n/**\n * @type IPDFStreamFactory\n * @private\n */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates an {IPDFStream} as an alternative PDF\n * data transport.\n *\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - The factory function\n *   that takes document initialization parameters (including a \"url\") and\n *   returns a promise which is resolved with an instance of {IPDFStream}.\n * @ignore\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string} [url] - The URL of the PDF.\n * @property {TypedArray|Array<number>|string} [data] - Binary PDF data. Use\n *    typed arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use `atob()` to convert it to a binary string first.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via `@font-face` rules. If disabled, fonts will\n *   be rendered using a built-in font renderer that constructs the glyphs with\n *   primitive path commands. The default value is `false`.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Object<string, boolean>} streamTypes - Used stream types in the\n *   document (an item is set to true if specific stream ID was used in the\n *   document).\n * @property {Object<string, boolean>} fontTypes - Used font types in the\n *   document (an item is set to true if specific font ID was used in the\n *   document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src -\n *   Can be a URL to where a PDF file is located, a typed array (Uint8Array)\n *   already populated with data or parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\") {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either Uint8Array, string or a parameter object\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    if (key === \"url\" && typeof window !== \"undefined\") {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === \"range\") {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === \"worker\") {\n      worker = source[key];\n      continue;\n    } else if (key === \"data\" && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      const pdfBytes = source[key];\n      if (typeof pdfBytes === \"string\") {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (\n        typeof pdfBytes === \"object\" &&\n        pdfBytes !== null &&\n        !isNaN(pdfBytes.length)\n      ) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error(\n          \"Invalid PDF binary data: either typed array, \" +\n            \"string or array-like object is expected in the \" +\n            \"data property.\"\n        );\n      }\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory =\n    params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = apiCompatibilityParams.disableFontFace || false;\n  }\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(\n        worker,\n        params,\n        rangeTransport,\n        docId\n      );\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length: params.length,\n              initialData: params.initialData,\n              progressiveDone: params.progressiveDone,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!params.data) {\n          networkStream = createPDFNetworkStream({\n            url: params.url,\n            length: params.length,\n            httpHeaders: params.httpHeaders,\n            withCredentials: params.withCredentials,\n            rangeChunkSize: params.rangeChunkSize,\n            disableRange: params.disableRange,\n            disableStream: params.disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          messageHandler.postMessageTransfers = worker.postMessageTransfers;\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId - Unique document ID, used in `MessageHandler`.\n * @returns {Promise} A promise that is resolved when the worker ID of the\n *   `MessageHandler` is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error(\"Worker was destroyed\"));\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n  }\n  return worker.messageHandler\n    .sendWithPromise(\"GetDocRequest\", {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      postMessageTransfers: worker.postMessageTransfers,\n      docBaseUrl: source.docBaseUrl,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n      fontExtraProperties: source.fontExtraProperties,\n    })\n    .then(function (workerId) {\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      return workerId;\n    });\n}\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n *\n * @typedef {Object} PDFDocumentLoadingTask\n * @property {string} docId - Unique identifier for the document loading task.\n * @property {boolean} destroyed - Whether the loading task is destroyed or not.\n * @property {function} [onPassword] - Callback to request a password if a wrong\n *   or no password was provided. The callback receives two parameters: a\n *   function that should be called with the new password, and a reason (see\n *   {@link PasswordResponses}).\n * @property {function} [onProgress] - Callback to be able to monitor the\n *   loading progress of the PDF file (necessary to implement e.g. a loading\n *   bar). The callback receives an {Object} with the properties `loaded`\n *   ({number}) and `total` ({number}) that indicate how many bytes are loaded.\n * @property {function} [onUnsupportedFeature] - Callback for when an\n *   unsupported feature is used in the PDF document. The callback receives an\n *   {@link UNSUPPORTED_FEATURES} argument.\n * @property {Promise<PDFDocumentProxy>} promise - Promise for document loading\n *   task completion.\n * @property {function} destroy - Abort all network requests and destroy\n *   the worker. Returns a promise that is resolved when destruction is\n *   completed.\n */\n\n/**\n * @type {any}\n * @ignore\n */\nconst PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  let nextDocumentId = 0;\n\n  /**\n   * The loading task controls the operations required to load a PDF document\n   * (such as network requests) and provides a way to listen for completion,\n   * after which individual pages can be rendered.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFDocumentLoadingTask {\n    constructor() {\n      this._capability = createPromiseCapability();\n      this._transport = null;\n      this._worker = null;\n\n      /**\n       * Unique identifier for the document loading task.\n       * @type {string}\n       */\n      this.docId = \"d\" + nextDocumentId++;\n\n      /**\n       * Whether the loading task is destroyed or not.\n       * @type {boolean}\n       */\n      this.destroyed = false;\n\n      /**\n       * Callback to request a password if a wrong or no password was provided.\n       * The callback receives two parameters: a function that should be called\n       * with the new password, and a reason (see {@link PasswordResponses}).\n       * @type {function}\n       */\n      this.onPassword = null;\n\n      /**\n       * Callback to be able to monitor the loading progress of the PDF file\n       * (necessary to implement e.g. a loading bar). The callback receives\n       * an {Object} with the properties `loaded` ({number}) and `total`\n       * ({number}) that indicate how many bytes are loaded.\n       * @type {function}\n       */\n      this.onProgress = null;\n\n      /**\n       * Callback for when an unsupported feature is used in the PDF document.\n       * The callback receives an {@link UNSUPPORTED_FEATURES} argument.\n       * @type {function}\n       */\n      this.onUnsupportedFeature = null;\n    }\n\n    /**\n     * Promise for document loading task completion.\n     * @type {Promise<PDFDocumentProxy>}\n     */\n    get promise() {\n      return this._capability.promise;\n    }\n\n    /**\n     * @returns {Promise<void>} A promise that is resolved when destruction is\n     *   completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      const transportDestroyed = !this._transport\n        ? Promise.resolve()\n        : this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    }\n  }\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   * @param {boolean} [progressiveDone]\n   */\n  constructor(length, initialData, progressiveDone = false) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {string} A (not guaranteed to be) unique ID to identify a PDF.\n   */\n  get fingerprint() {\n    return this._pdfInfo.fingerprint;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {{num: number, gen: number}} ref - The page reference. Must have\n   *   the `num` and `gen` properties.\n   * @returns {Promise<{num: number, gen: number}>} A promise that is resolved\n   *   with the page index (starting from zero) that is associated with the\n   *   reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any>>} A promise that is resolved with all\n   *   information of the given named destination.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} of all the JavaScript strings in the name tree, or `null`\n   *   if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @returns {Promise<TypedArray>} A promise that is resolved with a\n   *   {TypedArray} that has the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * @returns {Promise<PDFDocumentStats>} A promise this is resolved with\n   *   current statistics about document structures (see\n   *   {@link PDFDocumentStats}).\n   */\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup() {\n    return this._transport.startCleanup();\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are either needed in the viewer and/or\n   *   whose default values may be affected by the `apiCompatibilityParams`.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @param {AnnotationStorage} annotationStorage - Storage for annotation\n   *   data in forms.\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument(annotationStorage) {\n    return this._transport.saveDocument(annotationStorage);\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - Replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - Do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem>} items - Array of {@link TextItem} objects.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *   can be either 'display' (viewable annotations) or 'print' (printable\n *   annotations). If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display' or 'print'.\n *   The default value is 'display'.\n * @property {boolean} [enableWebGL] - Enables WebGL accelerated rendering for\n *   some operations. The default value is `false`.\n * @property {boolean} [renderInteractiveForms] - Whether or not interactive\n *   form elements are rendered in the display layer. If so, we do not render\n *   them on the canvas as well.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {Object} [imageLayer] - An object that has `beginLayout`,\n *   `endLayout` and `appendImage` functions.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object | string} [background] - Background to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n * @property {AnnotationStorage} [annotationStorage] - Storage for annotation\n *   data in forms.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {Object} The reference that points to this page. It has `num` and\n   *   `gen` properties.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = null } = {}) {\n    if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n      this.annotationsPromise = this._transport.getAnnotations(\n        this._pageIndex,\n        intent\n      );\n      this.annotationsIntent = intent;\n    }\n    return this.annotationsPromise;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    enableWebGL = false,\n    renderInteractiveForms = false,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    annotationStorage = null,\n    optionalContentConfigPromise = null,\n  }) {\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const renderingIntent = intent === \"print\" ? \"print\" : \"display\";\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance =\n      canvasFactory ||\n      new DefaultCanvasFactory({ ownerDocument: this._ownerDocument });\n    const webGLContext = new WebGLContext({\n      enable: enableWebGL,\n    });\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        renderInteractiveForms: renderInteractiveForms === true,\n        annotationStorage:\n          (annotationStorage && annotationStorage.getAll()) || null,\n      });\n    }\n\n    const complete = error => {\n      const i = intentState.renderTasks.indexOf(internalRenderTask);\n      if (i >= 0) {\n        intentState.renderTasks.splice(i, 1);\n      }\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || renderingIntent === \"print\") {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error,\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      webGLContext,\n      useRequestAnimationFrame: renderingIntent !== \"print\",\n      pdfBug: this._pdfBug,\n    });\n\n    if (!intentState.renderTasks) {\n      intentState.renderTasks = [];\n    }\n    intentState.renderTasks.push(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents page's operator list.\n   */\n  getOperatorList() {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        const i = intentState.renderTasks.indexOf(opListTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n      }\n    }\n\n    const renderingIntent = \"oplist\";\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      intentState.renderTasks = [];\n      intentState.renderTasks.push(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n      });\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n\n    const waitOn = [];\n    for (const [intent, intentState] of this._intentStates) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intent === \"oplist\") {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.length !== 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n    this.objs.clear();\n    this.annotationsPromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, intent) {\n    const intentState = this._intentStates.get(intent);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (let i = 0; i < intentState.renderTasks.length; i++) {\n      intentState.renderTasks[i].operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList(args) {\n    assert(\n      args.intent,\n      'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.'\n    );\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      args\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(args.intent);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (let i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.'\n    );\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.length !== 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(\n      new AbortException(reason && reason.message)\n    );\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [intent, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(intent);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor(defer = true) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) {\n        // already cloned the object\n        return cloned.get(value);\n      }\n      let buffer, result;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        const transferable = transfers && transfers.includes(buffer);\n        if (transferable) {\n          result = new value.constructor(\n            buffer,\n            value.byteOffset,\n            value.byteLength\n          );\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (const i in value) {\n        let desc,\n          p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n        if (typeof desc.value === \"function\") {\n          if (value.hasOwnProperty && value.hasOwnProperty(i)) {\n            throw new Error(\n              `LoopbackPort.postMessage - cannot clone: ${value[i]}`\n            );\n          }\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(listener => {\n        listener.call(this, { data: obj });\n      });\n      return;\n    }\n\n    const cloned = new WeakMap();\n    const e = { data: cloneValue(obj) };\n    this._deferred.then(() => {\n      this._listeners.forEach(listener => {\n        listener.call(this, e);\n      });\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level; the\n *   constants from {@link VerbosityLevel} should be used.\n */\n\n/** @type {any} */\nconst PDFWorker = (function PDFWorkerClosure() {\n  const pdfWorkerPorts = new WeakMap();\n  let isWorkerDisabled = false;\n  let fallbackWorkerSrc;\n  let nextFakeWorkerId = 0;\n  let fakeWorkerCapability;\n\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n    // eslint-disable-next-line no-undef\n    if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n      // Workers aren't supported in Node.js, force-disabling them there.\n      isWorkerDisabled = true;\n\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"LIB\")) {\n        fallbackWorkerSrc = \"../pdf.worker.js\";\n      } else {\n        fallbackWorkerSrc = \"./pdf.worker.js\";\n      }\n    } else if (typeof document === \"object\" && \"currentScript\" in document) {\n      const pdfjsFilePath =\n        document.currentScript && document.currentScript.src;\n      if (pdfjsFilePath) {\n        fallbackWorkerSrc = pdfjsFilePath.replace(\n          /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n          \".worker$1$2\"\n        );\n      }\n    }\n  }\n\n  function getWorkerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (typeof fallbackWorkerSrc !== \"undefined\") {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  function getMainThreadWorkerMessageHandler() {\n    let mainWorkerMessageHandler;\n    try {\n      mainWorkerMessageHandler =\n        globalThis.pdfjsWorker && globalThis.pdfjsWorker.WorkerMessageHandler;\n    } catch (ex) {\n      /* Ignore errors. */\n    }\n    return mainWorkerMessageHandler || null;\n  }\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    if (fakeWorkerCapability) {\n      return fakeWorkerCapability.promise;\n    }\n    fakeWorkerCapability = createPromiseCapability();\n\n    const loader = async function () {\n      const mainWorkerMessageHandler = getMainThreadWorkerMessageHandler();\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        if (typeof SystemJS !== \"object\") {\n          // Manually load SystemJS, since it's only necessary for fake workers.\n          await loadScript(\"../node_modules/systemjs/dist/system.js\");\n          await loadScript(\"../systemjs.config.js\");\n        }\n        const worker = await SystemJS.import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(getWorkerSrc());\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(getWorkerSrc());\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n    loader().then(fakeWorkerCapability.resolve, fakeWorkerCapability.reject);\n\n    return fakeWorkerCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = \"importScripts('\" + url + \"');\";\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  /**\n   * PDF.js web worker abstraction that controls the instantiation of PDF\n   * documents. Message handlers are used to pass information from the main\n   * thread to the worker thread and vice versa. If the creation of a web\n   * worker is not possible, a \"fake\" worker will be used instead.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFWorker {\n    /**\n     * @param {PDFWorkerParameters} params - Worker initialization parameters.\n     */\n    constructor({\n      name = null,\n      port = null,\n      verbosity = getVerbosityLevel(),\n    } = {}) {\n      if (port && pdfWorkerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port\");\n      }\n\n      this.name = name;\n      this.destroyed = false;\n      this.postMessageTransfers = true;\n      this.verbosity = verbosity;\n\n      this._readyCapability = createPromiseCapability();\n      this._port = null;\n      this._webWorker = null;\n      this._messageHandler = null;\n\n      if (port) {\n        pdfWorkerPorts.set(port, this);\n        this._initializeFromPort(port);\n        return;\n      }\n      this._initialize();\n    }\n\n    get promise() {\n      return this._readyCapability.promise;\n    }\n\n    get port() {\n      return this._port;\n    }\n\n    get messageHandler() {\n      return this._messageHandler;\n    }\n\n    _initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n      this._messageHandler.on(\"ready\", function () {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    }\n\n    _initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if (\n        typeof Worker !== \"undefined\" &&\n        !isWorkerDisabled &&\n        !getMainThreadWorkerMessageHandler()\n      ) {\n        let workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (\n            typeof PDFJSDev !== \"undefined\" &&\n            PDFJSDev.test(\"GENERIC\") &&\n            !isSameOrigin(window.location.href, workerSrc)\n          ) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href\n            );\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          const worker = new Worker(workerSrc);\n          const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n          const terminateEarly = () => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          const onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener(\"error\", onWorkerError);\n\n          messageHandler.on(\"test\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            if (data) {\n              // supportTypedArray\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send(\"configure\", {\n                verbosity: this.verbosity,\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on(\"ready\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          const sendTest = () => {\n            const testObj = new Uint8Array([\n              this.postMessageTransfers ? 255 : 0,\n            ]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send(\"test\", testObj, [testObj.buffer]);\n            } catch (ex) {\n              warn(\"Cannot use postMessage transfers.\");\n              testObj[0] = 0;\n              messageHandler.send(\"test\", testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info(\"The worker has been disabled.\");\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    }\n\n    _setupFakeWorker() {\n      if (!isWorkerDisabled) {\n        warn(\"Setting up fake worker.\");\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal()\n        .then(WorkerMessageHandler => {\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            return;\n          }\n          const port = new LoopbackPort();\n          this._port = port;\n\n          // All fake workers use the same port, making id unique.\n          const id = \"fake\" + nextFakeWorkerId++;\n\n          // If the main thread is our worker, setup the handling for the\n          // messages -- the main thread sends to it self.\n          const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n          WorkerMessageHandler.setup(workerHandler, port);\n\n          const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n          this._messageHandler = messageHandler;\n          this._readyCapability.resolve();\n          // Send global setting, e.g. verbosity level.\n          messageHandler.send(\"configure\", {\n            verbosity: this.verbosity,\n          });\n        })\n        .catch(reason => {\n          this._readyCapability.reject(\n            new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n          );\n        });\n    }\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    }\n\n    /**\n     * @param {PDFWorkerParameters} params - The worker initialization\n     *   parameters.\n     */\n    static fromPort(params) {\n      if (!params || !params.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      if (pdfWorkerPorts.has(params.port)) {\n        return pdfWorkerPorts.get(params.port);\n      }\n      return new PDFWorker(params);\n    }\n\n    static getWorkerSrc() {\n      return getWorkerSrc();\n    }\n  }\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n    });\n    this._params = params;\n    this.CMapReaderFactory = new params.CMapReaderFactory({\n      baseUrl: params.cMapUrl,\n      isCompressed: params.cMapPacked,\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    this.pageCache.forEach(function (page) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    });\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.fontLoader.clear();\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total,\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n      }\n      if (!(reason instanceof Error)) {\n        const msg = \"DocException - expected a valid Error.\";\n        if (\n          typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")\n        ) {\n          unreachable(msg);\n        } else {\n          warn(msg);\n        }\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length,\n        });\n      }\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.pageCache[data.pageIndex];\n      page._startRenderPage(data.transparency, data.intent);\n    });\n\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const [id, type, exportedData] = data;\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (\n            params.pdfBug &&\n            globalThis.FontInspector &&\n            globalThis.FontInspector.enabled\n          ) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (\n            imageData &&\n            \"data\" in imageData &&\n            imageData.data.length > MAX_IMAGE_SIZE_TO_STORE\n          ) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n      return undefined;\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total,\n        });\n      }\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"FetchBuiltInCMap\", (data, sink) => {\n      if (this.destroyed) {\n        sink.error(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      let fetched = false;\n\n      sink.onPull = () => {\n        if (fetched) {\n          sink.close();\n          return;\n        }\n        fetched = true;\n\n        this.CMapReaderFactory.fetch(data)\n          .then(function (builtInCMap) {\n            sink.enqueue(builtInCMap, 1, [builtInCMap.cMapData.buffer]);\n          })\n          .catch(function (reason) {\n            sink.error(reason);\n          });\n      };\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.ownerDocument,\n          this._params.pdfBug\n        );\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler\n      .sendWithPromise(\"GetPageIndex\", {\n        ref,\n      })\n      .catch(function (reason) {\n        return Promise.reject(new Error(reason));\n      });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  saveDocument(annotationStorage) {\n    return this.messageHandler\n      .sendWithPromise(\"SaveDocument\", {\n        numPages: this._numPages,\n        annotationStorage:\n          (annotationStorage && annotationStorage.getAll()) || null,\n        filename: this._fullReader ? this._fullReader.filename : null,\n      })\n      .finally(() => {\n        if (annotationStorage) {\n          annotationStorage.resetModified();\n        }\n      });\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader\n            ? this._fullReader.filename\n            : null,\n        };\n      });\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  startCleanup() {\n    return this.messageHandler.sendWithPromise(\"Cleanup\", null).then(() => {\n      for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n        const page = this.pageCache[i];\n        if (page) {\n          const cleanupSuccessful = page.cleanup();\n\n          if (!cleanupSuccessful) {\n            throw new Error(\n              `startCleanup: Page ${i + 1} is currently rendering.`\n            );\n          }\n        }\n      }\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n    });\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      disableFontFace: params.disableFontFace,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj ? obj.resolved : false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nconst InternalRenderTask = (function InternalRenderTaskClosure() {\n  const canvasInRendering = new WeakSet();\n\n  // eslint-disable-next-line no-shadow\n  class InternalRenderTask {\n    constructor({\n      callback,\n      params,\n      objs,\n      commonObjs,\n      operatorList,\n      pageIndex,\n      canvasFactory,\n      webGLContext,\n      useRequestAnimationFrame = false,\n      pdfBug = false,\n    }) {\n      this.callback = callback;\n      this.params = params;\n      this.objs = objs;\n      this.commonObjs = commonObjs;\n      this.operatorListIdx = null;\n      this.operatorList = operatorList;\n      this._pageIndex = pageIndex;\n      this.canvasFactory = canvasFactory;\n      this.webGLContext = webGLContext;\n      this._pdfBug = pdfBug;\n\n      this.running = false;\n      this.graphicsReadyCallback = null;\n      this.graphicsReady = false;\n      this._useRequestAnimationFrame =\n        useRequestAnimationFrame === true && typeof window !== \"undefined\";\n      this.cancelled = false;\n      this.capability = createPromiseCapability();\n      this.task = new RenderTask(this);\n      // caching this-bound methods\n      this._continueBound = this._continue.bind(this);\n      this._scheduleNextBound = this._scheduleNext.bind(this);\n      this._nextBound = this._next.bind(this);\n      this._canvas = params.canvasContext.canvas;\n    }\n\n    get completed() {\n      return this.capability.promise.catch(function () {\n        // Ignoring errors, since we only want to know when rendering is\n        // no longer pending.\n      });\n    }\n\n    initializeGraphics({ transparency = false, optionalContentConfig }) {\n      if (this.cancelled) {\n        return;\n      }\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            \"Cannot use the same canvas during multiple render() operations. \" +\n              \"Use different canvas or ensure previous operations were \" +\n              \"cancelled or completed.\"\n          );\n        }\n        canvasInRendering.add(this._canvas);\n      }\n\n      if (\n        this._pdfBug &&\n        globalThis.StepperManager &&\n        globalThis.StepperManager.enabled\n      ) {\n        this.stepper = globalThis.StepperManager.create(this._pageIndex);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n      const {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      } = this.params;\n\n      this.gfx = new CanvasGraphics(\n        canvasContext,\n        this.commonObjs,\n        this.objs,\n        this.canvasFactory,\n        this.webGLContext,\n        imageLayer,\n        optionalContentConfig\n      );\n      this.gfx.beginDrawing({\n        transform,\n        viewport,\n        transparency,\n        background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    }\n\n    cancel(error = null) {\n      this.running = false;\n      this.cancelled = true;\n      if (this.gfx) {\n        this.gfx.endDrawing();\n      }\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n      this.callback(\n        error ||\n          new RenderingCancelledException(\n            `Rendering cancelled, page ${this._pageIndex + 1}`,\n            \"canvas\"\n          )\n      );\n    }\n\n    operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    }\n\n    _continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    }\n\n    _scheduleNext() {\n      if (this._useRequestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          this._nextBound().catch(this.cancel.bind(this));\n        });\n      } else {\n        Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this));\n      }\n    }\n\n    async _next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(\n        this.operatorList,\n        this.operatorListIdx,\n        this._continueBound,\n        this.stepper\n      );\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    }\n  }\n  return InternalRenderTask;\n})();\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  setPDFNetworkStreamFactory,\n  version,\n  build,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    this.nativeFontFaces.forEach(nativeFontFace => {\n      this._document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: UNSUPPORTED_FEATURES.errorFontLoadNative,\n          });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const supported =\n      typeof this._document !== \"undefined\" && !!this._document.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", supported);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = this._document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        const span = this._document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        this._document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature = null,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(new Uint8Array(this.data));\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds, current;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      if (this._onUnsupportedFeature) {\n        this._onUnsupportedFeature({\n          featureId: UNSUPPORTED_FEATURES.errorFontGetPath,\n        });\n      }\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      let args,\n        js = \"\";\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.args !== undefined) {\n          args = current.args.join(\",\");\n        } else {\n          args = \"\";\n        }\n        js += \"c.\" + current.cmd + \"(\" + args + \");\\n\";\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\"c\", \"size\", js));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n/* eslint no-var: error */\n\nimport { BaseCanvasFactory, BaseCMapReaderFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCanvasFactory\");\n  }\n};\n\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCMapReaderFactory\");\n  }\n};\n\nif ((typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS) {\n  NodeCanvasFactory = class extends BaseCanvasFactory {\n    create(width, height) {\n      if (width <= 0 || height <= 0) {\n        throw new Error(\"Invalid canvas size\");\n      }\n      const Canvas = __non_webpack_require__(\"canvas\");\n      const canvas = Canvas.createCanvas(width, height);\n      return {\n        canvas,\n        context: canvas.getContext(\"2d\"),\n      };\n    }\n  };\n\n  NodeCMapReaderFactory = class extends BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return new Promise((resolve, reject) => {\n        const fs = __non_webpack_require__(\"fs\");\n        fs.readFile(url, (error, data) => {\n          if (error || !data) {\n            reject(new Error(error));\n            return;\n          }\n          resolve({ cMapData: new Uint8Array(data), compressionType });\n        });\n      });\n    }\n  };\n}\n\nexport { NodeCanvasFactory, NodeCMapReaderFactory };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._modified = false;\n\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable efffects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists\n   * or store and return the default value\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getOrCreateValue(key, defaultValue) {\n    if (this._storage.has(key)) {\n      return this._storage.get(key);\n    }\n\n    this._storage.set(key, defaultValue);\n    return defaultValue;\n  }\n\n  /**\n   * Set the value for a given key\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    if (this._storage.get(key) !== value) {\n      this._setModified();\n    }\n    this._storage.set(key, value);\n  }\n\n  getAll() {\n    if (this._storage.size === 0) {\n      return null;\n    }\n    return Object.fromEntries(this._storage);\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  /**\n   * @private\n   */\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n}\n\nexport { AnnotationStorage };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"../shared/is_node.js\";\n\nconst compatibilityParams = Object.create(null);\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  // Support: Node.js\n  (function checkFontFace() {\n    // Node.js is missing native support for `@font-face`.\n    if (isNodeJS) {\n      compatibilityParams.disableFontFace = true;\n    }\n  })();\n}\nconst apiCompatibilityParams = Object.freeze(compatibilityParams);\n\nexport { apiCompatibilityParams };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { getShadingPatternFromIR, TilingPattern } from \"./pattern_helper.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, \"mozCurrentTransform\", {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0],\n          b = m[1],\n          c = m[2],\n          d = m[3],\n          e = m[4],\n          f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc,\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5],\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * -sinValue + m[2] * cosValue,\n        m[1] * -sinValue + m[3] * cosValue,\n        m[4],\n        m[5],\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  // eslint-disable-next-line no-shadow\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(\n      id,\n      width,\n      height,\n      trackTransform\n    ) {\n      var canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (var id in this.cache) {\n        var canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width,\n    height = imgData.height;\n  var i,\n    j,\n    j0,\n    width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  // prettier-ignore\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height),\n    pos = 0,\n    ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128,\n      elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p],\n      p0 = p,\n      pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      var o = outlines[k];\n      c.moveTo(o[0], o[1]);\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  // eslint-disable-next-line no-shadow\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n    this.transferMaps = null;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\n/**\n * @type {any}\n */\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  // eslint-disable-next-line no-shadow\n  function CanvasGraphics(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    webGLContext,\n    imageLayer,\n    optionalContentConfig\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData, transferMaps = null) {\n    if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0,\n      destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n    if (transferMaps) {\n      switch (transferMaps.length) {\n        case 1:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[0];\n          transferMapBlue = transferMaps[0];\n          transferMapGray = transferMaps[0];\n          break;\n        case 4:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[1];\n          transferMapBlue = transferMaps[2];\n          transferMapGray = transferMaps[3];\n          break;\n      }\n    }\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xffffffff;\n      var black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n      if (transferMapGray) {\n        if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n          [white, black] = [black, white];\n        }\n      }\n\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          let k = 0;\n          var kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = srcByte & 128 ? white : black;\n            dest32[destPos++] = srcByte & 64 ? white : black;\n            dest32[destPos++] = srcByte & 32 ? white : black;\n            dest32[destPos++] = srcByte & 16 ? white : black;\n            dest32[destPos++] = srcByte & 8 ? white : black;\n            dest32[destPos++] = srcByte & 4 ? white : black;\n            dest32[destPos++] = srcByte & 2 ? white : black;\n            dest32[destPos++] = srcByte & 1 ? white : black;\n          }\n          for (; k < kEnd; k++) {\n            if (mask === 0) {\n              srcByte = src[srcPos++];\n              mask = 128;\n            }\n\n            dest32[destPos++] = srcByte & mask ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--; ) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < destPos; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = elem & mask ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = [\n      \"strokeStyle\",\n      \"fillStyle\",\n      \"fillRule\",\n      \"globalAlpha\",\n      \"lineWidth\",\n      \"lineCap\",\n      \"lineJoin\",\n      \"miterLimit\",\n      \"globalCompositeOperation\",\n      \"font\",\n    ];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = \"#000000\";\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRule = \"nonzero\";\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"butt\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.font = \"10px sans-serif\";\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y =\n        maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n        maskData[i - 2] * 152 + // * 0.59 ....\n        maskData[i - 1] * 28; // * 0.11 ....\n      layerData[i] = transferMap\n        ? (layerData[i] * transferMap[y >> 8]) >> 8\n        : (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap\n  ) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === \"Luminosity\") {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(\n      smask.scaleX,\n      0,\n      0,\n      smask.scaleY,\n      smask.offsetX,\n      smask.offsetY\n    );\n\n    var backdrop = smask.backdrop || null;\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      const composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop,\n        },\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(\n      maskCtx,\n      layerCtx,\n      mask.width,\n      mask.height,\n      smask.subtype,\n      backdrop,\n      smask.transferMap\n    );\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  var LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n    beginDrawing({\n      transform,\n      viewport,\n      transparency = false,\n      background = null,\n    }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        var transparentCanvas = this.cachedCanvases.getCanvas(\n          \"transparent\",\n          width,\n          height,\n          true\n        );\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(\n          this.ctx,\n          this.compositeCtx.mozCurrentTransform\n        );\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n      operatorList,\n      executionStartIdx,\n      continueCallback,\n      stepper\n    ) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations =\n        argsArrayLen - i > EXECUTION_STEPS &&\n        typeof continueCallback === \"function\";\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          for (const depObjId of argsArray[i]) {\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      if (this.current.activeSMask !== null) {\n        this.endSMaskGroup();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value[0], value[1]);\n            break;\n          case \"CA\":\n            this.current.strokeAlpha = state[1];\n            break;\n          case \"ca\":\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case \"BM\":\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case \"SMask\":\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (\n                this.stateStack.length > 0 &&\n                this.stateStack[this.stateStack.length - 1].activeSMask ===\n                  this.current.activeSMask\n              ) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n          case \"TR\":\n            this.current.transferMaps = value;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = \"smaskGroupAt\" + this.groupLevel;\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      var groupCtx = this.current.resumeSMaskCtx;\n      var currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (\n        this.current.activeSMask !== null &&\n        (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n            this.current.activeSMask)\n      ) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this._cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this._cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x,\n        y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0 && ctx.lineWidth < this.getSinglePixelWidth()) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0 && ctx.lineWidth < this.getSinglePixelWidth()) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            ctx.moveTo(x, y);\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n            ctx.lineTo(x, y);\n            ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3],\n              x,\n              y\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(\n              x,\n              y,\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3]\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (this.contentVisible) {\n        if (\n          strokeColor &&\n          strokeColor.hasOwnProperty(\"type\") &&\n          strokeColor.type === \"Pattern\"\n        ) {\n          // for patterns, we transform to pattern space, calculate\n          // the pattern, call stroke, and restore to user space\n          ctx.save();\n          // The current transform will be replaced while building the pattern,\n          // but the line width needs to be adjusted by the current transform,\n          // so we must scale it. To properly fix this we should be using a\n          // pattern transform instead (see #10955).\n          const transform = ctx.mozCurrentTransform;\n          const scale = Util.singularValueDecompose2dScale(transform)[0];\n          ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n          ctx.lineWidth = Math.max(\n            this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n            this.current.lineWidth * scale\n          );\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          // Prevent drawing too thin lines by enforcing a minimum line width.\n          ctx.lineWidth = Math.max(\n            this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n            this.current.lineWidth\n          );\n          ctx.stroke();\n        }\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.contentVisible) {\n        if (this.pendingEOFill) {\n          ctx.fill(\"evenodd\");\n          this.pendingEOFill = false;\n        } else {\n          ctx.fill();\n        }\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n        warn(\"Invalid font matrix for font \" + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || \"sans-serif\";\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      var italic = fontObj.italic ? \"italic\" : \"normal\";\n      var typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      let browserFontSize = size;\n      if (size < MIN_FONT_SIZE) {\n        browserFontSize = MIN_FONT_SIZE;\n      } else if (size > MAX_FONT_SIZE) {\n        browserFontSize = MAX_FONT_SIZE;\n      }\n      this.current.fontSizeScale = size / browserFontSize;\n\n      this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar(character, x, y, patternTransform) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode =\n        textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(\n        textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n      );\n      const patternFill = current.patternFill && !font.missingFile;\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet || patternFill) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace || patternFill) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (patternTransform) {\n          ctx.setTransform.apply(ctx, patternTransform);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fill();\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fillText(character, x, y);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      const { context: ctx } = this.cachedCanvases.getCanvas(\n        \"isFontSubpixelAAEnabled\",\n        10,\n        10\n      );\n      ctx.scale(1.5, 1);\n      ctx.fillText(\"I\", 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return undefined;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var spacingDir = vertical ? 1 : -1;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace &&\n        !current.patternFill;\n\n      ctx.save();\n      let patternTransform;\n      if (current.patternFill) {\n        // TODO: Patterns are not applied correctly to text if a non-embedded\n        // font is used. E.g. issue 8111 and ShowText-ShadingPattern.pdf.\n        ctx.save();\n        const pattern = current.fillColor.getPattern(ctx, this);\n        patternTransform = ctx.mozCurrentTransform;\n        ctx.restore();\n        ctx.fillStyle = pattern;\n      }\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode =\n          current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          this._cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0,\n        i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          var measuredWidth =\n            ((ctx.measureText(character).width * 1000) / fontSize) *\n            fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            var characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX +=\n              (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY, patternTransform);\n            if (accent) {\n              scaledAccentX =\n                scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n              scaledAccentY =\n                scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n              this.paintChar(\n                accent.fontChar,\n                scaledAccentX,\n                scaledAccentY,\n                patternTransform\n              );\n            }\n          }\n        }\n\n        var charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var spacingDir = font.vertical ? 1 : -1;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this._cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = (spacingDir * glyph * fontSize) / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        if (this.contentVisible) {\n          this.processingType3 = glyph;\n          this.save();\n          ctx.scale(fontSize, fontSize);\n          ctx.transform.apply(ctx, fontMatrix);\n          this.executeOperatorList(operatorList);\n          this.restore();\n        }\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(\n      xWidth,\n      yWidth,\n      llx,\n      lly,\n      urx,\n      ury\n    ) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === \"TilingPattern\") {\n        var color = IR[1];\n        var baseTransform =\n          this.baseTransform || this.ctx.mozCurrentTransform.slice();\n        var canvasGraphicsFactory = {\n          createCanvasGraphics: ctx => {\n            return new CanvasGraphics(\n              ctx,\n              this.commonObjs,\n              this.objs,\n              this.canvasFactory,\n              this.webGLContext\n            );\n          },\n        };\n        pattern = new TilingPattern(\n          IR,\n          color,\n          this.ctx,\n          canvasGraphicsFactory,\n          baseTransform\n        );\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      unreachable(\"Should not call beginInlineImage\");\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      unreachable(\"Should not call beginImageData\");\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(\n      matrix,\n      bbox\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (bbox) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info(\"TODO: Support non-isolated groups.\");\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn(\"Knockout groups not supported.\");\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error(\"Bounding box is required.\");\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n        group.bbox,\n        currentCtx.mozCurrentTransform\n      );\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [\n        0,\n        0,\n        currentCtx.canvas.width,\n        currentCtx.canvas.height,\n      ];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1,\n        scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = \"groupAt\" + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n      }\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(\n      rect,\n      transform,\n      matrix\n    ) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n      var width = img.width,\n        height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat(\n      imgData,\n      scaleX,\n      skewX = 0,\n      skewY = 0,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(\n          scaleX,\n          skewX,\n          skewY,\n          scaleY,\n          positions[i],\n          positions[i + 1]\n        );\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(\n      images\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width,\n          height = image.height;\n\n        var maskCanvas = this.cachedCanvases.getCanvas(\n          \"maskCanvas\",\n          width,\n          height\n        );\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = \"source-in\";\n\n        maskCtx.fillStyle = isPatternFill\n          ? fillColor.getPattern(maskCtx, this)\n          : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(\n      objId,\n      scaleX,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({\n          transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n          x: 0,\n          y: 0,\n          w: width,\n          h: height,\n        });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(\n      imgData\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0],\n        b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2],\n        d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // typeof check is needed due to node.js support, see issue #8489\n      if (\n        (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n        !imgData.data\n      ) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width,\n        paintHeight = height;\n      var tmpCanvasId = \"prescale1\";\n      // Vertical or horizontal scaling shall not be more than 2 to not lose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size.\n      while (\n        (widthScale > 2 && paintWidth > 1) ||\n        (heightScale > 2 && paintHeight > 1)\n      ) {\n        var newWidth = paintWidth,\n          newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(\n          tmpCanvasId,\n          newWidth,\n          newHeight\n        );\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(\n          imgToPaint,\n          0,\n          0,\n          paintWidth,\n          paintHeight,\n          0,\n          0,\n          newWidth,\n          newHeight\n        );\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n      }\n      ctx.drawImage(\n        imgToPaint,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        -height,\n        width,\n        height\n      );\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(\n      imgData,\n      map\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(\n          tmpCanvas.canvas,\n          entry.x,\n          entry.y,\n          entry.w,\n          entry.h,\n          0,\n          -1,\n          1,\n          1\n        );\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n      tag,\n      properties\n    ) {\n      if (tag === \"OC\") {\n        this.markedContentStack.push({\n          visible: this.optionalContentConfig.isVisible(properties),\n        });\n      } else {\n        this.markedContentStack.push({\n          visible: true,\n        });\n      }\n      this.contentVisible = this.isContentVisible();\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      this.markedContentStack.pop();\n      this.contentVisible = this.isContentVisible();\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth(scale) {\n      if (this._cachedGetSinglePixelWidth === null) {\n        const inverse = this.ctx.mozCurrentTransformInverse;\n        // max of the current horizontal and vertical scale\n        this._cachedGetSinglePixelWidth = Math.sqrt(\n          Math.max(\n            inverse[0] * inverse[0] + inverse[1] * inverse[1],\n            inverse[2] * inverse[2] + inverse[3] * inverse[3]\n          )\n        );\n      }\n      return this._cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      var transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5],\n      ];\n    },\n\n    isContentVisible: function CanvasGraphics_isContentVisible() {\n      for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n        if (!this.markedContentStack[i].visible) {\n          return false;\n        }\n      }\n      return true;\n    },\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, Util } from \"../shared/util.js\";\n\nvar ShadingIRs = {};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var bbox = raw[2];\n    var colorStops = raw[3];\n    var p0 = raw[4];\n    var p1 = raw[5];\n    var r0 = raw[6];\n    var r1 = raw[7];\n    return {\n      type: \"Pattern\",\n      getPattern: function RadialAxial_getPattern(ctx) {\n        applyBoundingBox(ctx, bbox);\n        var grad;\n        if (type === \"axial\") {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === \"radial\") {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords,\n      colors = context.colors;\n    var bytes = data.data,\n      rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2;\n      p2 = p3;\n      p3 = tmp;\n      tmp = c2;\n      c2 = c3;\n      c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1],\n      c1g = colors[c1 + 1],\n      c1b = colors[c1 + 2];\n    var c2r = colors[c2],\n      c2g = colors[c2 + 1],\n      c2b = colors[c2 + 2];\n    var c3r = colors[c3],\n      c3g = colors[c3 + 1],\n      c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1),\n      maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        let k;\n        if (y < y1) {\n          k = 0;\n        } else if (y1 === y2) {\n          k = 1;\n        } else {\n          k = (y1 - y) / (y1 - y2);\n        }\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        let k;\n        if (y > y3) {\n          k = 1;\n        } else if (y2 === y3) {\n          k = 0;\n        } else {\n          k = (y2 - y) / (y2 - y3);\n        }\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else if (y > y3) {\n        k = 1;\n      } else {\n        k = (y1 - y) / (y1 - y3);\n      }\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        if (k < 0) {\n          k = 0;\n        } else if (k > 1) {\n          k = 1;\n        }\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case \"lattice\":\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(\n              data,\n              context,\n              ps[q],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n            drawTriangle(\n              data,\n              context,\n              ps[q + verticesPerRow + 1],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n          }\n        }\n        break;\n      case \"triangles\":\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(\n            data,\n            context,\n            ps[i],\n            ps[i + 1],\n            ps[i + 2],\n            cs[i],\n            cs[i + 1],\n            cs[i + 2]\n          );\n        }\n        break;\n      default:\n        throw new Error(\"illegal figure\");\n    }\n  }\n\n  // eslint-disable-next-line no-shadow\n  function createMeshCanvas(\n    bounds,\n    combinesScale,\n    coords,\n    colors,\n    figures,\n    backgroundColor,\n    cachedCanvases,\n    webGLContext\n  ) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    var BORDER_SIZE = 2;\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    var paddedWidth = width + BORDER_SIZE * 2;\n    var paddedHeight = height + BORDER_SIZE * 2;\n\n    var canvas, tmpCanvas, i, ii;\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context,\n      });\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: \"Pattern\",\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        applyBoundingBox(ctx, bbox);\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n          }\n        }\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(\n          bounds,\n          scale,\n          coords,\n          colors,\n          figures,\n          shadingFill ? null : background,\n          owner.cachedCanvases,\n          owner.webGLContext\n        );\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(\n          temporaryPatternCanvas.offsetX,\n          temporaryPatternCanvas.offsetY\n        );\n        ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: \"Pattern\",\n      getPattern: function Dummy_fromIR_getPattern() {\n        return \"hotpink\";\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\n/**\n * @type {any}\n */\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  // eslint-disable-next-line no-shadow\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.type = \"Pattern\";\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info(\"TilingType: \" + tilingType);\n\n      // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n      // described by bbox, and may repeat regularly by shifting the cell by\n      // xstep and ystep.\n      // Because the HTML5 canvas API does not support pattern repetition with\n      // gaps in between, we use the xstep/ystep instead of the bbox's size.\n      //\n      // This has the following consequences (similarly for ystep):\n      //\n      // - If xstep is the same as bbox, then there is no observable difference.\n      //\n      // - If xstep is larger than bbox, then the pattern canvas is partially\n      //   empty: the area bounded by bbox is painted, the outside area is void.\n      //\n      // - If xstep is smaller than bbox, then the pixels between xstep and the\n      //   bbox boundary will be missing. This is INCORRECT behavior.\n      //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n      //   but overlapping cells without common pixels are still valid.\n      //   TODO: Fix the implementation, to allow this scenario to be painted\n      //   correctly.\n\n      var x0 = bbox[0],\n        y0 = bbox[1],\n        x1 = bbox[2],\n        y1 = bbox[3];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform\n      );\n      var combinedScale = [\n        matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1],\n      ];\n\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      var dimx = this.getSizeAndScale(\n        xstep,\n        this.ctx.canvas.width,\n        combinedScale[0]\n      );\n      var dimy = this.getSizeAndScale(\n        ystep,\n        this.ctx.canvas.height,\n        combinedScale[1]\n      );\n\n      var tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        dimx.size,\n        dimy.size,\n        true\n      );\n      var tmpCtx = tmpCanvas.context;\n      var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n      graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n      // transform coordinates to pattern space\n      graphics.transform(1, 0, 0, 1, -x0, -y0);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n\n      this.ctx.transform(1, 0, 0, 1, x0, y0);\n\n      // Rescale canvas so that the ctx.createPattern call generates a pattern\n      // with the desired size.\n      this.ctx.scale(1 / dimx.scale, 1 / dimy.scale);\n      return tmpCanvas.canvas;\n    },\n\n    getSizeAndScale: function TilingPattern_getSizeAndScale(\n      step,\n      realOutputSize,\n      scale\n    ) {\n      // xstep / ystep may be negative -- normalize.\n      step = Math.abs(step);\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use the destination canvas's size if it is bigger than the hard-coded\n      // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n      // whole canvas.\n      var maxSize = Math.max(MAX_PATTERN_SIZE, realOutputSize);\n      var size = Math.ceil(step * scale);\n      if (size >= maxSize) {\n        size = maxSize;\n      } else {\n        scale = size / step;\n      }\n      return { scale, size };\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(\n      graphics,\n      paintType,\n      color\n    ) {\n      const context = graphics.ctx,\n        current = graphics.current;\n      switch (paintType) {\n        case PaintType.COLORED:\n          var ctx = this.ctx;\n          context.fillStyle = ctx.fillStyle;\n          context.strokeStyle = ctx.strokeStyle;\n          current.fillColor = ctx.fillStyle;\n          current.strokeColor = ctx.strokeStyle;\n          break;\n        case PaintType.UNCOLORED:\n          var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n          context.fillStyle = cssColor;\n          context.strokeStyle = cssColor;\n          // Set color needed by image masks (fixes issues 3226 and 8741).\n          current.fillColor = cssColor;\n          current.strokeColor = cssColor;\n          break;\n        default:\n          throw new FormatError(`Unsupported paint type: ${paintType}`);\n      }\n    },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      ctx = this.ctx;\n      // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      return ctx.createPattern(temporaryPatternCanvas, \"repeat\");\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport { getShadingPatternFromIR, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error, prefer-const: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  } else {\n    if (typeof reason !== \"object\" || reason === null) {\n      return reason;\n    }\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this._postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this._postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++;\n    const sourceName = this.sourceName;\n    const targetName = this.targetName;\n    const comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          this._postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const self = this;\n    const action = this.actionHandler[data.action];\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        self._postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].startCall.resolve();\n        } else {\n          this.streamControllers[streamId].startCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].pullCall.resolve();\n        } else {\n          this.streamControllers[streamId].pullCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[streamId]) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (\n          this.streamSinks[streamId].desiredSize <= 0 &&\n          data.desiredSize > 0\n        ) {\n          this.streamSinks[streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[streamId].desiredSize = data.desiredSize;\n        const { onPull } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onPull && onPull());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(\n          this.streamControllers[streamId],\n          \"enqueue should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(\n          this.streamControllers[streamId],\n          \"close should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].isClosed = true;\n        this.streamControllers[streamId].controller.close();\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(\n          this.streamControllers[streamId],\n          \"error should have stream controller\"\n        );\n        this.streamControllers[streamId].controller.error(\n          wrapReason(data.reason)\n        );\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].cancelCall.resolve();\n        } else {\n          this.streamControllers[streamId].cancelCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!this.streamSinks[streamId]) {\n          break;\n        }\n        const { onCancel } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onCancel && onCancel(wrapReason(data.reason)));\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        this.streamSinks[streamId].sinkCapability.reject(\n          wrapReason(data.reason)\n        );\n        this.streamSinks[streamId].isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled(\n      [\n        this.streamControllers[streamId].startCall,\n        this.streamControllers[streamId].pullCall,\n        this.streamControllers[streamId].cancelCall,\n      ].map(function (capability) {\n        return capability && capability.promise;\n      })\n    );\n    delete this.streamControllers[streamId];\n  }\n\n  /**\n   * Sends raw message to the comObj.\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   * @private\n   */\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from \"../shared/util.js\";\nimport { SimpleXMLParser } from \"./xml_parser.js\";\n\nclass Metadata {\n  constructor(data) {\n    assert(typeof data === \"string\", \"Metadata: input is not a string\");\n\n    // Ghostscript may produce invalid metadata, so try to repair that first.\n    data = this._repair(data);\n\n    // Convert the string to an XML document.\n    const parser = new SimpleXMLParser();\n    const xmlDocument = parser.parseFromString(data);\n\n    this._metadataMap = new Map();\n\n    if (xmlDocument) {\n      this._parse(xmlDocument);\n    }\n  }\n\n  _repair(data) {\n    // Start by removing any \"junk\" before the first tag (see issue 10395).\n    return data\n      .replace(/^[^<]+/, \"\")\n      .replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n        const bytes = codes\n          .replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n            return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n          })\n          .replace(/&(amp|apos|gt|lt|quot);/g, function (str, name) {\n            switch (name) {\n              case \"amp\":\n                return \"&\";\n              case \"apos\":\n                return \"'\";\n              case \"gt\":\n                return \">\";\n              case \"lt\":\n                return \"<\";\n              case \"quot\":\n                return '\"';\n            }\n            throw new Error(`_repair: ${name} isn't defined.`);\n          });\n\n        let chars = \"\";\n        for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n          const code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n          if (\n            code >= /* Space = */ 32 &&\n            code < /* Delete = */ 127 &&\n            code !== /* '<' = */ 60 &&\n            code !== /* '>' = */ 62 &&\n            code !== /* '&' = */ 38\n          ) {\n            chars += String.fromCharCode(code);\n          } else {\n            chars += \"&#x\" + (0x10000 + code).toString(16).substring(1) + \";\";\n          }\n        }\n\n        return \">\" + chars;\n      });\n  }\n\n  _parse(xmlDocument) {\n    let rdf = xmlDocument.documentElement;\n\n    if (rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n      // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    const nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n    if (!rdf || nodeName !== \"rdf:rdf\" || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    const children = rdf.childNodes;\n    for (let i = 0, ii = children.length; i < ii; i++) {\n      const desc = children[i];\n      if (desc.nodeName.toLowerCase() !== \"rdf:description\") {\n        continue;\n      }\n\n      for (let j = 0, jj = desc.childNodes.length; j < jj; j++) {\n        if (desc.childNodes[j].nodeName.toLowerCase() !== \"#text\") {\n          const entry = desc.childNodes[j];\n          const name = entry.nodeName.toLowerCase();\n\n          this._metadataMap.set(name, entry.textContent.trim());\n        }\n      }\n    }\n  }\n\n  get(name) {\n    return this._metadataMap.has(name) ? this._metadataMap.get(name) : null;\n  }\n\n  getAll() {\n    return Object.fromEntries(this._metadataMap);\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The code for XMLParserBase copied from\n// https://github.com/mozilla/shumway/blob/16451d8836fa85f4b16eeda8b4bda2fa9e2b22b0/src/avm2/natives/xml.ts\n\nconst XMLParserErrorCode = {\n  NoError: 0,\n  EndOfDocument: -1,\n  UnterminatedCdat: -2,\n  UnterminatedXmlDeclaration: -3,\n  UnterminatedDoctypeDeclaration: -4,\n  UnterminatedComment: -5,\n  MalformedElement: -6,\n  OutOfMemory: -7,\n  UnterminatedAttributeValue: -8,\n  UnterminatedElement: -9,\n  ElementNeverBegun: -10,\n};\n\nfunction isWhitespace(s, index) {\n  const ch = s[index];\n  return ch === \" \" || ch === \"\\n\" || ch === \"\\r\" || ch === \"\\t\";\n}\n\nfunction isWhitespaceString(s) {\n  for (let i = 0, ii = s.length; i < ii; i++) {\n    if (!isWhitespace(s, i)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass XMLParserBase {\n  _resolveEntities(s) {\n    return s.replace(/&([^;]+);/g, (all, entity) => {\n      if (entity.substring(0, 2) === \"#x\") {\n        return String.fromCharCode(parseInt(entity.substring(2), 16));\n      } else if (entity.substring(0, 1) === \"#\") {\n        return String.fromCharCode(parseInt(entity.substring(1), 10));\n      }\n      switch (entity) {\n        case \"lt\":\n          return \"<\";\n        case \"gt\":\n          return \">\";\n        case \"amp\":\n          return \"&\";\n        case \"quot\":\n          return '\"';\n      }\n      return this.onResolveEntity(entity);\n    });\n  }\n\n  _parseContent(s, start) {\n    const attributes = [];\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    while (\n      pos < s.length &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\" &&\n      s[pos] !== \"?\"\n    ) {\n      skipWs();\n      let attrName = \"\",\n        attrValue = \"\";\n      while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \"=\") {\n        attrName += s[pos];\n        ++pos;\n      }\n      skipWs();\n      if (s[pos] !== \"=\") {\n        return null;\n      }\n      ++pos;\n      skipWs();\n      const attrEndChar = s[pos];\n      if (attrEndChar !== '\"' && attrEndChar !== \"'\") {\n        return null;\n      }\n      const attrEndIndex = s.indexOf(attrEndChar, ++pos);\n      if (attrEndIndex < 0) {\n        return null;\n      }\n      attrValue = s.substring(pos, attrEndIndex);\n      attributes.push({\n        name: attrName,\n        value: this._resolveEntities(attrValue),\n      });\n      pos = attrEndIndex + 1;\n      skipWs();\n    }\n    return {\n      name,\n      attributes,\n      parsed: pos - start,\n    };\n  }\n\n  _parseProcessingInstruction(s, start) {\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    const attrStart = pos;\n    while (pos < s.length && (s[pos] !== \"?\" || s[pos + 1] !== \">\")) {\n      ++pos;\n    }\n    const value = s.substring(attrStart, pos);\n    return {\n      name,\n      value,\n      parsed: pos - start,\n    };\n  }\n\n  parseXml(s) {\n    let i = 0;\n    while (i < s.length) {\n      const ch = s[i];\n      let j = i;\n      if (ch === \"<\") {\n        ++j;\n        const ch2 = s[j];\n        let q;\n        switch (ch2) {\n          case \"/\":\n            ++j;\n            q = s.indexOf(\">\", j);\n            if (q < 0) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onEndElement(s.substring(j, q));\n            j = q + 1;\n            break;\n          case \"?\":\n            ++j;\n            const pi = this._parseProcessingInstruction(s, j);\n            if (s.substring(j + pi.parsed, j + pi.parsed + 2) !== \"?>\") {\n              this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);\n              return;\n            }\n            this.onPi(pi.name, pi.value);\n            j += pi.parsed + 2;\n            break;\n          case \"!\":\n            if (s.substring(j + 1, j + 3) === \"--\") {\n              q = s.indexOf(\"-->\", j + 3);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedComment);\n                return;\n              }\n              this.onComment(s.substring(j + 3, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"[CDATA[\") {\n              q = s.indexOf(\"]]>\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedCdat);\n                return;\n              }\n              this.onCdata(s.substring(j + 8, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"DOCTYPE\") {\n              const q2 = s.indexOf(\"[\", j + 8);\n              let complexDoctype = false;\n              q = s.indexOf(\">\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                return;\n              }\n              if (q2 > 0 && q > q2) {\n                q = s.indexOf(\"]>\", j + 8);\n                if (q < 0) {\n                  this.onError(\n                    XMLParserErrorCode.UnterminatedDoctypeDeclaration\n                  );\n                  return;\n                }\n                complexDoctype = true;\n              }\n              const doctypeContent = s.substring(\n                j + 8,\n                q + (complexDoctype ? 1 : 0)\n              );\n              this.onDoctype(doctypeContent);\n              j = q + (complexDoctype ? 2 : 1);\n            } else {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            break;\n          default:\n            const content = this._parseContent(s, j);\n            if (content === null) {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            let isClosed = false;\n            if (\n              s.substring(j + content.parsed, j + content.parsed + 2) === \"/>\"\n            ) {\n              isClosed = true;\n            } else if (\n              s.substring(j + content.parsed, j + content.parsed + 1) !== \">\"\n            ) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onBeginElement(content.name, content.attributes, isClosed);\n            j += content.parsed + (isClosed ? 2 : 1);\n            break;\n        }\n      } else {\n        while (j < s.length && s[j] !== \"<\") {\n          j++;\n        }\n        const text = s.substring(i, j);\n        this.onText(this._resolveEntities(text));\n      }\n      i = j;\n    }\n  }\n\n  onResolveEntity(name) {\n    return `&${name};`;\n  }\n\n  onPi(name, value) {}\n\n  onComment(text) {}\n\n  onCdata(text) {}\n\n  onDoctype(doctypeContent) {}\n\n  onText(text) {}\n\n  onBeginElement(name, attributes, isEmpty) {}\n\n  onEndElement(name) {}\n\n  onError(code) {}\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n\n    Object.defineProperty(this, \"parentNode\", { value: null, writable: true });\n  }\n\n  get firstChild() {\n    return this.childNodes && this.childNodes[0];\n  }\n\n  get nextSibling() {\n    const childNodes = this.parentNode.childNodes;\n    if (!childNodes) {\n      return undefined;\n    }\n    const index = childNodes.indexOf(this);\n    if (index === -1) {\n      return undefined;\n    }\n    return childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || \"\";\n    }\n    return this.childNodes\n      .map(function (child) {\n        return child.textContent;\n      })\n      .join(\"\");\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n}\n\nclass SimpleXMLParser extends XMLParserBase {\n  constructor() {\n    super();\n    this._currentFragment = null;\n    this._stack = null;\n    this._errorCode = XMLParserErrorCode.NoError;\n  }\n\n  parseFromString(data) {\n    this._currentFragment = [];\n    this._stack = [];\n    this._errorCode = XMLParserErrorCode.NoError;\n\n    this.parseXml(data);\n\n    if (this._errorCode !== XMLParserErrorCode.NoError) {\n      return undefined; // return undefined on error\n    }\n\n    // We should only have one root.\n    const [documentElement] = this._currentFragment;\n    if (!documentElement) {\n      return undefined; // Return undefined if no root was found.\n    }\n    return { documentElement };\n  }\n\n  onResolveEntity(name) {\n    switch (name) {\n      case \"apos\":\n        return \"'\";\n    }\n    return super.onResolveEntity(name);\n  }\n\n  onText(text) {\n    if (isWhitespaceString(text)) {\n      return;\n    }\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onCdata(text) {\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onBeginElement(name, attributes, isEmpty) {\n    const node = new SimpleDOMNode(name);\n    node.childNodes = [];\n    this._currentFragment.push(node);\n    if (isEmpty) {\n      return;\n    }\n    this._stack.push(this._currentFragment);\n    this._currentFragment = node.childNodes;\n  }\n\n  onEndElement(name) {\n    this._currentFragment = this._stack.pop() || [];\n    const lastElement = this._currentFragment[this._currentFragment.length - 1];\n    if (!lastElement) {\n      return;\n    }\n    for (let i = 0, ii = lastElement.childNodes.length; i < ii; i++) {\n      lastElement.childNodes[i].parentNode = lastElement;\n    }\n  }\n\n  onError(code) {\n    this._errorCode = code;\n  }\n}\n\nexport { SimpleXMLParser };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { warn } from \"../shared/util.js\";\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n    for (const group of data.groups) {\n      this._groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  isVisible(group) {\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available. Until\n      // we implement this, just fallback to using the group policy for now.\n      if (group.expression) {\n        warn(\"Visibility expression not supported yet.\");\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n    if (this._order) {\n      return this._order.slice();\n    }\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    if (!this._groups.size) {\n      return null;\n    }\n    return Object.fromEntries(this._groups);\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n\n    const initialData = params.initialData;\n    if (initialData && initialData.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader && firstReader.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader && fullReader.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeReaders.slice(0);\n    readers.forEach(function (rangeReader) {\n      rangeReader.cancel(reason);\n    });\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true });\n      });\n      this._requests = [];\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { shadow } from \"../shared/util.js\";\n\nclass WebGLContext {\n  constructor({ enable = false }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n    return shadow(this, \"isEnabled\", enabled);\n  }\n\n  composeSMask({ layer, mask, properties }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({ width, height, backgroundColor, figures, context }) {\n    return WebGLUtils.drawFigures(\n      width,\n      height,\n      backgroundColor,\n      figures,\n      context\n    );\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n}\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error(\"Error during shader compilation: \" + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error(\"Error during program linking: \" + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement(\"canvas\");\n    currentGL = currentCanvas.getContext(\"webgl\", {\n      premultipliedalpha: false,\n    });\n  }\n\n  var smaskVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             \";\n\n  var smaskFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             \";\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.backdropLocation = gl.getUniformLocation(program, \"u_backdrop\");\n    cache.subtypeLocation = gl.getUniformLocation(program, \"u_subtype\");\n\n    var texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n    var texLayerLocation = gl.getUniformLocation(program, \"u_image\");\n    var texMaskLocation = gl.getUniformLocation(program, \"u_mask\");\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width,\n      height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(\n        cache.resolutionLocation,\n        properties.backdrop[0],\n        properties.backdrop[1],\n        properties.backdrop[2],\n        1\n      );\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(\n      cache.subtypeLocation,\n      properties.subtype === \"Luminosity\" ? 1 : 0\n    );\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             \";\n\n  var figuresFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             \";\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.scaleLocation = gl.getUniformLocation(program, \"u_scale\");\n    cache.offsetLocation = gl.getUniformLocation(program, \"u_offset\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.colorLocation = gl.getAttribLocation(program, \"a_color\");\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case \"lattice\":\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case \"triangles\":\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords,\n      colorsMap = context.colors;\n    var pIndex = 0,\n      cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i],\n        ps = figure.coords,\n        cs = figure.colors;\n      switch (figure.type) {\n        case \"lattice\":\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case \"triangles\":\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(\n        backgroundColor[0] / 255,\n        backgroundColor[1] / 255,\n        backgroundColor[2] / 255,\n        1.0\n      );\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(\n      cache.colorLocation,\n      3,\n      gl.UNSIGNED_BYTE,\n      false,\n      0,\n      0\n    );\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) {}\n      return false;\n    },\n\n    composeSMask,\n\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache && smaskCache.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n      if (figuresCache && figuresCache.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n      smaskCache = null;\n      figuresCache = null;\n    },\n  };\n})();\n\nexport { WebGLContext };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  addLinkAttributes,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  LinkTarget,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n * @property {Object} svgFactory\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(parameters, isRenderable = false, ignoreBorder = false) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `-${rect[0]}px -${rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = Util.makeCssRgb(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLSectionElement} container\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(container, trigger, data) {\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      modificationDate: data.modificationDate,\n      contents: data.contents,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the link annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LinkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"linkAnnotation\";\n\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      addLinkAttributes(link, {\n        url: data.url,\n        target: data.newWindow\n          ? LinkTarget.BLANK\n          : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled,\n      });\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else {\n      this._bindLink(link, data.dest);\n    }\n\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.navigateTo(destination);\n      }\n      return false;\n    };\n    if (destination) {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  /**\n   * Render the widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof WidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderInteractiveForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const textContent = storage.getOrCreateValue(id, this.data.fieldValue);\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n\n      element.addEventListener(\"input\", function (event) {\n        storage.setValue(id, event.target.value);\n      });\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n\n      let font = null;\n      if (\n        this.data.fontRefName &&\n        this.page.commonObjs.has(this.data.fontRefName)\n      ) {\n        font = this.page.commonObjs.get(this.data.fontRefName);\n      }\n      this._setTextStyle(element, font);\n    }\n\n    if (this.data.textAlignment !== null) {\n      element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @param {Object} font\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element, font) {\n    // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n    const style = element.style;\n    style.fontSize = `${this.data.fontSize}px`;\n    style.direction = this.data.fontDirection < 0 ? \"rtl\" : \"ltr\";\n\n    if (!font) {\n      return;\n    }\n\n    let bold = \"normal\";\n    if (font.black) {\n      bold = \"900\";\n    } else if (font.bold) {\n      bold = \"bold\";\n    }\n    style.fontWeight = bold;\n    style.fontStyle = font.italic ? \"italic\" : \"normal\";\n\n    // Use a reasonable default font if the font doesn't specify a fallback.\n    const fontFamily = font.loadedName ? `\"${font.loadedName}\", ` : \"\";\n    const fallbackName = font.fallbackName || \"Helvetica, sans-serif\";\n    style.fontFamily = fontFamily + fallbackName;\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the checkbox widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof CheckboxWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(\n      id,\n      data.fieldValue && data.fieldValue !== \"Off\"\n    );\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = this.data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.addEventListener(\"change\", function (event) {\n      storage.setValue(id, event.target.checked);\n    });\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the radio button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof RadioButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(\n      id,\n      data.fieldValue === data.buttonValue\n    );\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.addEventListener(\"change\", function (event) {\n      const name = event.target.name;\n      for (const radio of document.getElementsByName(name)) {\n        if (radio !== event.target) {\n          storage.setValue(\n            radio.parentNode.getAttribute(\"data-annotation-id\"),\n            false\n          );\n        }\n      }\n      storage.setValue(id, event.target.checked);\n    });\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  /**\n   * Render the push button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof PushButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the choice widget annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof ChoiceWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    // For printing/saving we currently only support choice widgets with one\n    // option selection. Therefore, listboxes (#12189) and comboboxes (#12224)\n    // are not properly printed/saved yet, so we only store the first item in\n    // the field value array instead of the entire array. Once support for those\n    // two field types is implemented, we should use the same pattern as the\n    // other interactive widgets where the return value of `getOrCreateValue` is\n    // used and the full array of field values is stored.\n    storage.getOrCreateValue(\n      id,\n      this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : null\n    );\n\n    const selectElement = document.createElement(\"select\");\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    selectElement.addEventListener(\"input\", function (event) {\n      const options = event.target.options;\n      const value = options[options.selectedIndex].value;\n      storage.setValue(id, value);\n    });\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the popup annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PopupAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElement = this.layer.querySelector(selector);\n    if (!parentElement) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: parentElement,\n      color: this.data.color,\n      title: this.data.title,\n      modificationDate: this.data.modificationDate,\n      contents: this.data.contents,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const parentLeft = parseFloat(parentElement.style.left);\n    const parentWidth = parseFloat(parentElement.style.width);\n    this.container.style.transformOrigin = `-${parentLeft + parentWidth}px -${\n      parentElement.style.top\n    }`;\n    this.container.style.left = `${parentLeft + parentWidth}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.modificationDate = parameters.modificationDate;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  /**\n   * Render the popup's HTML element.\n   *\n   * @public\n   * @memberof PopupElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.setAttribute(\"hidden\", true);\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.textContent = this.title;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contents);\n    popup.appendChild(contents);\n\n    // Attach the event listeners to the trigger element.\n    this.trigger.addEventListener(\"click\", this._toggle.bind(this));\n    this.trigger.addEventListener(\"mouseover\", this._show.bind(this, false));\n    this.trigger.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {string} contents\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents(contents) {\n    const p = document.createElement(\"p\");\n    const lines = contents.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hasAttribute(\"hidden\")) {\n      this.hideElement.removeAttribute(\"hidden\");\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hasAttribute(\"hidden\") && !this.pinned) {\n      this.hideElement.setAttribute(\"hidden\", true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the free text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof FreeTextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the line annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the square annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquareAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the circle annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CircleAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the polyline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PolylineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(this.container, polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the caret annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CaretAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the ink annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof InkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(this.container, polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the highlight annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof HighlightAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"highlightAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the underline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof UnderlineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"underlineAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the squiggly annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquigglyAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squigglyAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the strikeout annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StrikeOutAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"strikeoutAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the stamp annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StampAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, /* isRenderable = */ true);\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    if (this.linkService.eventBus) {\n      this.linkService.eventBus.dispatch(\"fileattachmentannotation\", {\n        source: this,\n        id: stringToPDFString(filename),\n        filename,\n        content,\n      });\n    }\n  }\n\n  /**\n   * Render the file attachment annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof FileAttachmentAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(this.container, trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    if (!this.downloadManager) {\n      warn(\"Download cannot be started due to unavailable download manager\");\n      return;\n    }\n    this.downloadManager.downloadData(this.content, this.filename, \"\");\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderInteractiveForms:\n          typeof parameters.renderInteractiveForms === \"boolean\"\n            ? parameters.renderInteractiveForms\n            : true,\n        svgFactory: new DOMSVGFactory(),\n        annotationStorage:\n          parameters.annotationStorage || new AnnotationStorage(),\n      });\n      if (element.isRenderable) {\n        parameters.div.appendChild(element.render());\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    for (const data of parameters.annotations) {\n      const element = parameters.div.querySelector(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (element) {\n        element.style.transform = `matrix(${parameters.viewport.transform.join(\n          \",\"\n        )})`;\n      }\n    }\n    parameters.div.removeAttribute(\"hidden\");\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {import(\"./api\").TextContent} [textContent] - Text content to\n *   render (the object is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {import(\"./display_utils\").PageViewport} viewport - The target\n *   viewport to properly layout the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that are correspond\n *   to the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *    the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\n\n/**\n * @typedef {Object} TextLayerRenderTask\n * @property {Promise<void>} promise\n * @property {() => void} cancel\n * @property {(expandDivs: boolean) => void} expandTextDivs\n */\n\n/**\n * @type {(renderParameters: TextLayerRenderParameters) => TextLayerRenderTask}\n */\nvar renderTextLayer = (function renderTextLayerClosure() {\n  var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  var NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    var textDiv = document.createElement(\"span\");\n    var textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    var tx = Util.transform(task._viewport.transform, geom.transform);\n    var angle = Math.atan2(tx[1], tx[0]);\n    var style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    var fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n    var fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    textDiv.style.left = `${left}px`;\n    textDiv.style.top = `${top}px`;\n    textDiv.style.fontSize = `${fontHeight}px`;\n    textDiv.style.fontFamily = style.fontFamily;\n\n    textDiv.textContent = geom.str;\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (task._fontInspectorEnabled) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      // When the horizontal/vertical scaling differs significantly, also scale\n      // even single-char text to improve highlighting (fixes issue11713.pdf).\n      if (\n        absScaleX !== absScaleY &&\n        Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n      ) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      var angleCos = 1,\n        angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      var divWidth =\n        (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n      var divHeight = fontHeight;\n\n      var m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    var textDivs = task._textDivs;\n    var capability = task._capability;\n    var textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (var i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function findPositiveMin(ts, offset, count) {\n    let result = 0;\n    for (let i = 0; i < count; i++) {\n      const t = ts[offset++];\n      if (t > 0) {\n        result = result ? Math.min(t, result) : t;\n      }\n    }\n    return result;\n  }\n\n  function expand(task) {\n    var bounds = task._bounds;\n    var viewport = task._viewport;\n\n    var expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (var i = 0; i < expanded.length; i++) {\n      var div = bounds[i].div;\n      var divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      var e = expanded[i],\n        b = bounds[i];\n      var m = b.m,\n        c = m[0],\n        s = m[1];\n      // Finding intersections with expanded box.\n      var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      var ts = new Float64Array(64);\n      points.forEach(function (p, j) {\n        var t = Util.applyTransform(p, m);\n        ts[j + 0] = c && (e.left - t[0]) / c;\n        ts[j + 4] = s && (e.top - t[1]) / s;\n        ts[j + 8] = c && (e.right - t[0]) / c;\n        ts[j + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[j + 16] = s && (e.left - t[0]) / -s;\n        ts[j + 20] = c && (e.top - t[1]) / c;\n        ts[j + 24] = s && (e.right - t[0]) / -s;\n        ts[j + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[j + 32] = c && (e.left - t[0]) / -c;\n        ts[j + 36] = s && (e.top - t[1]) / -s;\n        ts[j + 40] = c && (e.right - t[0]) / -c;\n        ts[j + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[j + 48] = s && (e.left - t[0]) / s;\n        ts[j + 52] = c && (e.top - t[1]) / -c;\n        ts[j + 56] = s && (e.right - t[0]) / s;\n        ts[j + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    var bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    var expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function (box, i) {\n      var e = expanded[i],\n        b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    var fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    var horizon = [\n      {\n        start: -Infinity,\n        end: Infinity,\n        boundary: fakeBoundary,\n      },\n    ];\n\n    bounds.forEach(function (boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      var i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      var j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      var horizonPart, affectedBoundary;\n      var q,\n        k,\n        maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        var xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected boundary\n          // placed on top of the current one.\n          xNew =\n            affectedBoundary.index > boundary.index\n              ? affectedBoundary.x1New\n              : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      var changedHorizon = [],\n        lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        var useBoundary =\n          affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        var used = false;\n        for (\n          k = i - 1;\n          !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n          k--\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (\n          k = j + 1;\n          !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n          k++\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(\n        horizon,\n        [i, j - i + 1].concat(changedHorizon)\n      );\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function (horizonPart) {\n      var affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!(\n      globalThis.FontInspector && globalThis.FontInspector.enabled\n    );\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        /* Avoid \"Uncaught promise\" messages in the console. */\n      });\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      this._canceled = true;\n      if (this._reader) {\n        this._reader.cancel(new AbortException(\"TextLayer task cancelled.\"));\n        this._reader = null;\n      }\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      const textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let transform = \"\";\n      if (textDivProperties.canvasWidth !== 0) {\n        const { fontSize, fontFamily } = textDiv.style;\n\n        // Only build font string and set to context if different from last.\n        if (\n          fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily\n        ) {\n          this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n          this._layoutTextLastFontSize = fontSize;\n          this._layoutTextLastFontFamily = fontFamily;\n        }\n        // Only measure the width for multi-char text divs, see `appendText`.\n        const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n        if (width > 0) {\n          textDivProperties.scale = textDivProperties.canvasWidth / width;\n          transform = `scaleX(${textDivProperties.scale})`;\n        }\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n      }\n      if (transform.length > 0) {\n        if (this._enhanceTextSelection) {\n          textDivProperties.originalTransform = transform;\n        }\n        textDiv.style.transform = transform;\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      this._container.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      const capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      const canvas = this._document.createElement(\"canvas\");\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n      ) {\n        canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n      if (this._textContent) {\n        const textItems = this._textContent.items;\n        const textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        const pump = () => {\n          this._reader.read().then(({ value, done }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Object.assign(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error(\n          'Neither \"textContent\" nor \"textContentStream\"' +\n            \" parameters specified.\"\n        );\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) {\n          // Render right away\n          render(this);\n        } else {\n          // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n      const transformBuf = [],\n        paddingBuf = [];\n\n      for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n        const div = this._textDivs[i];\n        const divProps = this._textDivProperties.get(div);\n\n        if (divProps.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          transformBuf.length = 0;\n          paddingBuf.length = 0;\n\n          if (divProps.originalTransform) {\n            transformBuf.push(divProps.originalTransform);\n          }\n          if (divProps.paddingTop > 0) {\n            paddingBuf.push(`${divProps.paddingTop}px`);\n            transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingRight > 0) {\n            paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingBottom > 0) {\n            paddingBuf.push(`${divProps.paddingBottom}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingLeft > 0) {\n            paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n            transformBuf.push(\n              `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n            );\n          } else {\n            paddingBuf.push(0);\n          }\n\n          div.style.padding = paddingBuf.join(\" \");\n          if (transformBuf.length) {\n            div.style.transform = transformBuf.join(\" \");\n          }\n        } else {\n          div.style.padding = null;\n          div.style.transform = divProps.originalTransform;\n        }\n      }\n    },\n  };\n\n  // eslint-disable-next-line no-shadow\n  function renderTextLayer(renderParameters) {\n    var task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport { renderTextLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n/* eslint no-var: error */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\n/** @type {any} */\nlet SVGGraphics = function () {\n  throw new Error(\"Not implemented: SVGGraphics\");\n};\n\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function () {\n    const PNG_HEADER = new Uint8Array([\n      0x89,\n      0x50,\n      0x4e,\n      0x47,\n      0x0d,\n      0x0a,\n      0x1a,\n      0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    // eslint-disable-next-line no-shadow\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  // eslint-disable-next-line no-shadow\n  SVGGraphics = class SVGGraphics {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n          current.tspan.textContent += character;\n        } else {\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      if (vertical) {\n        current.tspan.setAttributeNS(\n          null,\n          \"y\",\n          current.ycoords.map(pf).join(\" \")\n        );\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\n          \"addFontStyle: No font data available, \" +\n            'ensure that the \"fontExtraProperties\" API parameter is set.'\n        );\n      }\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        !fontObj.missingFile &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement &&\n        current.txtElement.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeCssRgb(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeCssRgb(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0] = Util.applyTransform([x0, y0], matrix);\n      const [tx1, ty1] = Util.applyTransform([x1, y1], matrix);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeCssRgb(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength,\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (/\\.pdf$/i.test(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    \"Unexpected server response (\" +\n      status +\n      ') while retrieving PDF \"' +\n      url +\n      '\".',\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const bytes = Array.from(value, function (ch) {\n          return ch.charCodeAt(0) & 0xff;\n        });\n        value = decoder.decode(new Uint8Array(bytes));\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args) {\n    this.url = url;\n    args = args || {};\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = {\n      xhr,\n    });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.onProgress) {\n      pendingRequest.onProgress(evt);\n    }\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const {\n      allowRangeRequests,\n      suggestedLength,\n    } = validateRangeRequestCapabilities({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange,\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(args) {\n    if (args) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: args.chunk, done: false });\n      } else {\n        this._cachedChunks.push(args.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  _onError(status) {\n    const url = this._url;\n    const exception = createResponseStatusError(status, url);\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  }\n\n  _onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._close();\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController && abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const {\n          allowRangeRequests,\n          suggestedLength,\n        } = validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: this._stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(reason => {\n        if (reason && reason.name === \"AbortError\") {\n          return;\n        }\n        throw reason;\n      });\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n"],"names":["root","factory","module","exports","this","installedModules","__w_pdfjs_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_display_utils","_api","_util","_annotation_layer","_api_compatibility","_worker_options","_text_layer","_svg","isNodeJS","PDFNodeStream","setPDFNetworkStreamFactory","params","PDFNetworkStream","PDFFetchStream","isFetchSupported","isValidFetchUrl","url","DEFAULT_LINK_REL","SVG_NS","BaseCanvasFactory","constructor","unreachable","width","height","reset","canvasAndContext","canvas","Error","destroy","context","DOMCanvasFactory","ownerDocument","globalThis","document","_document","createElement","getContext","BaseCMapReaderFactory","baseUrl","isCompressed","fetch","compressionType","CMapCompressionType","BINARY","NONE","_fetchData","catch","reason","DOMCMapReaderFactory","baseURI","then","async","response","ok","statusText","cMapData","Uint8Array","arrayBuffer","stringToBytes","text","Promise","resolve","reject","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","status","responseText","send","DOMSVGFactory","assert","svg","createElementNS","setAttribute","type","PageViewport","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","Math","abs","transform","clone","slice","convertToViewportPoint","x","y","Util","applyTransform","convertToViewportRectangle","rect","topLeft","bottomRight","convertToPdfPoint","applyInverseTransform","RenderingCancelledException","BaseException","msg","super","LinkTarget","SELF","BLANK","PARENT","TOP","addLinkAttributes","link","target","rel","enabled","urlNullRemoved","removeNullCharacters","href","title","onclick","targetStr","getFilenameFromUrl","anchor","indexOf","query","end","min","length","substring","lastIndexOf","StatTimer","started","times","time","warn","Date","now","timeEnd","push","start","toString","outBuf","longest","duration","padEnd","join","Response","ReadableStream","protocol","URL","ex","loadScript","src","script","onload","onerror","head","documentElement","appendChild","deprecated","details","console","log","pdfDateStringRegex","PDFDateString","toDateObject","input","isString","RegExp","matches","exec","year","parseInt","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationStateModelType","MARKED","REVIEW","AnnotationMarkedState","UNMARKED","AnnotationReviewState","ACCEPTED","REJECTED","CANCELLED","COMPLETED","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VerbosityLevel","ERRORS","WARNINGS","INFOS","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontGetPath","errorMarkedContent","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","cond","isSameOrigin","otherUrl","base","origin","e","other","_isValidProtocol","createValidAbsoluteUrl","absoluteUrl","shadow","obj","prop","configurable","writable","message","PasswordException","code","UnknownErrorException","InvalidPDFException","MissingPDFException","UnexpectedResponseException","FormatError","AbortException","NullCharactersRegExp","str","replace","bytesToString","bytes","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","chunkEnd","chunk","subarray","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","pos","data","item","itemLength","set","string32","isLittleEndian","buffer8","view32","Uint32Array","buffer","IsLittleEndianCached","isEvalSupported","Function","IsEvalSupportedCached","rgbBuf","makeCssRgb","g","b","m1","m2","xt","yt","getAxialAlignedBoundingBox","p1","p2","p3","p4","max","inverseTransform","apply3dTransform","v","singularValueDecompose2dScale","transpose","a","first","sqrt","sx","sy","normalizeRect","intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","PDFStringTranslateTable","stringToPDFString","charAt","escapeString","stringToUTF8String","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isBool","isNum","isArrayBuffer","isArrayEqual","arr1","arr2","every","element","index","getModificationDate","date","getUTCFullYear","getUTCMonth","padStart","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","createPromiseCapability","capability","isSettled","promise","createObjectURL","digits","contentType","forceDataSchema","blob","Blob","ii","b1","b2","b3","d1","d2","d3","d4","process","versions","nw","electron","_font_loader","_node_utils","_annotation_storage","_canvas","_is_node","_message_handler","_metadata","_optional_content_config","_transport_stream","_webgl","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DefaultCanvasFactory","NodeCanvasFactory","DefaultCMapReaderFactory","NodeCMapReaderFactory","createPDFNetworkStream","pdfNetworkStreamFactory","getDocument","task","PDFDocumentLoadingTask","source","PDFDataRangeTransport","range","rangeTransport","worker","window","pdfBytes","isNaN","location","rangeChunkSize","CMapReaderFactory","ignoreErrors","stopAtErrors","fontExtraProperties","pdfBug","maxImageSize","disableFontFace","apiCompatibilityParams","disableRange","disableStream","disableAutoFetch","workerParams","port","GlobalWorkerOptions","workerPort","PDFWorker","fromPort","_worker","docId","destroyed","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","PDFDataTransportStream","initialData","progressiveDone","httpHeaders","withCredentials","all","workerId","messageHandler","MessageHandler","postMessageTransfers","transport","WorkerTransport","_transport","_capability","pdfDataRangeTransport","sendWithPromise","apiVersion","password","docBaseUrl","nextDocumentId","onPassword","onProgress","onUnsupportedFeature","transportDestroyed","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","begin","onDataProgress","loaded","total","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","abort","PDFDocumentProxy","pdfInfo","_pdfInfo","annotationStorage","AnnotationStorage","numPages","fingerprint","getPage","pageNumber","getPageIndex","ref","getDestinations","getDestination","id","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJavaScript","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getData","getDownloadInfo","downloadInfoCapability","getStats","cleanup","startCleanup","loadingTask","loadingParams","saveDocument","PDFPageProxy","pageIndex","pageInfo","_pageIndex","_pageInfo","_ownerDocument","_stats","_pdfBug","commonObjs","objs","PDFObjects","cleanupAfterRender","pendingCleanup","_intentStates","Map","rotate","userUnit","view","getViewport","getAnnotations","intent","annotationsPromise","annotationsIntent","render","canvasContext","viewport","enableWebGL","renderInteractiveForms","imageLayer","canvasFactory","background","optionalContentConfigPromise","renderingIntent","intentState","streamReaderCancelTimeout","clearTimeout","canvasFactoryInstance","webGLContext","WebGLContext","enable","displayReadyCapability","operatorList","fnArray","argsArray","lastChunk","_pumpOperatorList","getAll","complete","error","renderTasks","internalRenderTask","splice","_tryCleanup","_abortOperatorList","InternalRenderTask","callback","useRequestAnimationFrame","renderTask","transparency","optionalContentConfig","initializeGraphics","operatorListChanged","getOperatorList","opListReadCapability","opListTask","streamTextContent","normalizeWhitespace","disableCombineTextItems","TEXT_CONTENT_CHUNK_SIZE","sendWithStream","combineTextItems","highWaterMark","size","textContent","items","getTextContent","readableStream","pump","reader","read","done","assign","styles","getReader","_destroy","pageCache","waitOn","force","completed","cancel","clear","resetStats","values","_startRenderPage","_renderPageChunk","operatorListChunk","args","streamReader","setTimeout","curIntentState","delete","stats","LoopbackPort","defer","_listeners","_defer","_deferred","postMessage","transfers","cloneValue","cloned","has","transferable","includes","byteOffset","Array","isArray","desc","getOwnPropertyDescriptor","getPrototypeOf","forEach","WeakMap","addEventListener","removeEventListener","terminate","PDFWorkerClosure","pdfWorkerPorts","isWorkerDisabled","fallbackWorkerSrc","nextFakeWorkerId","fakeWorkerCapability","pdfjsFilePath","currentScript","getWorkerSrc","workerSrc","getMainThreadWorkerMessageHandler","mainWorkerMessageHandler","pdfjsWorker","WorkerMessageHandler","setupFakeWorkerGlobal","loader","eval","createCDNWrapper","wrapper","_port","_webWorker","_messageHandler","_initializeFromPort","_initialize","on","Worker","terminateEarly","onWorkerError","_setupFakeWorker","supportTransfers","sendTest","testObj","workerHandler","setup","fontLoader","FontLoader","_onUnsupportedFeature","_params","cMapUrl","cMapPacked","destroyCapability","_passwordCapability","_networkStream","_fullReader","_lastProgress","pagePromises","setupMessageHandler","page","terminated","cancelAllRequests","sink","getFullReader","evt","onPull","close","enqueue","onCancel","ready","readyReason","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","contentLength","rangeReader","getRangeReader","_numPages","exception","updatePassword","exportedData","exportedError","fontRegistry","FontInspector","registerFont","fontAdded","FontFaceObject","finally","imageData","pageProxy","MAX_IMAGE_SIZE_TO_STORE","fetched","builtInCMap","featureId","filename","resetModified","results","OptionalContentConfig","metadata","Metadata","contentDispositionFilename","cleanupSuccessful","_objs","_ensureObj","objId","resolved","RenderTask","_internalRenderTask","onContinue","canvasInRendering","WeakSet","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","add","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","beginDrawing","endDrawing","updateOperatorList","requestAnimationFrame","executeOperatorList","version","build","BaseFontLoader","nativeFontFaces","styleElement","addNativeFontFace","nativeFontFace","fonts","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","remove","attached","missingFile","isFontLoadingAPISupported","createNativeFontFace","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","supported","_loadTestFont","rules","fontsToLoad","loadingContext","requests","nextRequestId","loadTestFontId","navigator","userAgent","completeRequest","otherRequest","shift","getLoadTestFont","atob","int32","offset","spliceString","insert","chunk1","chunk2","ctx","called","isFontReady","fillText","getImageData","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","names","loadedName","div","style","visibility","position","top","left","span","fontFamily","body","removeChild","translatedData","compiledGlyphs","FontFace","mimetype","getPathGenerator","character","cmds","current","js","cmd","Canvas","require","createCanvas","fs","readFile","_storage","_modified","onSetModified","onResetModified","getOrCreateValue","defaultValue","setValue","_setModified","fromEntries","compatibilityParams","freeze","_pattern_helper","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","addContextCurrentTransform","mozCurrentTransform","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","_transformMatrix","_transformStack","f","ad_bc","bc_ad","old","prev","pop","angle","cosValue","cos","sinValue","sin","CachedCanvases","cache","getCanvas","trackTransform","canvasEntry","compileType3Glyph","imgData","j","j0","POINT_TO_PROCESS_LIMIT","width1","points","POINT_TYPES","lineSize","data0","mask","elem","count","sum","steps","Int32Array","outlines","pp","coords","p0","step","drawOutline","beginPath","k","kk","ll","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","fillColor","strokeColor","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","resumeSMaskCtx","transferMaps","setCurrentPoint","EXECUTION_TIME","EXECUTION_STEPS","canvasCtx","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","contentVisible","markedContentStack","cachedCanvases","_cachedGetSinglePixelWidth","putBinaryImageData","ImageData","putImageData","destPos","thisChunkHeight","elemsInThisChunk","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","dest","transferMapRed","transferMapGreen","transferMapBlue","transferMapGray","kind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","srcDiff","kEnd","kEndUnrolled","srcByte","hasTransferMaps","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","strokeStyle","fillStyle","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","subtype","backdrop","composeFn","hasBackdrop","PIXELS_TO_PROCESS","chunkSize","ceil","row","chunkHeight","composeSMask","scaleX","scaleY","isEnabled","composed","layer","drawImage","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","op","fillRect","transparentCanvas","compositeCtx","beginLayout","executionStartIdx","continueCallback","argsArrayLen","fnId","chunkOperations","endTime","breakIt","depObjId","objsPool","startsWith","endSMaskGroup","endLayout","limit","dashArray","dashPhase","flatness","states","state","suspendSMaskGroup","beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","startTransformInverse","mozCurrentTransformInverse","deltaTransform","clearRect","resumeSMaskGroup","ops","getSinglePixelWidth","xw","yh","bezierCurveTo","consumePath","getPattern","isPatternFill","needRestore","paths","pendingTextPaths","path","addToPath","spacing","fontRefName","fontObj","fontDirection","isType3Font","bold","italic","typeface","fallbackName","browserFontSize","rise","paintChar","patternTransform","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","glyph","scaledX","scaledY","scaledAccentX","scaledAccentY","vmetric","vx","vy","charWidth","restoreNeeded","isSpace","fontChar","accent","remeasure","measuredWidth","measureText","characterScaleX","isInFont","spacingLength","isTextInvisible","charProcOperatorList","operatorListId","transformed","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","IR","color","canvasGraphicsFactory","createCanvasGraphics","TilingPattern","getShadingPatternFromIR","arguments","patternIR","inv","bl","br","ul","ur","x0","y0","x1","y1","matrix","bbox","group","isolated","knockout","bounds","canvasBounds","floor","imageSmoothingEnabled","mozImageSmoothingEnabled","img","compiled","maskCanvas","skewX","skewY","positions","images","image","map","w","h","imgToPaint","tmpCanvas","widthScale","heightScale","HTMLElement","tmpCtx","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","getCanvasPosition","appendImage","entry","tag","visible","isVisible","isContentVisible","inverse","ShadingIRs","applyBoundingBox","Path2D","region","RadialAxial","fromIR","raw","colorStops","r1","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","drawTriangle","c1","c2","c3","tmp","colors","rowSize","x2","y2","x3","y3","xa","car","cag","cab","xb","cbr","cbg","cbb","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","combinesScale","figures","backgroundColor","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","drawFigures","shadingIR","Mesh","owner","matrixScale","temporaryPatternCanvas","createPattern","Dummy","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","curMatrixScale","combinedScale","dimx","getSizeAndScale","dimy","graphics","setFillAndStrokeStyleToContext","clipBbox","realOutputSize","maxSize","bboxWidth","bboxHeight","cssColor","CallbackKind","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","wrapReason","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","event","stream","_processStreamMessage","action","cbSourceName","cbTargetName","_createStreamSink","actionName","handler","ah","_postMessage","queueingStrategy","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","self","streamSink","isCancelled","lastDesiredSize","sinkCapability","success","_deleteStreamController","allSettled","_xml_parser","_repair","parser","SimpleXMLParser","xmlDocument","parseFromString","_metadataMap","_parse","codes","chars","rdf","nodeName","toLowerCase","firstChild","nextSibling","hasChildNodes","children","childNodes","jj","trim","XMLParserErrorCode","NoError","EndOfDocument","UnterminatedCdat","UnterminatedXmlDeclaration","UnterminatedDoctypeDeclaration","UnterminatedComment","MalformedElement","OutOfMemory","UnterminatedAttributeValue","UnterminatedElement","ElementNeverBegun","isWhitespace","ch","isWhitespaceString","XMLParserBase","_resolveEntities","entity","onResolveEntity","_parseContent","attributes","skipWs","attrName","attrValue","attrEndChar","attrEndIndex","parsed","_parseProcessingInstruction","attrStart","parseXml","ch2","onError","onEndElement","pi","onPi","onComment","onCdata","q2","complexDoctype","doctypeContent","onDoctype","content","onBeginElement","onText","isEmpty","SimpleDOMNode","nodeValue","parentNode","child","_currentFragment","_stack","_errorCode","node","lastElement","OptionalContentGroup","creator","_order","_groups","order","groups","baseState","off","expression","policy","ids","setVisibility","getOrder","from","keys","getGroups","getGroup","_queuedChunks","_progressiveDone","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","_onReceiveData","_onProgress","_onProgressiveDone","_enqueue","found","some","_begin","_progressiveDataLength","_loaded","firstReader","_removeRangeReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","readers","_stream","_done","_filename","_requests","_headersReady","requestCapability","_end","_queuedChunk","requestsCapability","_enabled","WebGLUtils","tryInitGL","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","currentGL","currentCanvas","generateGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","initSmaskGL","vertexShader","fragmentShader","useProgram","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawingBufferWidth","drawingBufferHeight","uniform2f","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","scaleLocation","offsetLocation","colorLocation","coordsMap","colorsMap","pIndex","cIndex","col","coordsBuffer","colorsBuffer","AnnotationElementFactory","parameters","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","linkService","downloadManager","imageResourcesPath","svgFactory","container","_createContainer","transformOrigin","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","_createPopup","trigger","popupElement","PopupElement","modificationDate","contents","hideWrapper","popup","className","newWindow","externalLinkTarget","externalLinkRel","externalLinkEnabled","_bindNamedAction","_bindLink","destination","getDestinationHash","navigateTo","getAnchorUrl","executeNamedAction","hasPopup","alt","dataset","l10nId","l10nArgs","JSON","stringify","hasAppearance","fieldValue","TEXT_ALIGNMENT","storage","multiLine","disabled","readOnly","fieldName","maxLen","maxLength","comb","fieldWidth","combWidth","classList","letterSpacing","verticalAlign","display","_setTextStyle","textAlignment","textAlign","direction","fontWeight","fontStyle","checked","buttonValue","radio","getElementsByName","getAttribute","selectElement","combo","options","multiSelect","multiple","option","optionElement","displayValue","exportValue","selectedIndex","IGNORE_TYPES","parentType","selector","parentId","parentElement","querySelector","parentLeft","parseFloat","parentWidth","pinned","BACKGROUND_ENLIGHT","hideElement","dateObject","toLocaleDateString","toLocaleTimeString","_formatContents","_toggle","_show","_hide","lines","split","line","createTextNode","pin","hasAttribute","removeAttribute","zIndex","unpin","lineCoordinates","append","square","circle","containerClassName","svgElementName","coordinate","vertices","polyline","inkList","inkLists","file","eventBus","dispatch","_download","downloadData","AnnotationLayer","sortedAnnotations","popupAnnotations","annotations","update","renderTextLayer","MAX_TEXT_DIVS_TO_RENDER","NonWhitespaceRegexp","isAllWhitespace","test","appendText","geom","textDiv","textDivProperties","canvasWidth","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","_textDivs","_textDivProperties","tx","_viewport","atan2","fontName","PI","fontHeight","fontAscent","ascent","descent","_fontInspectorEnabled","shouldScaleText","absScaleX","absScaleY","_textContentStream","_layoutText","_enhanceTextSelection","angleCos","angleSin","divWidth","divHeight","_bounds","right","bottom","_canceled","textDivs","textDivsLength","_renderingDone","findPositiveMin","ts","expand","expanded","expandBounds","divProperties","Float64Array","boxScale","boxes","box","x1New","x2New","expandBoundsLTR","fakeBoundary","Infinity","horizon","boundary","horizonPart","affectedBoundary","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","unshift","used","concat","TextLayerRenderTask","textContentStream","textContentItemsStr","enhanceTextSelection","_textContent","_container","_textContentItemsStr","_reader","_layoutTextLastFontSize","_layoutTextLastFontFamily","_layoutTextCtx","_renderTimer","renderParameters","_render","timeout","_processItems","styleCache","len","mozOpaque","textItems","textStyles","expandTextDivs","expandDivs","transformBuf","paddingBuf","divProps","padding","SVGGraphics","SVG_DEFAULTS","XML_NS","XLINK_NS","convertImgDataToPng","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","crc32","crc","writePngChunk","adler32","deflateSync","literals","deflateSyncUncompressed","Buffer","output","maxBlockLength","deflateBlocks","idat","adler","encode","isMask","bitDepth","colorType","offsetLiterals","offsetBytes","ihdr","pngLength","SVGExtraState","dependencies","activeClipUrl","clipGroup","maskId","opListToTree","opList","opTree","opListElement","fn","pf","toFixed","pm","acos","clipCount","maskCount","shadingCount","transformMatrix","transformStack","extraStack","embedFonts","embeddedFonts","cssStyle","_operatorIdMapping","tgrp","executeOpTree","loadDependencies","getSVG","svgElement","convertOpList","operatorIdMapping","opTreeElement","lineMatrix","xcoords","ycoords","tspan","setAttributeNS","txtElement","txtgrp","lineWidthScale","_setStrokeAttributes","_ensureTransformGroup","addFontStyle","defs","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeShadingPattern","_makeTilingPattern","tilingId","tx0","ty0","tx1","ty1","xscale","yscale","txstep","tystep","tiling","shadingId","gradient","point0","point1","focalPoint","circlePoint","focalRadius","circleRadius","colorStop","stop","getAttributeNS","clipId","clipPath","clipElement","cloneNode","imgSrc","cliprect","imgEl","definitions","rootGroup","_ensureClipGroup","_network_utils","http","https","fileUriRegex","parseUrl","sourceUrl","parsedUrl","parse","host","isHttp","isFsUrl","_rangeRequestReaders","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_url","_storedError","_disableRange","_rangeChunkSize","_readableStream","_readCapability","_headersCapability","_error","_setReadableStream","BaseRangeReader","createRequestOptions","headers","auth","hostname","method","handleResponse","statusCode","getResponseHeader","allowRangeRequests","suggestedLength","validateRangeRequestCapabilities","extractFilenameFromHeader","_request","_httpHeaders","Range","lstat","stat","createReadStream","_content_disposition","returnValues","contentEncoding","contentDisposition","getFilenameFromContentDispositionHeader","createResponseStatusError","validateResponseStatus","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","TextDecoder","fatal","decode","err","contentDispositionStr","match","iter","quot","part","parts","quotindex","extvalue","encodingend","langvalue","charset","hex","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","getArrayBuffer","xhr","array","NetworkManager","getXhr","currXhrId","pendingRequests","requestRange","listeners","requestFull","xhrId","pendingRequest","setRequestHeader","expectedStatus","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","ok_response_on_range_request","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_onHeadersReceived","_onDone","_onError","_fullRequestId","_headersReceivedCapability","_cachedChunks","fullRequestXhrId","fullRequestXhr","lengthComputable","_requestId","_close","createFetchOptions","abortController","signal","credentials","redirect","createHeaders","Headers","PDFFetchStreamReader","PDFFetchStreamRangeReader","_withCredentials","AbortController","_abortController","_headers"],"sourceRoot":""}