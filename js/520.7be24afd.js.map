{"version":3,"file":"js/520.7be24afd.js","mappings":"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","sources":["webpack://THChatUI/./src/views/kb/index.vue","webpack://THChatUI/./src/schema/kbStoreHelper.js","webpack://THChatUI/./src/views/kb/index.vue?440f"],"sourcesContent":["<template>\n    <div>\n        <!-- 知识库列表 -->\n        <el-row :gutter=\"24\" justify=\"center\" style=\"margin-left: 0;margin-right: 0;\">\n            <el-col :md=\"22\" :sm=\"22\" :xs=\"22\">\n                <div class=\"kb-header\">\n                    <h4>我的知识库</h4>\n                </div>\n\n                <!-- 知识库卡片列表 -->\n                <el-row :gutter=\"24\">\n                    <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"6\">\n                        <div class=\"kb-card dashed-border create-kb-card\" @click=\"showCreateRepoDialog\">\n                            <div class=\"create-kb-content\">\n                                <el-icon :size=\"40\">\n                                    <Plus />\n                                </el-icon>\n                                <span class=\"create-text\">创建知识库</span>\n                            </div>\n                        </div>\n                    </el-col>\n                    <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"6\" v-for=\"repo in repos\" :key=\"repo.repoId\">\n                        <div class=\"kb-card dashed-border\">\n                            <div class=\"kb-card-header\">\n                                <div class=\"kb-card-title-row\">\n                                    <span class=\"kb-card-title\">{{ repo.name }}</span>\n                                    <div class=\"kb-card-actions\">\n                                        <el-tooltip content=\"管理\" placement=\"top\">\n                                            <svg class=\"action-icon\" @click=\"openRepo(repo)\"\n                                                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\"\n                                                height=\"16\" fill=\"none\">\n                                                <path\n                                                    d=\"M15.5 12C15.5 13.933 13.933 15.5 12 15.5C10.067 15.5 8.5 13.933 8.5 12C8.5 10.067 10.067 8.5 12 8.5C13.933 8.5 15.5 10.067 15.5 12Z\"\n                                                    stroke=\"currentColor\" stroke-width=\"1.5\" />\n                                                <path\n                                                    d=\"M21.011 14.0965C21.5329 13.9558 21.7939 13.8854 21.8969 13.7508C22 13.6163 22 13.3998 22 12.9669V11.0332C22 10.6003 22 10.3838 21.8969 10.2493C21.7938 10.1147 21.5329 10.0443 21.011 9.90358C19.0606 9.37759 17.8399 7.33851 18.3433 5.40087C18.4817 4.86799 18.5509 4.60156 18.4848 4.44529C18.4187 4.28902 18.2291 4.18134 17.8497 3.96596L16.125 2.98673C15.7528 2.77539 15.5667 2.66972 15.3997 2.69222C15.2326 2.71472 15.0442 2.90273 14.6672 3.27873C13.208 4.73448 10.7936 4.73442 9.33434 3.27864C8.95743 2.90263 8.76898 2.71463 8.60193 2.69212C8.43489 2.66962 8.24877 2.77529 7.87653 2.98663L6.15184 3.96587C5.77253 4.18123 5.58287 4.28891 5.51678 4.44515C5.45068 4.6014 5.51987 4.86787 5.65825 5.4008C6.16137 7.3385 4.93972 9.37763 2.98902 9.9036C2.46712 10.0443 2.20617 10.1147 2.10308 10.2492C2 10.3838 2 10.6003 2 11.0332V12.9669C2 13.3998 2 13.6163 2.10308 13.7508C2.20615 13.8854 2.46711 13.9558 2.98902 14.0965C4.9394 14.6225 6.16008 16.6616 5.65672 18.5992C5.51829 19.1321 5.44907 19.3985 5.51516 19.5548C5.58126 19.7111 5.77092 19.8188 6.15025 20.0341L7.87495 21.0134C8.24721 21.2247 8.43334 21.3304 8.6004 21.3079C8.76746 21.2854 8.95588 21.0973 9.33271 20.7213C10.7927 19.2644 13.2088 19.2643 14.6689 20.7212C15.0457 21.0973 15.2341 21.2853 15.4012 21.3078C15.5682 21.3303 15.7544 21.2246 16.1266 21.0133L17.8513 20.034C18.2307 19.8187 18.4204 19.711 18.4864 19.5547C18.5525 19.3984 18.4833 19.132 18.3448 18.5991C17.8412 16.6616 19.0609 14.6226 21.011 14.0965Z\"\n                                                    stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n                                            </svg>\n                                        </el-tooltip>\n\n                                        <el-tooltip content=\"删除\" placement=\"top\">\n                                            <svg class=\"action-icon delete\" @click=\"deleteRepo(repo.repoId)\"\n                                                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\"\n                                                height=\"16\" fill=\"none\">\n                                                <path\n                                                    d=\"M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5\"\n                                                    stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n                                                <path\n                                                    d=\"M3 5.5H21M16.0557 5.5L15.3731 4.09173C14.9196 3.15626 14.6928 2.68852 14.3017 2.39681C14.215 2.3321 14.1231 2.27454 14.027 2.2247C13.5939 2 13.0741 2 12.0345 2C10.9688 2 10.436 2 9.99568 2.23412C9.8981 2.28601 9.80498 2.3459 9.71729 2.41317C9.32164 2.7167 9.10063 3.20155 8.65861 4.17126L8.05292 5.5\"\n                                                    stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n                                                <path d=\"M9.5 16.5L9.5 10.5\" stroke=\"currentColor\" stroke-width=\"1.5\"\n                                                    stroke-linecap=\"round\" />\n                                                <path d=\"M14.5 16.5L14.5 10.5\" stroke=\"currentColor\" stroke-width=\"1.5\"\n                                                    stroke-linecap=\"round\" />\n                                            </svg>\n                                        </el-tooltip>\n                                    </div>\n                                </div>\n                            </div>\n                            <p class=\"kb-card-description\">{{ repo.description }}</p>\n                            <div class=\"kb-card-footer\">\n                                <span class=\"create-time\">创建时间: {{ repo.createTime }}</span>\n                            </div>\n                        </div>\n                    </el-col>\n                </el-row>\n\n            </el-col>\n        </el-row>\n\n        <!-- 自定义弹窗 -->\n        <CustomDialog v-model=\"createRepoDialogVisible\" title=\"创建知识库\">\n            <el-form :model=\"newKbForm\" label-width=\"100px\">\n                <el-form-item label=\"知识库名称\">\n                    <el-input v-model=\"newKbForm.name\" maxlength=\"10\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"描述\">\n                    <el-input type=\"textarea\" v-model=\"newKbForm.description\" />\n                </el-form-item>\n            </el-form>\n            <div style=\"text-align: right; margin-top: 20px;\">\n                <el-button type=\"primary\" @click=\"createRepo\">确定</el-button>\n                <el-button @click=\"createRepoDialogVisible = false\">取消</el-button>\n            </div>\n        </CustomDialog>\n\n        <!-- 文件列表弹窗 -->\n        <CustomDialog v-model=\"fileListDialogVisible\" :title=\"`${currentKb?.name || ''} - 文件列表`\">\n            <div class=\"file-container\">\n                <!-- 文件展示部分 -->\n                <div class=\"file-card\" v-for=\"x in files\">\n                    <img src=\"@/assets/images/file.svg\" alt=\"File Icon\" class=\"file-icon\" />\n                    <div class=\"file-details\">\n                        <div class=\"file-title\">{{ x.title }}</div>\n                        <div class=\"upload-time\">上传时间: {{ formattedTime(x.uuid) }}</div>\n                    </div>\n                    <button class=\"delete-btn\" @click=\"delFile(x.uuid)\">&#x2715;</button>\n                </div>\n\n                <div class=\"upload-card\" style=\"border-bottom: none;\">\n                    <el-upload class=\"upload-button\" drag action=\"/local/upload\" multiple :on-success=\"handleSuccess\"\n                        accept=\".pdf,.doc,.docx,.txt\">\n                        <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\n                        <div class=\"el-upload__text\">\n                            将文件拖拽至此处 或 <em>点击上传</em>\n                        </div>\n                        <template #tip>\n                            <div class=\"el-upload__tip\">\n                                目前仅支持5MB以内的PDF/DOC/DOCX/TXT文件上传，请确保文件格式正确\n                            </div>\n                        </template>\n                    </el-upload>\n                </div>\n            </div>\n        </CustomDialog>\n\n    </div>\n</template>\n\n<script>\nimport { Repository } from '@/schema/kb';\nimport kbStoreHelper from '@/schema/kbStoreHelper';\n\nexport default {\n    name: \"Kb\",\n    data() {\n        return {\n            currentKb: null, // 当前选中的知识库\n            // 创建知识库弹窗是否显示\n            createRepoDialogVisible: false,\n            // 文件列表弹窗显示状态\n            fileListDialogVisible: false, \n            // 创建知识库表单\n            newKbForm: {\n                // 知识库名称\n                name: '',\n                // 知识库描述\n                description: ''\n            }\n        }\n    },\n    computed: {\n        // 所有知识库\n        repos() {\n            return this.$store.state.app.kb.list;\n        },\n        files: {\n            get() {\n                return this.$store.state.app.files;\n            },\n            set(val) {\n                this.$store.dispatch('setFiles', val);\n            }\n        },\n    },\n    created() {\n        console.log(kbStoreHelper)\n    },\n    methods: {\n        onBack() {\n            // 返回首页\n            this.$router.push('/');\n        },\n        showCreateRepoDialog() {\n            this.createRepoDialogVisible = true;\n        },\n\n        /**\n         * 创建知识库\n         */\n        createRepo() {\n            const newRepo = new Repository(\n                Date.now(),\n                this.newKbForm.name,\n                new Date().toLocaleString(),\n                this.newKbForm.description,\n                []\n            );\n            kbStoreHelper.addRepo(newRepo);\n            this.createRepoDialogVisible = false;\n            this.newKbForm = { name: '', description: '' };\n        },\n\n        /**\n         * 删除知识库\n         * @param {string} repoId 要删除的知识库ID\n         */\n        deleteRepo(repoId) {\n            this.$confirm(this.$t('Common.confirmDelete'), this.$t('Common.warn'), {\n                confirmButtonText: this.$t('Common.confirm'),\n                cancelButtonText: this.$t('Common.cancel'),\n                type: 'warning'\n            }).then(() => {\n                kbStoreHelper.delRepo(repoId);\n                this.$notify({\n                    title: this.$t('Common.success'),\n                    message: this.$t('Common.deleteSuccess'),\n                    type: 'success'\n                });\n            }).catch(() => { });\n        },\n\n\n        openRepo(kb) {\n            this.currentKb = kb;\n            this.fileListDialogVisible = true;\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/**\n * 通用的hover和active效果定义\n */\n@mixin hover-active-effect {\n\n    &.active,\n    &:hover {\n        background: var(--aside-active-hover-bg);\n        border-radius: 5px;\n    }\n}\n\n/**\n * 表单Label颜色\n */\n:deep(.el-form-item__label) {\n    color: var(--common-color);\n}\n\n/**\n * 页面头部标题\n */\n.kb-header {\n    font-family: PingFang SC;\n    font-size: 28px;\n    line-height: 28px;\n    margin-bottom: 20px;\n}\n\n/**\n * 知识库卡片\n */\n.kb-card {\n    display: flex;\n    flex-direction: column;\n    width: 90%;\n    padding: 5px 18px;\n    border-radius: 8px;\n    margin: 5px 0 5px 0;\n    height: 120px;\n    justify-content: space-between;\n\n    /* 卡片内部头部 */\n    >.kb-card-header {\n        font-weight: bold;\n        margin-bottom: 10px;\n\n        /* 卡片标题行,包含标题和操作按钮 */\n        >.kb-card-title-row {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n\n            /* 卡片操作按钮容器 */\n            >.kb-card-actions {\n                display: flex;\n                gap: 12px;\n\n                .action-icon {\n                    cursor: pointer;\n                    font-size: 16px;\n                    padding: 4px;\n\n                    &:hover {\n                        @include hover-active-effect;\n                        color: #409EFF;\n                    }\n\n                    &.delete:hover {\n                        color: #F56C6C;\n                    }\n                }\n            }\n        }\n    }\n\n    /* 卡片描述文本 */\n    .kb-card-description {\n        font-size: 12px;\n        line-height: 1.5;\n        color: #666;\n        margin-bottom: 10px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        line-clamp: 2;\n        -webkit-box-orient: vertical;\n    }\n\n    /* 卡片底部信息 */\n    .kb-card-footer {\n        font-size: 12px;\n        color: #999;\n\n        /* 创建时间 */\n        >.create-time {\n            font-style: italic;\n        }\n    }\n}\n\n/**\n * 创建知识库卡片\n */\n.create-kb-card {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.3s;\n\n    &:hover {\n        background-color: #f5f7fa;\n    }\n\n    >.create-kb-content {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        color: #909399;\n\n        >.create-text {\n            margin-top: 10px;\n            font-size: 14px;\n        }\n    }\n}\n\n.file-container {\n    display: flex;\n    flex-direction: column;\n    padding: 5px;\n    border-radius: 8px;\n    margin: 5px 0 5px 0;\n\n    /* 卡片样式 */\n    >.file-card,\n    .upload-card {\n        display: flex;\n\n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px dashed grey;\n\n        /* 文件图标样式 */\n        >.file-icon {\n            width: 40px;\n            height: 40px;\n            object-fit: cover;\n            margin-right: 10px;\n            border-radius: 5px;\n        }\n\n        /* 文件详情样式 */\n        >.file-details {\n            flex: 1;\n\n            >.file-title {\n                font-size: 14px;\n                font-weight: bold;\n                margin-bottom: 5px;\n            }\n\n            >.upload-time {\n                font-size: 12px;\n                color: #777;\n            }\n        }\n\n        /* 删除按钮样式 */\n        >.delete-btn {\n            background: none;\n            border: none;\n            color: #f00;\n            cursor: pointer;\n            font-size: 18px;\n        }\n\n        /* 拖拽上传按钮 */\n        >.upload-button {\n            width: 100%;\n        }\n    }\n}\n\n:deep(.el-upload-dragger) {\n    padding: 0;\n    background: none;\n}\n\n.el-upload__tip {\n    text-align: center;\n}\n\n:deep(.el-page-header__content),\n:deep(.el-page-header__back) {\n    color: var(--common-color);\n}\n</style>\n","import store from '@/store'\n\nexport default {\n\n    /**\n     * 添加新的知识库Repo\n     * @param {Object} repo 知识库对象\n     */\n    addRepo(repo) {\n        let kb = store.state.app.kb;\n        kb.list.push(repo);\n        store.dispatch('setKb', kb);\n    },\n\n    /**\n     * 删除知识库Repo\n     * @param {string} repoId 要删除的知识库id\n     */\n    delRepo(repoId) {\n        let kb = store.state.app.kb;\n        kb.list = kb.list.filter(repo => repo.repoId !== repoId);\n        store.dispatch('setKb', kb);\n    },\n\n    /**\n     * 更新知识库Repo\n     * @param {string} repoId 要更新的知识库id\n     * @param {Object} newRepo 新的知识库对象\n     */\n    updRepo(repoId, newRepo) {\n        let kb = store.state.app.kb;\n        let index = kb.list.findIndex(repo => repo.id === repoId);\n        if (index !== -1) {\n            kb.list[index] = newRepo;\n            store.dispatch('setKb', kb);\n        }\n    }\n\n}\n","import { render } from \"./index.vue?vue&type=template&id=ef99343e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ef99343e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ef99343e\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","d","stroke","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","style","src","_imports_0","alt","_createTextVNode","_createElementBlock","_createVNode","_component_el_row","gutter","justify","default","_withCtx","_component_el_col","md","sm","xs","_hoisted_1","lg","xl","onClick","_cache","args","$options","showCreateRepoDialog","_hoisted_2","_component_el_icon","size","_component_Plus","_","_hoisted_3","_Fragment","_renderList","repos","repo","_createBlock","key","repoId","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","name","_hoisted_8","_component_el_tooltip","content","placement","$event","openRepo","xmlns","viewBox","width","height","fill","_hoisted_12","_hoisted_9","deleteRepo","_hoisted_18","_hoisted_13","_hoisted_19","description","_hoisted_20","_hoisted_21","createTime","_component_CustomDialog","modelValue","$data","createRepoDialogVisible","title","_component_el_form","model","newKbForm","_component_el_form_item","label","_component_el_input","maxlength","type","_hoisted_22","_component_el_button","createRepo","fileListDialogVisible","currentKb","_hoisted_23","files","x","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_ctx","formattedTime","uuid","delFile","_hoisted_29","_hoisted_30","_component_el_upload","drag","action","multiple","handleSuccess","accept","tip","_hoisted_32","_component_upload_filled","_hoisted_31","addRepo","kb","store","state","app","list","push","dispatch","delRepo","filter","updRepo","newRepo","index","findIndex","id","data","computed","this","$store","get","set","val","created","console","log","kbStoreHelper","methods","onBack","$router","Repository","Date","now","toLocaleString","$confirm","$t","confirmButtonText","cancelButtonText","then","$notify","message","catch","__exports__","render"],"sourceRoot":""}