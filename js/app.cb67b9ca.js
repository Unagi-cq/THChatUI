(function(){var e={16378:function(e,t,a){"use strict";var o=a(45130),i=a(31464),l=(a(4188),a(42355),a(57477)),s=a(93851),n=a(58828),r=a(56768);function d(e,t,a,o,i,l){const s=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(s)}var c=a(90144),u=a(60782);const h=(e,t)=>{let a;return(...o)=>{a&&clearTimeout(a),a=setTimeout((()=>{e(...o)}),t)}},p=window.ResizeObserver;class m extends p{constructor(e){e=h(e,200),super(e)}}window.ResizeObserver=m;var g={setup(){const e=(0,u.Pj)(),t=(0,c.KR)(e.state.setting.theme),a=e=>{document.body.className=`${e}-theme`},o=e=>{e&&document.documentElement.style.setProperty("--custom-bg",`url(${e})`)};return(0,r.wB)((()=>e.state.setting.theme),a),(0,r.wB)((()=>e.state.setting.bg),o),(0,r.sV)((()=>{a(t.value),o(e.state.setting.bg)})),{}}},f=a(71241);const v=(0,f.A)(g,[["render",d]]);var k=v,b=a(81387),C=a(24232);const _=e=>((0,r.Qi)("data-v-69356436"),e=e(),(0,r.jt)(),e),w={class:"common-layout"},y=_((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.997314453125",height:"28.001953125",viewBox:"0 0 5.997314453125 28.001953125"},[(0,r.Lk)("g",null,[(0,r.Lk)("g",null,[(0,r.Lk)("path",{d:"M1.76479,1.83999484375L0.0229461,13.55206484375Q-0.0106777,13.77816484375,0.00468256,14.00546484375Q-0.00940751,14.22826484375,0.0235386,14.44976484375L1.76538,26.16176484375Q1.78073,26.26496484375,1.80613,26.36626484375Q1.83154,26.46766484375,1.86676,26.56616484375Q1.90198,26.66466484375,1.94667,26.75946484375Q1.99137,26.85416484375,2.04511,26.94426484375Q2.09885,27.03426484375,2.16112,27.11886484375Q2.22339,27.20336484375,2.29359,27.28156484375Q2.36379,27.35966484375,2.44124,27.43076484375Q2.51869,27.50176484375,2.60264,27.56506484375Q2.6866,27.62826484375,2.77625,27.68316484375Q2.86591,27.73796484375,2.96039,27.78386484375Q3.05488,27.82976484375,3.1533,27.86626484375Q3.25171,27.90286484375,3.3531,27.92966484375Q3.45449,27.95646484375,3.55788,27.97326484375Q3.66127,27.99006484375,3.76566,27.99676484375Q3.87005,28.00336484375,3.97445,27.99986484375Q4.07884,27.99626484375,4.18223,27.98256484375Q4.38946,27.95506484375,4.58672,27.88766484375Q4.78398,27.82036484375,4.96367,27.71576484375Q5.14337,27.61126484375,5.29861,27.47346484375Q5.45384,27.33566484375,5.57866,27.17006484375Q5.70352,27.00426484375,5.79313,26.81696484375Q5.88274,26.62966484375,5.93366,26.42796484375Q5.98459,26.22626484375,5.99486,26.01796484375Q6.00513,25.80966484375,5.97436,25.60276484375L4.2486,13.99886484375L5.97378,2.39897484375Q6.00455,2.19207484375,5.99427,1.98378484375Q5.984,1.77549484375,5.93308,1.57381484375Q5.88215,1.37214484375,5.79254,1.18482484375Q5.70293,0.99751484375,5.57807,0.83176884375Q5.45325,0.66608384375,5.29802,0.52831484375Q5.14278,0.39054584375,4.96308,0.28598684375Q4.78339,0.18142684375,4.58613,0.11409284375Q4.38888,0.04675804375,4.18164,0.01923584375Q4.07825,0.00550537375,3.97386,0.00195430175Q3.86947,-0.0015967662500000002,3.76507,0.005065743750000001Q3.66068,0.01172824375,3.55729,0.02854014375Q3.4539,0.04535214375,3.35251,0.07215154375Q3.25112,0.09895094375,3.15271,0.13547984375Q3.05429,0.17200884375,2.95981,0.21791484375Q2.86532,0.26382184375,2.77566,0.31866384375Q2.68601,0.37350584375,2.60205,0.43675484375Q2.5181,0.5000038437500001,2.44065,0.57105184375Q2.3632,0.64209984375,2.293,0.72026084375Q2.2228,0.79842284375,2.16053,0.88294584375Q2.09826,0.96746784375,2.04452,1.05753484375Q1.99078,1.14760484375,1.94608,1.24235484375Q1.90139,1.33710484375,1.86617,1.43562484375Q1.83095,1.53414484375,1.80554,1.63547484375Q1.78014,1.73681484375,1.76479,1.83999484375Z","fill-rule":"evenodd","fill-opacity":"1","data-spm-anchor-id":"5176.28103460.0.i1.297c5d27QZetGL"})])])],-1))),S=[y];function L(e,t,a,o,i,l){const s=(0,r.g2)("app-aside"),n=(0,r.g2)("el-aside"),d=(0,r.g2)("app-header"),c=(0,r.g2)("el-header"),u=(0,r.g2)("router-view"),h=(0,r.g2)("el-main"),p=(0,r.g2)("app-footer"),m=(0,r.g2)("el-footer"),g=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.CE)("div",w,[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[i.active?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:0,class:"overlay overlay-bg",onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e))})),(0,r.bF)(n,{class:(0,C.C4)(["aside-bg",{"no-border":i.active}])},{default:(0,r.k6)((()=>[(0,r.bF)(s,{onToggleSidebar:l.toggleSidebar},null,8,["onToggleSidebar"])])),_:1},8,["class"]),(0,r.Lk)("div",{class:(0,C.C4)(["vertical-divider",{active:i.active}]),onClick:t[1]||(t[1]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e))},S,2),(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{class:"header-bg"},{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1}),(0,r.bF)(g,{class:"main-bg"},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(u)])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1})])),_:1})])),_:1})])),_:1})])}const A=e=>((0,r.Qi)("data-v-3a0f3206"),e=e(),(0,r.jt)(),e),x={class:"container"},T={class:"logo"},I=["src"],F=A((()=>(0,r.Lk)("span",null,"THChatUI",-1))),E={class:"chats"},M={class:"chats-header"},V=["onClick"],B={class:"title"},$={key:0,class:"btn-box"},z=["onClick"],Q=A((()=>(0,r.Lk)("path",{d:"M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),P=A((()=>(0,r.Lk)("path",{d:"M3 5.5H21M16.0557 5.5L15.3731 4.09173C14.9196 3.15626 14.6928 2.68852 14.3017 2.39681C14.215 2.3321 14.1231 2.27454 14.027 2.2247C13.5939 2 13.0741 2 12.0345 2C10.9688 2 10.436 2 9.99568 2.23412C9.8981 2.28601 9.80498 2.3459 9.71729 2.41317C9.32164 2.7167 9.10063 3.20155 8.65861 4.17126L8.05292 5.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),U=A((()=>(0,r.Lk)("path",{d:"M9.5 16.5L9.5 10.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),X=A((()=>(0,r.Lk)("path",{d:"M14.5 16.5L14.5 10.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),W=[Q,P,U,X],q={class:"optionBar"},O={class:"options"},R=A((()=>(0,r.Lk)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M7 6.00085H16.75C18.8567 6.00085 19.91 6.00085 20.6667 6.50644C20.9943 6.72532 21.2755 7.00657 21.4944 7.33414C22 8.09081 22 9.14416 22 11.2509C22 14.7621 22 16.5176 21.1573 17.7788C20.975 18.0517 20.7666 18.3054 20.5355 18.5364M3.46447 18.5364C2 17.072 2 14.7149 2 10.0009V6.94512C2 5.12865 2 4.22041 2.38032 3.53891C2.65142 3.05312 3.05227 2.65227 3.53806 2.38117C4.21956 2.00085 5.1278 2.00085 6.94427 2.00085C8.10802 2.00085 8.6899 2.00085 9.19926 2.19186C10.3622 2.62797 10.8418 3.68443 11.3666 4.73398L12 6.00085",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M10.4499 12.0009V13.9799M6.96289 15.5012H9.01487M14.986 15.5012H17.0379M14.986 18.4745H17.0379M6.96289 18.4745H9.01487M10.4499 20.0201V21.9991M13.4754 20.0201V21.9991M13.4646 12.0009V13.9799M10.0149 19.9684H13.986C14.5382 19.9684 14.986 19.5207 14.986 18.9684V14.9799C14.986 14.4276 14.5382 13.9799 13.986 13.9799H10.0149C9.46258 13.9799 9.01487 14.4276 9.01487 14.9799V18.9684C9.01487 19.5207 9.46258 19.9684 10.0149 19.9684Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1))),D={class:"option-text red-dot-wrapper"},K=A((()=>(0,r.Lk)("div",{class:"divider"},[(0,r.Lk)("div",{class:"border"})],-1))),N=A((()=>(0,r.Lk)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M15.5 11.5C15.5 13.433 13.933 15 12 15C10.067 15 8.5 13.433 8.5 11.5C8.5 9.567 10.067 8 12 8C13.933 8 15.5 9.567 15.5 11.5Z",stroke:"currentColor","stroke-width":"1.5"}),(0,r.Lk)("path",{d:"M21 13.5995C21.3155 13.5134 21.6503 13.4669 22 13.4669V9.53324C19.1433 9.53324 17.2857 6.43041 18.732 3.96691L15.2679 2.0001C13.8038 4.49405 10.1978 4.49395 8.73363 2L5.26953 3.96681C6.71586 6.43035 4.85673 9.53324 2 9.53324V13.4669C4.85668 13.4669 6.71425 16.5697 5.26795 19.0332L8.73205 21C9.46434 19.7527 10.7321 19.1289 12 19.1286",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M18.5 15L18.7579 15.697C19.0961 16.611 19.2652 17.068 19.5986 17.4014C19.932 17.7348 20.389 17.9039 21.303 18.2421L22 18.5L21.303 18.7579C20.389 19.0961 19.932 19.2652 19.5986 19.5986C19.2652 19.932 19.0961 20.389 18.7579 21.303L18.5 22L18.2421 21.303C17.9039 20.389 17.7348 19.932 17.4014 19.5986C17.068 19.2652 16.611 19.0961 15.697 18.7579L15 18.5L15.697 18.2421C16.611 17.9039 17.068 17.7348 17.4014 17.4014C17.7348 17.068 17.9039 16.611 18.2421 15.697L18.5 15Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"})],-1))),j={class:"option-text"},H=A((()=>(0,r.Lk)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M12 11.5C12.4955 11.5 12.9562 11.3015 13.8775 10.9045L14.5423 10.618C16.1808 9.91202 17 9.55902 17 9C17 8.44098 16.1808 8.08798 14.5423 7.38197L13.8775 7.09549C12.9562 6.6985 12.4955 6.5 12 6.5C11.5045 6.5 11.0438 6.6985 10.1225 7.09549L9.45768 7.38197C7.81923 8.08798 7 8.44098 7 9C7 9.55902 7.81923 9.91202 9.45768 10.618L10.1225 10.9045C11.0438 11.3015 11.5045 11.5 12 11.5ZM12 11.5V17.5",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M17 9V15C17 15.559 16.1808 15.912 14.5423 16.618L13.8775 16.9045C12.9562 17.3015 12.4955 17.5 12 17.5C11.5045 17.5 11.0438 17.3015 10.1225 16.9045L9.45768 16.618C7.81923 15.912 7 15.559 7 15V9",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M9.14426 2.5C6.48724 2.56075 4.93529 2.81456 3.87493 3.87493C2.81456 4.93529 2.56075 6.48724 2.5 9.14426M14.8557 2.5C17.5128 2.56075 19.0647 2.81456 20.1251 3.87493C21.1854 4.93529 21.4392 6.48724 21.5 9.14426M14.8557 21.5C17.5128 21.4392 19.0647 21.1854 20.1251 20.1251C21.1854 19.0647 21.4392 17.5128 21.5 14.8557M9.14426 21.5C6.48724 21.4392 4.93529 21.1854 3.87493 20.1251C2.81456 19.0647 2.56075 17.5128 2.5 14.8557",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),J={class:"option-text"},Z=A((()=>(0,r.Lk)("div",{class:"divider"},[(0,r.Lk)("div",{class:"border"})],-1))),G=A((()=>(0,r.Lk)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M2.5 16.5C2.5 17.4293 2.5 17.894 2.57686 18.2804C2.89249 19.8671 4.13288 21.1075 5.71964 21.4231C6.10603 21.5 6.57069 21.5 7.5 21.5M21.5 16.5C21.5 17.4293 21.5 17.894 21.4231 18.2804C21.1075 19.8671 19.8671 21.1075 18.2804 21.4231C17.894 21.5 17.4293 21.5 16.5 21.5M21.5 7.5C21.5 6.57069 21.5 6.10603 21.4231 5.71964C21.1075 4.13288 19.8671 2.89249 18.2804 2.57686C17.894 2.5 17.4293 2.5 16.5 2.5M2.5 7.5C2.5 6.57069 2.5 6.10603 2.57686 5.71964C2.89249 4.13288 4.13288 2.89249 5.71964 2.57686C6.10603 2.5 6.57069 2.5 7.5 2.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M12 8.5V6.5M10 11.5V12M14 11.5V12M11 8.5H13C14.8856 8.5 15.8284 8.5 16.4142 9.08579C17 9.67157 17 10.6144 17 12.5V12.5C17 14.3856 17 15.3284 16.4142 15.9142C15.8284 16.5 14.8856 16.5 13 16.5H11C9.11438 16.5 8.17157 16.5 7.58579 15.9142C7 15.3284 7 14.3856 7 12.5V12.5C7 10.6144 7 9.67157 7.58579 9.08579C8.17157 8.5 9.11438 8.5 11 8.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),Y={class:"option-text"};function ee(e,t,a,i,l,s){const n=(0,r.g2)("Plus"),d=(0,r.g2)("el-icon"),c=(0,r.g2)("CustomDialog");return(0,r.uX)(),(0,r.CE)("div",x,[(0,r.Lk)("div",T,[(0,r.Lk)("img",{src:s.logoSrc,alt:"logo"},null,8,I),F]),(0,r.Lk)("div",E,[(0,r.Lk)("div",M,[(0,r.Lk)("span",null,(0,C.v_)(e.$t("AppAside.chat_header_title")),1),(0,r.bF)(d,{class:"header-icon",onClick:s.startNewSession},{default:(0,r.k6)((()=>[(0,r.bF)(n)])),_:1},8,["onClick"])]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tab.getAllTabs(),(e=>((0,r.uX)(),(0,r.CE)("div",{class:(0,C.C4)(["session flex",{active:e.uuid===s.active}]),key:"x.uuid",onClick:t=>s.pickTab(e.uuid)},[(0,r.Lk)("div",B,[(0,r.Lk)("span",null,(0,C.v_)(e.title),1),e.uuid===s.active?((0,r.uX)(),(0,r.CE)("div",$,[((0,r.uX)(),(0,r.CE)("svg",{onClick:(0,o.D$)((t=>s.delTab(e.uuid)),["stop"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none"},W,8,z))])):(0,r.Q3)("",!0)])],10,V)))),128))]),(0,r.Lk)("div",q,[(0,r.Lk)("div",O,[(0,r.Lk)("div",{class:"option",onClick:t[0]||(t[0]=e=>s.goToPage("/kb"))},[R,(0,r.Lk)("div",D,(0,C.v_)(e.$t("AppAside.tool_kb_name")),1)]),K,(0,r.Lk)("div",{class:"option",onClick:t[1]||(t[1]=e=>s.goToDialog("/setting"))},[N,(0,r.Lk)("div",j,(0,C.v_)(e.$t("AppAside.tool_setting_name")),1)]),(0,r.Lk)("div",{class:"option",onClick:t[2]||(t[2]=e=>s.goToPage("/docs"))},[H,(0,r.Lk)("div",J,(0,C.v_)(e.$t("AppAside.tool_docs_name")),1)]),Z,(0,r.Lk)("div",{class:"option",onClick:t[3]||(t[3]=e=>s.goToDialog("/about"))},[G,(0,r.Lk)("div",Y,(0,C.v_)(e.$t("AppAside.tool_about_name")),1)])])]),(0,r.bF)(c,{modelValue:l.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>l.dialogVisible=e),title:l.dialogTitle},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.Wv)((0,r.$y)(l.currentComponent)))])),_:1},8,["modelValue","title"])])}a(44114);const te={class:"flex flex-col items-center"},ae={class:"preset-bg-container"},oe=["onClick"],ie=["src"],le=["src"],se={class:"openai-divider"},ne={class:"openai-divider"};function re(e,t,a,o,i,l){const s=(0,r.g2)("el-radio"),n=(0,r.g2)("el-radio-group"),d=(0,r.g2)("el-form-item"),c=(0,r.g2)("el-tag"),u=(0,r.g2)("el-form"),h=(0,r.g2)("el-tab-pane"),p=(0,r.g2)("el-segmented"),m=(0,r.g2)("el-option"),g=(0,r.g2)("el-select"),f=(0,r.g2)("el-switch"),v=(0,r.g2)("el-input-number"),k=(0,r.g2)("Plus"),b=(0,r.g2)("el-icon"),_=(0,r.g2)("el-upload"),w=(0,r.g2)("el-button"),y=(0,r.g2)("el-text"),S=(0,r.g2)("el-input"),L=(0,r.g2)("QuestionFilled"),A=(0,r.g2)("el-tooltip"),x=(0,r.g2)("el-tabs");return(0,r.uX)(),(0,r.Wv)(x,{class:"demo-tabs"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{label:e.$t("Setting.tabs.model")},{default:(0,r.k6)((()=>[(0,r.bF)(u,{"label-width":"100","label-position":"left"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{label:e.$t("Setting.model.platform")},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.platform,"onUpdate:modelValue":t[0]||(t[0]=e=>l.platform=e),class:"platform-radio-group",size:"small"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.model_list,((e,t)=>((0,r.uX)(),(0,r.Wv)(s,{value:t,key:t},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.platform_name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),(0,r.bF)(d,{label:e.$t("Setting.model.textModel")},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.model_version,"onUpdate:modelValue":t[1]||(t[1]=e=>l.model_version=e),class:"platform-radio-group",size:"small"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.model_list[l.platform].list.filter((e=>"llm"===e.type)),(e=>((0,r.uX)(),(0,r.Wv)(s,{value:e.version},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.name)+" ",1),e.can_web_search?((0,r.uX)(),(0,r.Wv)(c,{key:0,size:"small",class:"web-tag"},{default:(0,r.k6)((()=>[(0,r.eW)("Web")])),_:1})):(0,r.Q3)("",!0)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1},8,["label"]),i.model_list[l.platform].list.some((e=>"vim"===e.type))?((0,r.uX)(),(0,r.Wv)(d,{key:0,label:e.$t("Setting.model.visualInterpretationModel")},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.model_version,"onUpdate:modelValue":t[2]||(t[2]=e=>l.model_version=e),class:"platform-radio-group",size:"small"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.model_list[l.platform].list.filter((e=>"vim"===e.type)),(e=>((0,r.uX)(),(0,r.Wv)(s,{value:e.version,class:"vl-model"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1},8,["label"])):(0,r.Q3)("",!0),i.model_list[l.platform].list.some((e=>"igm"===e.type))?((0,r.uX)(),(0,r.Wv)(d,{key:1,label:e.$t("Setting.model.imageGenerationModel")},{default:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:l.model_version,"onUpdate:modelValue":t[3]||(t[3]=e=>l.model_version=e),class:"platform-radio-group",size:"small"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.model_list[l.platform].list.filter((e=>"igm"===e.type)),(e=>((0,r.uX)(),(0,r.Wv)(s,{value:e.version,class:"vl-model"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1},8,["label"])):(0,r.Q3)("",!0)])),_:1})])),_:1},8,["label"]),(0,r.bF)(h,{label:e.$t("Setting.tabs.general"),class:"flex-form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{"label-width":"130","label-position":"left"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{label:e.$t("Setting.general.theme")},{default:(0,r.k6)((()=>[(0,r.bF)(p,{modelValue:l.theme,"onUpdate:modelValue":t[4]||(t[4]=e=>l.theme=e),options:[{label:e.$t("Setting.general.themeOptions.glass"),value:"glass"},{label:e.$t("Setting.general.themeOptions.dark"),value:"dark"},{label:e.$t("Setting.general.themeOptions.light"),value:"light"}]},{default:(0,r.k6)((({item:e})=>[(0,r.Lk)("div",te,[(0,r.Lk)("div",null,(0,C.v_)(e.label),1)])])),_:1},8,["modelValue","options"])])),_:1},8,["label"]),(0,r.bF)(d,{label:e.$t("Setting.general.language")},{default:(0,r.k6)((()=>[(0,r.bF)(g,{modelValue:l.locale,"onUpdate:modelValue":t[5]||(t[5]=e=>l.locale=e)},{default:(0,r.k6)((()=>[(0,r.bF)(m,{label:"ç®€ä½“ä¸­æ–‡",value:"zh-CN"}),(0,r.bF)(m,{label:"English",value:"en-US"})])),_:1},8,["modelValue"])])),_:1},8,["label"]),(0,r.bF)(d,{label:e.$t("Setting.general.multiRound"),prop:"memory"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:l.memory,"onUpdate:modelValue":t[6]||(t[6]=e=>l.memory=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.bF)(d,{label:e.$t("Setting.general.memoryLimit")},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:l.memoryLimit,"onUpdate:modelValue":t[7]||(t[7]=e=>l.memoryLimit=e),min:3,max:8,step:1,"controls-position":"right"},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.bF)(d,{label:e.$t("Setting.general.chatStats"),prop:"chat_detail"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:l.chat_detail,"onUpdate:modelValue":t[8]||(t[8]=e=>l.chat_detail=e)},null,8,["modelValue"])])),_:1},8,["label"]),"glass"===l.theme?((0,r.uX)(),(0,r.Wv)(d,{key:0,label:e.$t("Setting.general.background")},{default:(0,r.k6)((()=>[(0,r.Lk)("div",ae,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.presetBgs,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,C.C4)(["preset-bg-item",{active:l.currentBg===e}]),onClick:t=>l.selectPresetBg(e)},[(0,r.Lk)("img",{src:e,alt:"preset background"},null,8,ie)],10,oe)))),128)),(0,r.bF)(_,{class:"preset-bg-item avatar-uploader",action:"","show-file-list":!1,"auto-upload":!1,accept:"image/*","on-change":l.handleBgChange},{default:(0,r.k6)((()=>[l.currentBg&&!i.presetBgs.includes(l.currentBg)?((0,r.uX)(),(0,r.CE)("img",{key:0,src:l.currentBg,class:"preview-img",alt:"background"},null,8,le)):((0,r.uX)(),(0,r.Wv)(b,{key:1,class:"avatar-uploader-icon"},{default:(0,r.k6)((()=>[(0,r.bF)(k)])),_:1}))])),_:1},8,["on-change"])])])),_:1},8,["label"])):(0,r.Q3)("",!0),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(w,{class:"mt-2",type:"warning",onClick:l.clearLocalStorage},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("Setting.general.clearCache")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["label"]),(0,r.bF)(h,{label:e.$t("Setting.tabs.key"),class:"flex-form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{"label-width":"100","label-position":"left"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.filteredModelList,((t,a)=>((0,r.uX)(),(0,r.Wv)(d,{label:t.platform_name,key:a},{default:(0,r.k6)((()=>["Xunfei_Spark"===a?((0,r.uX)(),(0,r.Wv)(y,{key:0,type:"info"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("Setting.key.xunfeiTip")),1)])),_:1})):"Local"===a?((0,r.uX)(),(0,r.Wv)(y,{key:1,type:"info"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("Setting.key.localTip")),1)])),_:1})):((0,r.uX)(),(0,r.Wv)(S,{key:2,modelValue:l.api_key_map[a],"onUpdate:modelValue":e=>l.api_key_map[a]=e,placeholder:e.$t("Setting.key.placeholder",{platform:t.platform_name}),onChange:e=>l.updateApiKey(a,e)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"]))])),_:2},1032,["label"])))),128)),(0,r.Lk)("div",se,[(0,r.Lk)("span",null,(0,C.v_)(e.$t("Setting.key.openaiDivider")),1)]),(0,r.bF)(d,{label:"Endpoint"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:l.api_key_map["OpenAI"].endpoint,"onUpdate:modelValue":t[9]||(t[9]=e=>l.api_key_map["OpenAI"].endpoint=e),placeholder:"è¯·è¾“å…¥API Endpoint",onChange:t[10]||(t[10]=e=>l.updateOpenAIConfig("OpenAI","endpoint",e))},null,8,["modelValue"])])),_:1}),(0,r.bF)(d,{label:"API Key"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:l.api_key_map["OpenAI"].api_key,"onUpdate:modelValue":t[11]||(t[11]=e=>l.api_key_map["OpenAI"].api_key=e),placeholder:"è¯·è¾“å…¥API Key",onChange:t[12]||(t[12]=e=>l.updateOpenAIConfig("OpenAI","api_key",e))},null,8,["modelValue"])])),_:1}),(0,r.bF)(d,{label:"Model"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:l.api_key_map["OpenAI"].model_name,"onUpdate:modelValue":t[13]||(t[13]=e=>l.api_key_map["OpenAI"].model_name=e),placeholder:"è¯·è¾“å…¥æ¨¡å‹åç§°",onChange:t[14]||(t[14]=e=>l.updateOpenAIConfig("OpenAI","model_name",e))},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["label"]),(0,r.bF)(h,{label:e.$t("Setting.tabs.knowledge"),class:"flex-form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{"label-width":"130","label-position":"left"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{label:e.$t("Setting.knowledge.enable")},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:l.knowledgeEnabled,"onUpdate:modelValue":t[15]||(t[15]=e=>l.knowledgeEnabled=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Lk)("div",ne,[(0,r.Lk)("span",null,(0,C.v_)(e.$t("Setting.knowledge.localDivider")),1)]),l.knowledgeEnabled?((0,r.uX)(),(0,r.Wv)(d,{key:0,label:e.$t("Setting.knowledge.select")},{default:(0,r.k6)((()=>[(0,r.bF)(g,{modelValue:l.selectedRepoId,"onUpdate:modelValue":t[16]||(t[16]=e=>l.selectedRepoId=e),clearable:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.repoList,(e=>((0,r.uX)(),(0,r.Wv)(m,{key:e.repoId,label:e.name,value:e.repoId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"])):(0,r.Q3)("",!0),(0,r.bF)(d,null,{label:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("Setting.knowledge.chunkSize"))+" ",1),(0,r.bF)(A,{content:e.$t("Setting.knowledge.chunkSizeTip"),effect:"dark",placement:"top"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{class:"tips-icon"},{default:(0,r.k6)((()=>[(0,r.bF)(L)])),_:1})])),_:1},8,["content"])])),default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:l.chunkSize,"onUpdate:modelValue":t[17]||(t[17]=e=>l.chunkSize=e),min:200,max:1e3,step:100,"controls-position":"right"},null,8,["modelValue"])])),_:1}),(0,r.bF)(d,null,{label:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("Setting.knowledge.recall"))+" ",1),(0,r.bF)(A,{content:e.$t("Setting.knowledge.recallTip"),effect:"dark",placement:"top"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{class:"tips-icon"},{default:(0,r.k6)((()=>[(0,r.bF)(L)])),_:1})])),_:1},8,["content"])])),default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:l.recallCount,"onUpdate:modelValue":t[18]||(t[18]=e=>l.recallCount=e),min:1,max:3,step:1,"controls-position":"right"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["label"]),(0,r.bF)(h,{label:e.$t("Setting.tabs.web_search"),class:"flex-form-item"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{"label-width":"130","label-position":"left"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{label:e.$t("Setting.web_search.enable")},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:l.webSearchEnabled,"onUpdate:modelValue":t[19]||(t[19]=e=>l.webSearchEnabled=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1},8,["label"])])),_:1})}var de=a(32984),ce=a.p+"img/bg.0f069964.jpg",ue=a(59926),he={name:"Setting",components:{QuestionFilled:l.QuestionFilled},data(){return{model_list:de.model_list,filteredModelList:[],presetBgs:[ce,ue]}},computed:{platform:{get(){return this.$store.state.setting.platform},set(e){this.$store.dispatch("changeSetting",{key:"platform",value:e}),this.model_version=this.model_list[e].list[0].version}},model_version:{get(){return this.$store.state.setting.model_config.version},set(e){const t=this.model_list[this.platform].list.find((t=>t.version===e));this.$store.dispatch("changeSetting",{key:"model_config",value:t})}},theme:{get(){return this.$store.state.setting.theme},set(e){document.body.className=e+"-theme",this.$store.dispatch("changeSetting",{key:"theme",value:e})}},locale:{get(){return this.$i18n.locale},set(e){this.$i18n.locale=e,localStorage.setItem("locale",e)}},memory:{get(){return this.$store.state.setting.memory},set(e){this.$store.dispatch("changeSetting",{key:"memory",value:e})}},memoryLimit:{get(){return this.$store.state.setting.memory_limit||3},set(e){this.$store.dispatch("changeSetting",{key:"memory_limit",value:e})}},chat_detail:{get(){return this.$store.state.setting.chat_detail},set(e){this.$store.dispatch("changeSetting",{key:"chat_detail",value:e})}},knowledgeEnabled:{get(){return this.$store.state.setting.kb_enabled||!1},set(e){this.$store.dispatch("changeSetting",{key:"kb_enabled",value:e})}},selectedRepoId:{get(){return this.$store.state.setting.selected_repoId},set(e){this.$store.dispatch("changeSetting",{key:"selected_repoId",value:e})}},chunkSize:{get(){return this.$store.state.setting.chunk_size||500},set(e){this.$store.dispatch("changeSetting",{key:"chunk_size",value:e})}},recallCount:{get(){return this.$store.state.setting.recall_count||3},set(e){this.$store.dispatch("changeSetting",{key:"recall_count",value:e})}},webSearchEnabled:{get(){return this.$store.state.setting.web_search_enabled},set(e){this.$store.dispatch("changeSetting",{key:"web_search_enabled",value:e})}},currentBg(){return this.$store.state.setting.bg},api_key_map(){return this.$store.state.setting.api_key_map},repoList(){return this.$store.state.app.kb.list||[]}},created(){this.filteredModelList=Object.fromEntries(Object.entries(this.model_list).filter((([e])=>"Xunfei_Spark"!==e&&"Local"!==e&&"OpenAI"!==e)))},methods:{handleBgChange(e){const t=e.raw.size/1024/1024<3;if(!t)return void this.$notify({title:this.$t("Setting.upload.failed"),message:this.$t("Setting.upload.sizeLimit"),type:"warning"});const a=new FileReader;a.readAsDataURL(e.raw),a.onload=()=>{this.bg=a.result,this.$store.dispatch("changeSetting",{key:"bg",value:a.result})}},clearLocalStorage(){this.$confirm(this.$t("Setting.general.clearCacheConfirm"),this.$t("Common.warn"),{confirmButtonText:this.$t("Common.confirm"),cancelButtonText:this.$t("Common.cancel"),type:"warning"}).then((()=>{this.$store.dispatch("clearAll"),this.$notify({title:this.$t("Common.success"),message:this.$t("Setting.general.clearCacheSuccess"),type:"success"}),window.location.reload()})).catch((()=>{}))},updateApiKey(e,t){const a={...this.api_key_map};a[e]=t,this.$store.dispatch("changeSetting",{key:"api_key_map",value:a})},selectPresetBg(e){this.$store.dispatch("changeSetting",{key:"bg",value:e})},updateOpenAIConfig(e,t,a){const o={...this.api_key_map};o[e]={...o[e],[t]:a},this.$store.dispatch("changeSetting",{key:"api_key_map",value:o})}}};const pe=(0,f.A)(he,[["render",re],["__scopeId","data-v-ed7559d6"]]);var me=pe;const ge=e=>((0,r.Qi)("data-v-613bf38a"),e=e(),(0,r.jt)(),e),fe={class:"about-container"},ve={class:"title-section"},ke=["src"],be=(0,r.Fv)('<span class="title" data-v-613bf38a>THChatUI</span><p class="subtitle" data-v-613bf38a>æ¬¢è¿ä½¿ç”¨<span data-v-613bf38a>THChatUI</span>ï¼Œä¸€ä¸ªåŸºäº<span data-v-613bf38a>Vue</span>å’Œ<span data-v-613bf38a>Element Plus</span>çš„Webå¯¹è¯ç®¡ç†WebUIã€‚ </p><p class="description" data-v-613bf38a> THChatUIæ˜¯ä¸€ä¸ªä¸“ä¸ºæ•°æ®æ•æ„Ÿå‹ä¸ªäºº/ç»„ç»‡è®¾è®¡çš„å¤§æ¨¡å‹WebUIã€‚<br data-v-613bf38a> å‰ç«¯é‡‡ç”¨Vueæ›´é€‚åˆä¸­å›½å®å®ä½“è´¨~<br data-v-613bf38a> åç«¯é‡‡ç”¨Pythonçš„Flaskå¿«é€Ÿå¯åŠ¨æ¥å£ï¼Œé¡¹ç›®æä¾›äº†è‹¥å¹²ä¸ªè°ƒç”¨ç¤ºä¾‹(å¹¶ä¸æ˜¯å¿…é¡»çš„)ã€‚<br data-v-613bf38a> ä¸éœ€é¢å¤–æ•°æ®åº“ï¼Œæ•°æ®å­˜æµè§ˆå™¨ç¼“å­˜ä¸­ã€‚<br data-v-613bf38a></p>',3),Ce={class:"button-group"},_e=ge((()=>(0,r.Lk)("img",{src:"https://camo.githubusercontent.com/87a893bee88420aeafe213982817f6a2e184206a3fa42e5f466e489681b58a4e/68747470733a2f2f696d672e63686b616a612e636f6d2f613833643538356231626138356662392e706e67",alt:"å…¬ä¼—å·äºŒç»´ç ",class:"qrcode-image"},null,-1))),we=(0,r.Fv)('<div class="changelog-section" data-v-613bf38a><h2 data-v-613bf38a>æ›´æ–°æ—¥å¿—</h2><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v2.0.0 - 2025.01.12</h3><ul data-v-613bf38a><li data-v-613bf38a>[fix] é‡æ„åç«¯Pythonè„šæœ¬ç¤ºä¾‹ ç»™å‡ºå¯¹è¯æ¨¡å‹ã€å›¾ç‰‡ç†è§£æ¨¡å‹ã€å›¾ç‰‡ä¼šè¯æ¨¡å‹APIæ¥å£ç¤ºä¾‹</li><li data-v-613bf38a>[fix] é‡æ„åç«¯Pythonè„šæœ¬ç¤ºä¾‹ æ•´åˆå¯¹è¯æ¨¡å‹çš„æ™®é€šèŠå¤©ã€è”ç½‘æœç´¢ã€çŸ¥è¯†åº“åŠŸèƒ½</li><li data-v-613bf38a>[add] æ–°å¢äº†å¯¹æœˆä¹‹æš—é¢Kimiå¹³å°çš„æ”¯æŒ</li><li data-v-613bf38a>[add] æ–°å¢äº†å¯¹OpenAIå¼EndPointæ¥å£çš„æ”¯æŒ</li><li data-v-613bf38a>[add] å†…ç½®äº†å‡ ä¸ªæ¯›ç»ç’ƒä¸»é¢˜çš„å£çº¸</li><li data-v-613bf38a>[add] å¤šè¯­è¨€æ”¯æŒ æ”¯æŒç®€ä¸­ã€è‹±æ–‡</li><li data-v-613bf38a>[add] æ¥å…¥æ™ºè°±çš„å›¾ç‰‡ç”Ÿæˆæ¨¡å‹</li><li data-v-613bf38a>[add] æ–°å¢è”ç½‘æœç´¢åŠŸèƒ½</li><li data-v-613bf38a>[add] æ¥å…¥å›¾ç‰‡ä¸Šä¼ æ¨¡å‹</li><li data-v-613bf38a>[add] æ–°å¢çŸ¥è¯†åº“åŠŸèƒ½ å®Œå…¨ä¾èµ–äºå‰ç«¯ æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€åˆ†æ®µã€æœç´¢</li><li data-v-613bf38a>[upd] é‡æ„äº†åº•å±‚å‚¨å­˜ ä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„IndexedDB ä»æ­¤å­˜å‚¨ç©ºé—´ä¸å†å—é™åˆ¶</li><li data-v-613bf38a>[upd] ä¼˜åŒ–äº†å…¬å¼æ˜¾ç¤ºæ’ä»¶å¼•å…¥æ–¹å¼ ä»cdnæ”¹ä¸ºæœ¬åœ°å¼•å…¥</li><li data-v-613bf38a>[upd] ä¼˜åŒ–äº†GitHub Pageså‘å¸ƒè„šæœ¬</li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.1.3 - 2025.01.01</h3><ul data-v-613bf38a><li data-v-613bf38a>[fix] é‡æ„ä¼šè¯é¢„å¤„ç† é€‚é…ä¸åŒå¹³å°å¹¶æ”¯æŒå›¾ç‰‡è¾“å…¥</li><li data-v-613bf38a>[add] ä¼šè¯å¡å¯ä»¥æŸ¥çœ‹å›¾ç‰‡</li><li data-v-613bf38a>[add] æ¥å…¥é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°è§†è§‰æ¨¡å‹</li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.1.2 - 2025.01.01</h3><ul data-v-613bf38a><li data-v-613bf38a>[fix] é‡æ„ç¼“å­˜æ•°æ®çš„æ•°æ®æ ¼å¼ï¼Œä¾¿äºç›´æ¥å°†æ•°æ®ç¼“å­˜æ”¹ä¸ºæ¥åç«¯dbæ¥å£</li><li data-v-613bf38a>[fix] æ‰‹æœºç‰ˆä¾§è¾¹æ ä½“éªŒä¼˜åŒ–</li><li data-v-613bf38a>[add] æ¥å…¥è§†è§‰æ¨¡å‹</li><li data-v-613bf38a>[add] å¯¹è¯æ¡†å›¾ç‰‡ä¸Šä¼ </li><li data-v-613bf38a>[add] å›¾ç‰‡ç²˜è´´ä¸Šä¼ </li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.1.1 - 2024.12.29</h3><ul data-v-613bf38a><li data-v-613bf38a>[upd]å¼¹çª—é¡µé¢UIä¼˜åŒ–</li><li data-v-613bf38a>[upd]æ‰‹æœºç«¯ä½“éªŒä¼˜åŒ–ï¼šè’™ç‰ˆï¼Œç‚¹å‡»åè‡ªåŠ¨å…³é—­å·¦è¾¹æ </li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.1.0 - 2024.12.29</h3><ul data-v-613bf38a><li data-v-613bf38a>[fix]é‡æ„ç¬¬ä¸‰æ–¹å¹³å°è¯·æ±‚é“¾è·¯ä¸é…ç½®æ¶æ„</li><li data-v-613bf38a>[fix]é‡æ„äº†ä¸‰å¥—ä¸»é¢˜çš„é…è‰²æ–¹æ¡ˆä¸é…ç½®åº“</li><li data-v-613bf38a>[add]æ–°å¢èƒŒæ™¯å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½</li><li data-v-613bf38a>[add]æ–°å¢æ‰€æœ‰å¹³å°api keyç»Ÿä¸€ç»´æŠ¤åŠŸèƒ½</li><li data-v-613bf38a>[add]æ–°å¢å¤´éƒ¨æ ï¼Œç”¨äºæ˜¾ç¤ºä¼šè¯æ ‡é¢˜ä¸å½“å‰é…ç½®</li><li data-v-613bf38a>[add]ç®€å•çš„mdæ ¼å¼å…¬å¼æ˜¾ç¤ºæ”¯æŒ</li><li data-v-613bf38a>[upd]ä¼˜åŒ–ä¾§è¾¹æ UIï¼Œæ”¹ä¸ºæ‰å¹³åŒ–</li><li data-v-613bf38a>[upd]ä¼˜åŒ–æ¨¡å‹é€‰æ‹©é¡µé¢ï¼Œå°†ä¸‹æ‹‰æ”¹ä¸ºåˆ—è¡¨å•é€‰</li><li data-v-613bf38a>[upd]ä¼˜åŒ–ä¾§è¾¹æ æ”¶èµ·æŒ‰é’®æ ·å¼ä¸icon</li><li data-v-613bf38a>[upd]ä¼˜åŒ–è¾“å…¥æ¡†UIï¼Œå¹¶å†…ç½®æ–‡ä»¶ä¸Šä¼ ã€çŸ¥è¯†åº“é€‰æ‹©ã€è”ç½‘æœç´¢é€‰é¡¹</li><li data-v-613bf38a>[upd]ä¼˜åŒ–é¡¹ç›®iconï¼Œå…¨é¢ä½¿ç”¨æ‰å¹³åŒ–icon</li><li data-v-613bf38a>[upd]éƒ¨åˆ†é¡µé¢æ”¹ä¸ºå¼¹çª—æ¨¡å¼æ˜¾ç¤º</li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.0.2 - 2024.12.21</h3><ul data-v-613bf38a><li data-v-613bf38a>[fix]ä½¿ç”¨microsoft/fetch-event-sourceåº“æ¥å—æµå¼ä¼ è¾“æ—¶ï¼Œæµè§ˆå™¨é¡µé¢åˆ‡æ¢åä¼ è¾“åœæ­¢å¹¶é‡ä¼ </li><li data-v-613bf38a>[add]æ–°å¢ç™¾åº¦åƒå¸†å¹³å°çš„LLMè°ƒç”¨æ”¯æŒ</li><li data-v-613bf38a>[add]æ–°å¢å•æ¬¡å¯¹è¯å¡åˆ é™¤åŠŸèƒ½</li><li data-v-613bf38a>[add]æ–°å¢AIå›ç­”çš„çº¯æ–‡æœ¬å¤åˆ¶åŠŸèƒ½</li><li data-v-613bf38a>[add]æ–°å¢ç”¨æˆ·æ¶ˆæ¯æŠ˜å åŠŸèƒ½ï¼ˆå¤§äº3è¡Œæ—¶ï¼‰</li><li data-v-613bf38a>[upd]ä¸»é¢˜ä¼˜åŒ–ã€è¾“å…¥æ¡†æ ·å¼ä¼˜åŒ–</li></ul></div><div class="version-block" data-v-613bf38a><h3 data-v-613bf38a>v1.0.0 - 2024.7.7</h3><ul data-v-613bf38a><li data-v-613bf38a>åˆå§‹ç‰ˆæœ¬æäº¤</li></ul></div></div>',1);function ye(e,t,a,o,i,l){const s=(0,r.g2)("el-button"),n=(0,r.g2)("el-tooltip");return(0,r.uX)(),(0,r.CE)("div",fe,[(0,r.Lk)("div",ve,[(0,r.Lk)("img",{src:l.logoSrc,class:"logo",alt:"logo"},null,8,ke),be,(0,r.Lk)("div",Ce,[(0,r.bF)(s,{onClick:t[0]||(t[0]=e=>l.openLink("https://github.com/Unagi-cq/THChatUI/tree/main"))},{default:(0,r.k6)((()=>[(0,r.eW)("æŸ¥çœ‹ä»“åº“")])),_:1}),(0,r.bF)(s,{onClick:t[1]||(t[1]=e=>l.openLink("https://github.com/Unagi-cq/THChatUI/issues"))},{default:(0,r.k6)((()=>[(0,r.eW)("é—®é¢˜åé¦ˆ")])),_:1}),(0,r.bF)(s,{onClick:t[2]||(t[2]=e=>l.openLink("https://blog.csdn.net/qq_43592352"))},{default:(0,r.k6)((()=>[(0,r.eW)("å…³æ³¨æˆ‘çš„åšå®¢")])),_:1}),(0,r.bF)(n,{effect:"light",placement:"bottom","hide-after":0},{content:(0,r.k6)((()=>[_e])),default:(0,r.k6)((()=>[(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.eW)("å…³æ³¨æˆ‘çš„å…¬ä¼—å·")])),_:1})])),_:1})])]),we])}var Se=a.p+"img/logo_dark_2480.02321cbc.png",Le=a.p+"img/logo_light_2480.2ad67a84.png",Ae={name:"About",data(){return{qrCodeVisible:!1}},computed:{logoSrc(){const e=this.$store.state.setting.theme;return"dark"===e?Le:Se}},methods:{openLink(e){window.open(e,"_blank")},showQrCode(){this.qrCodeVisible=!this.qrCodeVisible}}};const xe=(0,f.A)(Ae,[["render",ye],["__scopeId","data-v-613bf38a"]]);var Te=xe,Ie=a(46387),Fe={del(e){let t=Ie.A.state.app.tab;t.removeTab(e),Ie.A.dispatch("setTab",t)},add(e,t){let a=Ie.A.state.app.tab;a.addTab(e,t),Ie.A.dispatch("setTab",a)},upd(e,t){let a=Ie.A.state.app.tab,o=a.findTab(e);o&&(o.title=t,Ie.A.dispatch("setTab",a))}},Ee={delSession(e){let t=Ie.A.state.app.chat;t.removeSession(e),Ie.A.dispatch("setChat",t)},delQA(e,t){let a=Ie.A.state.app.chat,o=a.findSession(e);o.removeQA(t),Ie.A.dispatch("setChat",a)},addSession(e){let t=Ie.A.state.app.chat;t.addSession(e),Ie.A.dispatch("setChat",t)},addQA(e,t){let a=Ie.A.state.app.chat,o=a.findSession(e);if(o){let e=o.data.find((e=>e.qaId===t.qaId));if(e){let a=o.data.indexOf(e);o.data=[...o.data.slice(0,a),t,...o.data.slice(a+1)]}else o.data=[...o.data,t];Ie.A.dispatch("setChat",Object.assign({},a))}}},Me={name:"AppAside",components:{Setting:me,About:Te},data(){return{isCollapsed:!1,dialogVisible:!1,dialogTitle:"",currentComponent:null}},computed:{active:{get(){return this.$store.state.app.active},set(e){this.$store.dispatch("setActive",e)}},tab(){return this.$store.state.app.tab},logoSrc(){const e=this.$store.state.setting.theme;return"dark"===e?Le:Se}},methods:{delTab(e){let t=this.tab.getPrevUuid(e);Fe.del(e),Ee.delSession(e),this.active=t},pickTab(e){"index"!==this.$router.currentRoute.value.name&&this.goToPage("/"),this.active=e,this.isMobileDevice()&&this.$emit("toggle-sidebar")},isMobileDevice(){return window.innerWidth<=767},startNewSession(){"index"!==this.$router.currentRoute.value.name&&this.goToPage("/"),this.active="",this.isMobileDevice()&&this.$emit("toggle-sidebar")},goToPage(e){this.isMobileDevice()&&this.$emit("toggle-sidebar"),this.$router.push(e)},goToDialog(e){const t={"/setting":{component:"Setting",title:this.$t("AppAside.tool_setting_name")},"/about":{component:"About",title:this.$t("AppAside.tool_about_name")+" - æœ¬é¡µé¢æš‚ä¸é…ç½®å¤šè¯­è¨€"}};t[e]?(this.isMobileDevice()&&this.$emit("toggle-sidebar"),this.dialogTitle=t[e].title,this.currentComponent=t[e].component,this.dialogVisible=!0):this.goToPage(e)}}};const Ve=(0,f.A)(Me,[["render",ee],["__scopeId","data-v-3a0f3206"]]);var Be=Ve;const $e=e=>((0,r.Qi)("data-v-7d033e47"),e=e(),(0,r.jt)(),e),ze={class:"header-content"},Qe={class:"title-container"},Pe=["contenteditable"],Ue={class:"title-edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",color:"#ffffff",fill:"none"},Xe=$e((()=>(0,r.Lk)("path",{d:"M14 12.6483L16.3708 10.2775C16.6636 9.98469 16.81 9.83827 16.8883 9.68032C17.0372 9.3798 17.0372 9.02696 16.8883 8.72644C16.81 8.56849 16.6636 8.42207 16.3708 8.12923C16.0779 7.83638 15.9315 7.68996 15.7736 7.61169C15.473 7.46277 15.1202 7.46277 14.8197 7.61169C14.6617 7.68996 14.5153 7.83638 14.2225 8.12923L11.8517 10.5M14 12.6483L5.77754 20.8708C5.4847 21.1636 5.33827 21.31 5.18032 21.3883C4.8798 21.5372 4.52696 21.5372 4.22644 21.3883C4.06849 21.31 3.92207 21.1636 3.62923 20.8708C3.33639 20.5779 3.18996 20.4315 3.11169 20.2736C2.96277 19.973 2.96277 19.6202 3.11169 19.3197C3.18996 19.1617 3.33639 19.0153 3.62923 18.7225L11.8517 10.5M14 12.6483L11.8517 10.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),We=$e((()=>(0,r.Lk)("path",{d:"M19.5 2.5L19.3895 2.79873C19.2445 3.19044 19.172 3.38629 19.0292 3.52917C18.8863 3.67204 18.6904 3.74452 18.2987 3.88946L18 4L18.2987 4.11054C18.6904 4.25548 18.8863 4.32796 19.0292 4.47083C19.172 4.61371 19.2445 4.80956 19.3895 5.20127L19.5 5.5L19.6105 5.20127C19.7555 4.80956 19.828 4.61371 19.9708 4.47083C20.1137 4.32796 20.3096 4.25548 20.7013 4.11054L21 4L20.7013 3.88946C20.3096 3.74452 20.1137 3.67204 19.9708 3.52917C19.828 3.38629 19.7555 3.19044 19.6105 2.79873L19.5 2.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"},null,-1))),qe=$e((()=>(0,r.Lk)("path",{d:"M19.5 12.5L19.3895 12.7987C19.2445 13.1904 19.172 13.3863 19.0292 13.5292C18.8863 13.672 18.6904 13.7445 18.2987 13.8895L18 14L18.2987 14.1105C18.6904 14.2555 18.8863 14.328 19.0292 14.4708C19.172 14.6137 19.2445 14.8096 19.3895 15.2013L19.5 15.5L19.6105 15.2013C19.7555 14.8096 19.828 14.6137 19.9708 14.4708C20.1137 14.328 20.3096 14.2555 20.7013 14.1105L21 14L20.7013 13.8895C20.3096 13.7445 20.1137 13.672 19.9708 13.5292C19.828 13.3863 19.7555 13.1904 19.6105 12.7987L19.5 12.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"},null,-1))),Oe=$e((()=>(0,r.Lk)("path",{d:"M10.5 2.5L10.3895 2.79873C10.2445 3.19044 10.172 3.38629 10.0292 3.52917C9.88629 3.67204 9.69044 3.74452 9.29873 3.88946L9 4L9.29873 4.11054C9.69044 4.25548 9.88629 4.32796 10.0292 4.47083C10.172 4.61371 10.2445 4.80956 10.3895 5.20127L10.5 5.5L10.6105 5.20127C10.7555 4.80956 10.828 4.61371 10.9708 4.47083C11.1137 4.32796 11.3096 4.25548 11.7013 4.11054L12 4L11.7013 3.88946C11.3096 3.74452 11.1137 3.67204 10.9708 3.52917C10.828 3.38629 10.7555 3.19044 10.6105 2.79873L10.5 2.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"},null,-1))),Re=[Xe,We,qe,Oe],De={class:"model-info"},Ke={class:"model-info-content"},Ne={class:"model-name"},je={key:0,class:"dropdown-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none"},He=$e((()=>(0,r.Lk)("path",{d:"M14 3.5H10C6.22876 3.5 4.34315 3.5 3.17157 4.67157C2 5.84315 2 7.72876 2 11.5V13.5C2 17.2712 2 19.1569 3.17157 20.3284C4.34315 21.5 6.22876 21.5 10 21.5H14C17.7712 21.5 19.6569 21.5 20.8284 20.3284C22 19.1569 22 17.2712 22 13.5V11.5C22 7.72876 22 5.84315 20.8284 4.67157C19.6569 3.5 17.7712 3.5 14 3.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),Je=$e((()=>(0,r.Lk)("circle",{cx:"8.5",cy:"9",r:"1.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),Ze=$e((()=>(0,r.Lk)("path",{d:"M21.5 17.5L16.348 11.8797C16.1263 11.6377 15.8131 11.5 15.485 11.5C15.1744 11.5 14.8766 11.6234 14.6571 11.8429L10 16.5L7.83928 14.3393C7.62204 14.122 7.32741 14 7.02019 14C6.68931 14 6.37423 14.1415 6.15441 14.3888L2.5 18.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),Ge=[He,Je,Ze],Ye={key:1,class:"dropdown-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none"},et=$e((()=>(0,r.Lk)("path",{d:"M6.99892 9.5C6.75828 7.50503 7.91475 7.09687 11.9989 7M11.9989 7C16.1223 7.10058 17.3402 7.59829 16.9989 9.5M11.9989 7V17M9.99892 17H13.9989",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),tt=$e((()=>(0,r.Lk)("path",{d:"M3.89124 3.89124C2.5 5.28249 2.5 7.52166 2.5 12C2.5 16.4783 2.5 18.7175 3.89124 20.1088C5.28249 21.5 7.52166 21.5 12 21.5C16.4783 21.5 18.7175 21.5 20.1088 20.1088C21.5 18.7175 21.5 16.4783 21.5 12C21.5 7.52166 21.5 5.28249 20.1088 3.89124C18.7175 2.5 16.4783 2.5 12 2.5C7.52166 2.5 5.28249 2.5 3.89124 3.89124Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),at=[et,tt];function ot(e,t,a,i,l,s){const n=(0,r.g2)("el-tooltip");return(0,r.uX)(),(0,r.CE)("div",ze,[(0,r.Lk)("div",Qe,[(0,r.Lk)("span",{class:"header-title",contenteditable:"THChatUI"!==s.header_title,onBlur:t[0]||(t[0]=(...e)=>s.updateTitle&&s.updateTitle(...e)),onKeydown:t[1]||(t[1]=(0,o.jR)((0,o.D$)((e=>e.target.blur()),["prevent"]),["enter"])),onInput:t[2]||(t[2]=e=>s.limitTitleLength(e))},(0,C.v_)(s.header_title),41,Pe),(0,r.bo)(((0,r.uX)(),(0,r.CE)("svg",Ue,Re,512)),[[o.aG,"THChatUI"!==s.header_title]])]),(0,r.Lk)("div",De,[(0,r.bF)(n,{effect:"dark",placement:"bottom",content:s.tooltip_content,"popper-class":"settings-tooltip"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",Ke,[(0,r.Lk)("span",Ne,(0,C.v_)(s.header_msg),1),"vim"===s.model_type||"igm"===s.model_type?((0,r.uX)(),(0,r.CE)("svg",je,Ge)):(0,r.Q3)("",!0),"llm"===s.model_type?((0,r.uX)(),(0,r.CE)("svg",Ye,at)):(0,r.Q3)("",!0)])])),_:1},8,["content"])])])}var it={name:"AppHeader",data(){return{max_title_length:12,default_title:"THChatUI"}},computed:{active(){return this.$store.state.app.active},tooltip_content(){const{platform:e,model_config:t,memory:a,chat_detail:o}=this.$store.state.setting;return`${this.$t("AppHeader.platform")}ï¼š${e}\n                    ${this.$t("AppHeader.model")}ï¼š${t.name}\n                    ${this.$t("AppHeader.chatMode")}ï¼š${a?this.$t("AppHeader.multiRound"):this.$t("AppHeader.singleRound")}\n                    ${this.$t("AppHeader.statistics")}ï¼š${o?this.$t("AppHeader.show"):this.$t("AppHeader.hide")} \n                    ${this.$t("AppHeader.modelType")}ï¼š${"vim"===this.model_type?this.$t("AppHeader.visionModel"):this.$t("AppHeader.languageModel")}\n                    ${this.$t("AppHeader.canWebSearch")}ï¼š${t.can_web_search?this.$t("Common.is_true"):this.$t("Common.is_false")}`},header_msg(){const{model_config:e}=this.$store.state.setting;return e.name},header_title(){const{ready:e,active:t,tab:a}=this.$store.state.app;if(!e)return"";const o=a.findTab(t);if(!o)return this.default_title;const{title:i}=o;return i.length>this.max_title_length?`${i.slice(0,this.max_title_length)}...`:i},model_type(){const{model_config:e}=this.$store.state.setting;return e.type}},methods:{updateTitle(e){const t=e.target.innerText.trim();t&&this.header_title!==this.default_title&&Fe.upd(this.active,t)},limitTitleLength(e){const t=e.target.innerText;if(t.length>this.max_title_length){e.target.innerText=t.slice(0,this.max_title_length);const a=document.createRange(),o=window.getSelection();a.selectNodeContents(e.target),a.collapse(!1),o.removeAllRanges(),o.addRange(a)}}}};const lt=(0,f.A)(it,[["render",ot],["__scopeId","data-v-7d033e47"]]);var st=lt;const nt={class:"copyright"};function rt(e,t,a,o,i,l){const s=(0,r.g2)("SendBox"),n=(0,r.g2)("el-col"),d=(0,r.g2)("el-link"),c=(0,r.g2)("el-row");return(0,r.uX)(),(0,r.Wv)(c,{gutter:24,justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{md:18,sm:24,xs:24,style:{"padding-left":"0","padding-right":"0"}},{default:(0,r.k6)((()=>[l.isHidden?((0,r.uX)(),(0,r.Wv)(s,{key:0})):(0,r.Q3)("",!0)])),_:1}),(0,r.Lk)("span",nt,[(0,r.eW)((0,C.v_)((new Date).getFullYear())+" Â© THChatUI made by HCQ. ",1),(0,r.bF)(d,{href:"https://github.com/Unagi-cq/THChatUI",target:"_blank"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("AppFooter.repository")),1)])),_:1}),(0,r.bF)(d,{href:"https://unagi-cq.github.io/THChatUI/#/docs",target:"_blank"},{default:(0,r.k6)((()=>[(0,r.eW)((0,C.v_)(e.$t("AppFooter.docs")),1)])),_:1})])])),_:1})}var dt={name:"AppFooter",computed:{isHidden(){return"index"===this.$router.currentRoute.value.name}},methods:{goTo(e){this.$router.push(e)}}};const ct=(0,f.A)(dt,[["render",rt],["__scopeId","data-v-1bcb4f28"]]);var ut=ct,ht={name:"Layout",data(){return{active:!1,asideWidth:"250px"}},components:{AppAside:Be,AppFooter:ut,AppHeader:st},created(){this.handleResize()},mounted(){window.addEventListener("resize",this.handleResize)},methods:{toggleSidebar(){this.active=!this.active,this.asideWidth="0px"===this.asideWidth?"250px":"0px",document.documentElement.style.setProperty("--sidebar-width",this.asideWidth)},handleResize(){window.matchMedia("(max-width: 767px)").matches?(this.active=!0,this.asideWidth="0px"):(this.active=!1,this.asideWidth="250px"),document.documentElement.style.setProperty("--sidebar-width",this.asideWidth)}}};const pt=(0,f.A)(ht,[["render",L],["__scopeId","data-v-69356436"]]);var mt=pt;const gt=[{path:"/",name:"index",component:mt,children:[{path:"",name:"index",component:()=>a.e(585).then(a.bind(a,32585))}]},{path:"/docs",name:"docs",component:mt,children:[{path:"",name:"docs",component:()=>a.e(382).then(a.bind(a,59382))}]},{path:"/kb",name:"kb",component:mt,children:[{path:"",name:"kb",component:()=>a.e(813).then(a.bind(a,625))}]}],ft=(0,b.aE)({history:(0,b.Bt)(),routes:gt});var vt=ft,kt=a(24751),bt=a.n(kt),Ct=a(22794),_t=a.n(Ct),wt=a(63114),yt=a(10193),St=a(81017),Lt=a.n(St);bt().use(_t(),{Prism:Lt()}),bt().use((0,wt.A)()),bt().use((0,yt.A)());var At=bt(),xt=a(35931),Tt={Common:{warn:"è­¦å‘Š",confirm:"ç¡®å®š",cancel:"å–æ¶ˆ",success:"æˆåŠŸ",failed:"å¤±è´¥",is_true:"æ˜¯",is_false:"å¦",confirmDelete:"ç¡®è®¤è¦åˆ é™¤å—ï¼Ÿ",deleteSuccess:"åˆ é™¤æˆåŠŸ"},Setting:{tabs:{model:"æ¨¡å‹",general:"é€šç”¨",key:"API Key",knowledge:"çŸ¥è¯†åº“",web_search:"è”ç½‘æœç´¢"},model:{platform:"å¹³å°",textModel:"æ–‡æœ¬ç”Ÿæˆæ¨¡å‹",visualInterpretationModel:"å›¾ç‰‡ç†è§£æ¨¡å‹",imageGenerationModel:"å›¾ç‰‡ç”Ÿæˆæ¨¡å‹"},general:{theme:"ç³»ç»Ÿä¸»é¢˜",themeOptions:{glass:"æ¯›ç»ç’ƒ",dark:"æš—è‰²",light:"äº®è‰²"},language:"è¯­è¨€",multiRound:"å¤šè½®å¯¹è¯",memoryLimit:"å†å²å¯¹è¯è½®æ•°",chatStats:"å›ç­”ç»Ÿè®¡",background:"èƒŒæ™¯å›¾ç‰‡",clearCache:"æ¸…ç©ºæœ¬åœ°ç¼“å­˜",clearCacheConfirm:"ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æœ¬åœ°ç¼“å­˜å—ï¼Ÿè¿™å°†ä¼šæ¸…é™¤æ‰€æœ‰èŠå¤©è®°å½•ã€‚",clearCacheSuccess:"æœ¬åœ°ç¼“å­˜å·²æ¸…ç©º"},key:{xunfeiTip:"è®¯é£å¹³å°å·²ç»åœ¨ä»£ç é‡Œå†…ç½®äº†key å¯ç›´æ¥è°ƒç”¨",localTip:"æœ¬åœ°æ¨¡å‹æ— éœ€é…ç½®API Key",placeholder:"è¯·è¾“å…¥{platform}çš„API Key",openaiDivider:"OpenAIå¼æ¥å£è¯·æ±‚é…ç½®"},upload:{sizeLimit:"ä¸Šä¼ å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 3MB!",failed:"ä¸Šä¼ å¤±è´¥!"},knowledge:{enable:"å¯ç”¨",select:"é€‰æ‹©çŸ¥è¯†åº“",chunkSize:"åˆ†å—å¤§å°",chunkSizeTip:"æ–‡æ¡£åˆ†å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰",recall:"å¬å›æ•°é‡",recallTip:"å•æ¬¡æŸ¥è¯¢è¿”å›çš„ç›¸å…³æ–‡æ®µæ•°é‡",localDivider:"ä»¥ä¸‹é…ç½®åœ¨å¹³å°é€‰æ‹©æœ¬åœ°è°ƒç”¨æ—¶æ— æ•ˆ"},web_search:{enable:"å¯ç”¨"}},AppAside:{chat_header_title:"å¯¹è¯",tool_kb_name:"çŸ¥è¯†åº“",tool_setting_name:"è®¾ç½®",tool_docs_name:"æ–‡æ¡£",tool_about_name:"å…³äº"},AppFooter:{repository:"ä»£ç ä»“åº“",docs:"ç³»ç»Ÿæ–‡æ¡£"},AppHeader:{platform:"å¹³å°",model:"æ¨¡å‹",chatMode:"å¯¹è¯æ¨¡å¼",multiRound:"å¤šè½®å¯¹è¯",singleRound:"å•è½®å¯¹è¯",statistics:"å›ç­”ç»Ÿè®¡",show:"å¼€å¯",hide:"éšè—",modelType:"æ¨¡å‹ç±»å‹",visionModel:"è§†è§‰æ¨¡å‹",languageModel:"è¯­è¨€æ¨¡å‹",canWebSearch:"æ”¯æŒè”ç½‘æœç´¢"},ChatCard:{user_name:"ç”¨æˆ·",copyMarkdownTooltip:"å¤åˆ¶ Markdown",copyPlainTextTooltip:"å¤åˆ¶çº¯æ–‡æœ¬",deleteConversationTooltip:"åˆ é™¤å¯¹è¯",characterCount:"å­—æ•°ç»Ÿè®¡: {count} å­—ç¬¦",notifications:{codeCopySuccess:"ä»£ç å¤åˆ¶æˆåŠŸï¼",markdownCopySuccess:"Markdownå¤åˆ¶æˆåŠŸï¼",markdownCopyFailed:"å¤åˆ¶å¤±è´¥ï¼",plainTextCopySuccess:"çº¯æ–‡æœ¬å¤åˆ¶æˆåŠŸï¼",plainTextCopyFailed:"å¤åˆ¶å¤±è´¥ï¼"},knowledge_base:"ä»¥ä¸‹æ˜¯çŸ¥è¯†åº“æ£€ç´¢åˆ°çš„å†…å®¹ï¼š",relevance_score:"ç›¸å…³æ€§åˆ†æ•°: {score}%"},SendBox:{placeholder:"è¯·è¾“å…¥ä½ çš„é—®é¢˜æˆ–éœ€æ±‚ï¼ŒæŒ‰'â†‘'å¯å¿«æ·å¤åˆ¶é—®é¢˜",uploadLimit:{error:"æœ€å¤šåªèƒ½ä¸Šä¼ {limit}ä¸ªæ–‡ä»¶!"},uploadType:{error:"åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"},uploadSize:{error:"å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ {size}MB!"},errors:{apiKey:"è¯·æ£€æŸ¥API KEYæ˜¯å¦å¡«å†™æˆ–è¿‡æœŸ",connection:"è¯·æ£€æµ‹ç½‘ç»œæˆ–æ¥å£æ˜¯å¦å¼€å¯",interface:"è¯·æ£€æµ‹æ¥å£æ˜¯å¦æ­£å¸¸",internalError:"è¯·æ£€æµ‹æ¥å£å†…éƒ¨æ˜¯å¦å‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸",system:"ç³»ç»Ÿé”™è¯¯ï¼š{error}"},notifications:{remoteFailed:"è¿œç¨‹è°ƒç”¨å¤±è´¥!",connectionFailed:"æ— æ³•è¿æ¥æœ¬åœ°æ¥å£!",interfaceError:"æœ¬åœ°æ¥å£é”™è¯¯!",uploadFailed:"ä¸Šä¼ å¤±è´¥"},webSearch:"è”ç½‘æœç´¢"},AppMain:{title:"LLMçš„è½»é‡çº§Webä¼šè¯ç®¡ç†æ–¹æ¡ˆ",welcome:"å—¨å–½~æœ‹å‹ï¼ğŸ¤– æ¬¢è¿ä½¿ç”¨THChatUIã€‚",viewDocs:"æŸ¥çœ‹æ–‡æ¡£"},Kb:{header:"çŸ¥è¯†åº“",createRepo:{title:"åˆ›å»ºçŸ¥è¯†åº“",name:"çŸ¥è¯†åº“åç§°",nameRequired:"è¯·è¾“å…¥çŸ¥è¯†åº“åç§°",description:"çŸ¥è¯†åº“æè¿°",descriptionRequired:"è¯·è¾“å…¥çŸ¥è¯†åº“æè¿°"},repoDetail:{title:"çŸ¥è¯†åº“è¯¦æƒ…",fileList:"æ–‡ä»¶åˆ—è¡¨",uploadTip:"å°†æ–‡ä»¶æ‹–æ‹½è‡³æ­¤å¤„ æˆ– ç‚¹å‡»ä¸Šä¼ ",uploadLimitTip:"ç›®å‰ä»…æ”¯æŒ5MBä»¥å†…çš„PDF/DOC/DOCX/TXTæ–‡ä»¶ä¸Šä¼ ï¼Œè¯·ç¡®ä¿æ–‡ä»¶æ ¼å¼æ­£ç¡®",preparing:"å‡†å¤‡ä¸Šä¼ ...",processing:"æ­£åœ¨å¤„ç†æ–‡ä»¶...",uploadComplete:"ä¸Šä¼ å®Œæˆï¼",uploadFailed:"ä¸Šä¼ å¤±è´¥",noContent:"æœªè¯†åˆ«åˆ°æ–‡ä»¶å†…å®¹",deleteFile:{confirm:"ç¡®è®¤åˆ é™¤è¯¥æ–‡ä»¶?",success:"æ–‡ä»¶åˆ é™¤æˆåŠŸ",failed:"æ–‡ä»¶åˆ é™¤å¤±è´¥"},section:"åˆ†æ®µ",characters:"å­—ç¬¦",showChunks:"æŸ¥çœ‹åˆ†æ®µ",hideChunks:"æ”¶èµ·åˆ†æ®µ",uploadTime:"ä¸Šä¼ æ—¶é—´",fileSize:"æ–‡ä»¶å¤§å°",createTime:"åˆ›å»ºæ—¶é—´"},stats:{totalFiles:"æ€»æ–‡ä»¶æ•°",totalChunks:"æ€»åˆ†æ®µæ•°"}}},It={Common:{warn:"Warning",confirm:"Confirm",cancel:"Cancel",success:"Success",failed:"Failed",is_true:"Yes",is_false:"No",deleteSuccess:"Deleted successfully",confirmDelete:"Are you sure you want to delete?"},Setting:{tabs:{model:"Model",general:"General",key:"API Key",knowledge:"Knowledge Base",web_search:"Web Search"},model:{platform:"Platform",textModel:"LLM",visualInterpretationModel:"VIM",imageGenerationModel:"IGM"},general:{theme:"Theme",themeOptions:{glass:"Glass",dark:"Dark",light:"Light"},language:"Language",multiRound:"Multi-round Chat",memoryLimit:"History Chat Rounds",chatStats:"Chat Statistics",background:"Background",clearCache:"Clear Local Cache",clearCacheConfirm:"Are you sure to clear all local cache? This will remove all chat history.",clearCacheSuccess:"Local cache cleared"},key:{xunfeiTip:"Xunfei platform key is built-in and ready to use",localTip:"Local model does not require API Key",placeholder:"Please enter {platform} API Key",openaiDivider:"OpenAI-style Interface Configuration"},upload:{sizeLimit:"Upload image size cannot exceed 3MB!",failed:"Upload failed!"},knowledge:{enable:"Enable",select:"Select Repository",chunkSize:"Chunk Size",chunkSizeTip:"Document chunk size (characters)",recall:"Recall Count",recallTip:"Number of relevant passages returned per query",localDivider:"The following configurations are invalid when using local platform"},web_search:{enable:"Enable"}},AppAside:{chat_header_title:"Chat",tool_kb_name:"Library",tool_setting_name:"Setting",tool_docs_name:"Docs",tool_about_name:"About"},AppFooter:{repository:"Repo",docs:"Doc"},AppHeader:{platform:"Platform",model:"Model",chatMode:"Chat Mode",multiRound:"Multi-round",singleRound:"Single-round",statistics:"Statistics",show:"Show",hide:"Hide",modelType:"Model Type",visionModel:"Vision Model",languageModel:"Language Model",canWebSearch:"Web Search Supported"},ChatCard:{user_name:"User",copyMarkdownTooltip:"Copy Markdown",copyPlainTextTooltip:"Copy Plain Text",deleteConversationTooltip:"Delete Conversation",characterCount:"Character Count: {count} characters",notifications:{codeCopySuccess:"Code copied successfully!",markdownCopySuccess:"Markdown copied successfully!",markdownCopyFailed:"Copy failed!",plainTextCopySuccess:"Plain text copied successfully!",plainTextCopyFailed:"Copy failed!"},knowledge_base:"The following is the content retrieved from the knowledge base:",relevance_score:"Relevance score: {score}%"},SendBox:{placeholder:"Enter your question or request, press 'â†‘' to quickly copy the question",uploadLimit:{error:"You can only upload up to {limit} files!"},uploadType:{error:"Only image files can be uploaded!"},uploadSize:{error:"Image size cannot exceed {size}MB!"},errors:{apiKey:"Please check if the API KEY is filled in or expired",connection:"Please check if the network or interface is enabled",interface:"Please check if the interface is working properly",internalError:"Please check if there are any internal errors or exceptions",system:"System error: {error}"},notifications:{remoteFailed:"Remote call failed!",connectionFailed:"Unable to connect to local interface!",interfaceError:"Local interface error!",uploadFailed:"Upload failed"},webSearch:"Web Search"},AppMain:{title:"A Lightweight Web Session Management Solution for LLM",welcome:"Hi friend! ğŸ¤– Welcome to THChatUI.",viewDocs:"View Docs"},Kb:{header:"Knowledge Base",createRepo:{title:"Create Repository",name:"Repository Name",nameRequired:"Please input repository name",description:"Repository Description",descriptionRequired:"Please input repository description"},repoDetail:{title:"Repository Detail",fileList:"File List",uploadTip:"Drop files here or click to upload",uploadLimitTip:"Only PDF/DOC/DOCX/TXT files under 5MB are supported",preparing:"Preparing upload...",processing:"Processing file...",uploadComplete:"Upload complete!",uploadFailed:"Upload failed",noContent:"No content detected",deleteFile:{confirm:"Confirm delete this file?",success:"File deleted successfully",failed:"File deletion failed"},section:"Section",characters:"characters",showChunks:"Show Chunks",hideChunks:"Hide Chunks",uploadTime:"Upload Time",fileSize:"File Size",createTime:"Create Time"},stats:{totalFiles:"Total Files",totalChunks:"Total Chunks"}}};const Ft=(0,xt.hU)({legacy:!1,locale:localStorage.getItem("locale")||"zh-CN",fallbackLocale:"zh-CN",messages:{"zh-CN":Tt,"en-US":It}});var Et=Ft;const Mt=[At,Et],Vt={install(e){Object.entries(Mt).forEach((([,t])=>{e.use(t)}))}};var Bt=Vt;const $t=e=>((0,r.Qi)("data-v-53dc9d17"),e=e(),(0,r.jt)(),e),zt={class:"container"},Qt={class:"user-message"},Pt={class:"avatar-header"},Ut=["src"],Xt={class:"avatar-name"},Wt={key:0,class:"uploaded-files"},qt={class:"bot-message"},Ot={class:"avatar-header"},Rt=["src"],Dt=["src"],Kt={class:"avatar-name"},Nt={key:0,class:"recall-content"},jt={class:"recall-header"},Ht=["onClick"],Jt={class:"recall-title"},Zt={class:"recall-score"},Gt={key:2,class:"uploaded-files"},Yt={key:0,class:"answer-stats"},ea=$t((()=>(0,r.Lk)("path",{d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",stroke:"currentColor","stroke-width":"1.5"},null,-1))),ta=$t((()=>(0,r.Lk)("path",{d:"M11 7L17 7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),aa=$t((()=>(0,r.Lk)("path",{d:"M7 7L8 7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),oa=$t((()=>(0,r.Lk)("path",{d:"M7 12L8 12",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),ia=$t((()=>(0,r.Lk)("path",{d:"M7 17L8 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),la=$t((()=>(0,r.Lk)("path",{d:"M11 12L17 12",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),sa=$t((()=>(0,r.Lk)("path",{d:"M11 17L17 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1))),na=[ea,ta,aa,oa,ia,la,sa],ra=$t((()=>(0,r.Lk)("path",{d:"M9 15C9 12.1716 9 10.7574 9.87868 9.87868C10.7574 9 12.1716 9 15 9L16 9C18.8284 9 20.2426 9 21.1213 9.87868C22 10.7574 22 12.1716 22 15V16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H15C12.1716 22 10.7574 22 9.87868 21.1213C9 20.2426 9 18.8284 9 16L9 15Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),da=$t((()=>(0,r.Lk)("path",{d:"M16.9999 9C16.9975 6.04291 16.9528 4.51121 16.092 3.46243C15.9258 3.25989 15.7401 3.07418 15.5376 2.90796C14.4312 2 12.7875 2 9.5 2C6.21252 2 4.56878 2 3.46243 2.90796C3.25989 3.07417 3.07418 3.25989 2.90796 3.46243C2 4.56878 2 6.21252 2 9.5C2 12.7875 2 14.4312 2.90796 15.5376C3.07417 15.7401 3.25989 15.9258 3.46243 16.092C4.51121 16.9528 6.04291 16.9975 9 16.9999",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),ca=[ra,da],ua=$t((()=>(0,r.Lk)("path",{d:"M14.9994 15L9 9M9.00064 15L15 9",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),ha=$t((()=>(0,r.Lk)("path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor","stroke-width":"1.5"},null,-1))),pa=[ua,ha],ma={key:1,class:"answer-stats"},ga=$t((()=>(0,r.Lk)("path",{d:"M14.9994 15L9 9M9.00064 15L15 9",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),fa=$t((()=>(0,r.Lk)("path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor","stroke-width":"1.5"},null,-1))),va=[ga,fa];function ka(e,t,a,i,l,s){const n=(0,r.g2)("el-image"),d=(0,r.g2)("ArrowDown"),c=(0,r.g2)("ArrowUp"),u=(0,r.g2)("el-icon"),h=(0,r.g2)("v-md-preview"),p=(0,r.g2)("el-skeleton-item"),m=(0,r.g2)("el-skeleton"),g=(0,r.g2)("el-tooltip");return(0,r.uX)(),(0,r.CE)("div",zt,[(0,r.bo)((0,r.Lk)("div",Qt,[(0,r.Lk)("div",Pt,[(0,r.Lk)("img",{class:"avatar",src:s.avatar_list.user,alt:"User Avatar"},null,8,Ut),(0,r.Lk)("span",Xt,(0,C.v_)(e.$t("ChatCard.user_name")),1)]),(0,r.Lk)("p",{class:(0,C.C4)({"collapse-p":!l.isExpanded}),ref:"queryText"},(0,C.v_)(a.query),3),a.files&&a.files.length>0?((0,r.uX)(),(0,r.CE)("div",Wt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.files,(e=>((0,r.uX)(),(0,r.Wv)(n,{style:{width:"100px",height:"100px"},src:e.base64,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":a.files.map((e=>e.base64)),"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])))),256))])):(0,r.Q3)("",!0),l.isTruncatable?((0,r.uX)(),(0,r.Wv)(u,{key:1,onClick:t[0]||(t[0]=e=>l.isExpanded=!l.isExpanded),class:"collapse-icon"},{default:(0,r.k6)((()=>[l.isExpanded?((0,r.uX)(),(0,r.Wv)(c,{key:1})):((0,r.uX)(),(0,r.Wv)(d,{key:0}))])),_:1})):(0,r.Q3)("",!0)],512),[[o.aG,a.query]]),(0,r.Lk)("div",null,[(0,r.Lk)("div",qt,[(0,r.Lk)("div",Ot,[s.avatar_list[a.series]?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"avatar",src:s.avatar_list[a.series],alt:"Bot Avatar"},null,8,Rt)):((0,r.uX)(),(0,r.CE)("img",{key:1,class:"avatar",src:s.avatar_list.local,alt:"Default Bot Avatar"},null,8,Dt)),(0,r.Lk)("span",Kt,(0,C.v_)(a.modelName),1)]),a.recall&&a.recall.length>0?((0,r.uX)(),(0,r.CE)("div",Nt,[(0,r.Lk)("div",jt,(0,C.v_)(e.$t("ChatCard.knowledge_base")),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.recall,((t,a)=>((0,r.uX)(),(0,r.CE)("div",{key:a,class:"recall-item",onClick:e=>s.toggleRecallItem(a)},[(0,r.Lk)("div",Jt,[(0,r.eW)((0,C.v_)(t.filename)+" ",1),(0,r.Lk)("span",Zt,(0,C.v_)(e.$t("ChatCard.relevance_score",{score:(100*t.score).toFixed(1)})),1)]),(0,r.Lk)("div",{class:(0,C.C4)(["recall-text",{"recall-collapse":!l.expandedRecalls[a]}])},(0,C.v_)(t.content),3)],8,Ht)))),128))])):(0,r.Q3)("",!0),"llm"===a.modelType||"vim"===a.modelType?((0,r.uX)(),(0,r.Wv)(h,{key:1,text:a.answer,onCopyCodeSuccess:s.handleCopyCodeSuccess},null,8,["text","onCopyCodeSuccess"])):(0,r.Q3)("",!0),"igm"===a.modelType?((0,r.uX)(),(0,r.CE)("div",Gt,[a.answer?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)([a.answer],((e,t)=>((0,r.uX)(),(0,r.Wv)(n,{key:t,style:{width:"100px",height:"100px"},src:e,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[a.answer],"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])))),128)):((0,r.uX)(),(0,r.Wv)(m,{key:1,animated:"",variant:"image"},{template:(0,r.k6)((()=>[(0,r.bF)(p,{class:"avatar",variant:"image",style:{width:"100px",height:"100px","border-radius":"10px"}})])),_:1}))])):(0,r.Q3)("",!0)]),s.chat_detail&&a.responseTime&&a.finishTime?((0,r.uX)(),(0,r.CE)("div",Yt,[(0,r.bF)(g,{content:e.$t("ChatCard.copyMarkdownTooltip"),placement:"bottom"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("svg",{onClick:t[1]||(t[1]=(...e)=>s.copyMarkdown&&s.copyMarkdown(...e)),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"none"},na))])),_:1},8,["content"]),(0,r.bF)(g,{content:e.$t("ChatCard.copyPlainTextTooltip"),placement:"bottom"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("svg",{onClick:t[2]||(t[2]=(...e)=>s.copyPlainText&&s.copyPlainText(...e)),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"none"},ca))])),_:1},8,["content"]),(0,r.bF)(g,{content:e.$t("ChatCard.deleteConversationTooltip"),placement:"bottom"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("svg",{onClick:t[3]||(t[3]=(...e)=>s.deleteQA&&s.deleteQA(...e)),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"none"},pa))])),_:1},8,["content"]),(0,r.Lk)("span",null,(0,C.v_)(e.$t("ChatCard.characterCount",{count:a.answer.length})),1),(0,r.Lk)("span",null,(0,C.v_)(a.finishTime-a.responseTime)+" ms",1)])):s.chat_detail?((0,r.uX)(),(0,r.CE)("div",ma,[(0,r.bF)(g,{content:e.$t("ChatCard.deleteConversationTooltip"),placement:"bottom"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("svg",{onClick:t[4]||(t[4]=(...e)=>s.deleteQA&&s.deleteQA(...e)),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"none"},va))])),_:1},8,["content"])])):(0,r.Q3)("",!0)])])}a(14603),a(47566),a(98721);var ba=a(20357),Ca={name:"ChatCard",data(){return{isExpanded:!1,maxHeight:60,isTruncatable:!1,expandedRecalls:[]}},props:{qaId:Number,answer:String,query:String,series:String,responseTime:Number,finishTime:Number,modelName:String,files:Array,modelType:String,recall:Array},computed:{chat_detail(){return this.$store.state.setting.chat_detail},avatar_list(){return{user:new URL(a(5314),a.b).href,qwen:new URL(a(45010),a.b).href,baichuan:new URL(a(24856),a.b).href,xunfei:new URL(a(17648),a.b).href,zhipu:new URL(a(56181),a.b).href,wenxin:new URL(a(992),a.b).href,yi:new URL(a(53465),a.b).href,moonshot:new URL(a(4580),a.b).href,local:new URL(a(82806),a.b).href}}},mounted(){this.$nextTick((()=>{const e=this.$refs.queryText;e.scrollHeight>this.maxHeight&&(this.isTruncatable=!0)}))},methods:{handleCopyCodeSuccess(){this.$notify({title:this.$t("ChatCard.notifications.codeCopySuccess"),type:"success"})},async copyToClipboard(e){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select();try{return document.execCommand("copy"),a.remove(),!0}catch(t){return a.remove(),!1}}catch(a){return console.error("å¤åˆ¶å¤±è´¥:",a),!1}},async copyMarkdown(){const e=await this.copyToClipboard(this.answer);this.$notify({title:e?this.$t("ChatCard.notifications.markdownCopySuccess"):this.$t("ChatCard.notifications.markdownCopyFailed"),type:e?"success":"error"})},async copyPlainText(){const e=document.createElement("div");e.innerHTML=ba.xI.parse(this.answer);const t=e.textContent||e.innerText||"",a=await this.copyToClipboard(t);this.$notify({title:a?this.$t("ChatCard.notifications.plainTextCopySuccess"):this.$t("ChatCard.notifications.plainTextCopyFailed"),type:a?"success":"error"})},deleteQA(){Ee.delQA(this.$store.state.app.active,this.qaId)},toggleRecallItem(e){this.expandedRecalls[e]=!this.expandedRecalls[e]}},watch:{recall:{immediate:!0,handler(e){this.expandedRecalls=new Array(e?.length||0).fill(!1)}}}};const _a=(0,f.A)(Ca,[["render",ka],["__scopeId","data-v-53dc9d17"]]);var wa=_a;const ya=e=>((0,r.Qi)("data-v-7d72bdec"),e=e(),(0,r.jt)(),e),Sa={class:"search-container"},La={key:0,class:"left-icons"},Aa=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none"},[(0,r.Lk)("path",{d:"M6.93745 10C6.24652 10.0051 5.83076 10.0263 5.4996 10.114C3.99238 10.5131 2.96048 11.8639 3.00111 13.3847C3.01288 13.8252 3.18057 14.3696 3.51595 15.4585C4.32309 18.079 5.67958 20.3539 8.7184 20.8997C9.27699 21 9.90556 21 11.1627 21L12.8372 21C14.0943 21 14.7229 21 15.2815 20.8997C18.3203 20.3539 19.6768 18.079 20.4839 15.4585C20.8193 14.3696 20.987 13.8252 20.9988 13.3847C21.0394 11.8639 20.0075 10.5131 18.5003 10.114C18.1691 10.0263 17.7534 10.0051 17.0625 10",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M12 3L12 14M12 3C12.4683 3 12.8243 3.4381 13.5364 4.3143L14.5 5.5M12 3C11.5316 3 11.1756 3.4381 10.4635 4.3143L9.49995 5.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),xa=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",class:"rag"},[(0,r.Lk)("path",{d:"M8.85746 12.5061C6.36901 10.6456 4.59564 8.59915 3.62734 7.44867C3.3276 7.09253 3.22938 6.8319 3.17033 6.3728C2.96811 4.8008 2.86701 4.0148 3.32795 3.5074C3.7889 3 4.60404 3 6.23433 3H17.7657C19.396 3 20.2111 3 20.672 3.5074C21.133 4.0148 21.0319 4.8008 20.8297 6.37281C20.7706 6.83191 20.6724 7.09254 20.3726 7.44867C19.403 8.60062 17.6261 10.6507 15.1326 12.5135C14.907 12.6821 14.7583 12.9567 14.7307 13.2614C14.4837 15.992 14.2559 17.4876 14.1141 18.2442C13.8853 19.4657 12.1532 20.2006 11.226 20.8563C10.6741 21.2466 10.0043 20.782 9.93278 20.1778C9.79643 19.0261 9.53961 16.6864 9.25927 13.2614C9.23409 12.9539 9.08486 12.6761 8.85746 12.5061Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),Ta={key:0,class:"search-text rag"},Ia=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none"},[(0,r.Lk)("path",{d:"M8.9835 1.99998C6.17689 2.06393 4.53758 2.33109 3.41752 3.44727C2.43723 4.42416 2.10954 5.79742 2 7.99998M15.0165 1.99998C17.8231 2.06393 19.4624 2.33109 20.5825 3.44727C21.5628 4.42416 21.8905 5.79742 22 7.99998M15.0165 22C17.8231 21.9361 19.4624 21.6689 20.5825 20.5527C21.5628 19.5758 21.8905 18.2026 22 16M8.9835 22C6.17689 21.9361 4.53758 21.6689 3.41752 20.5527C2.43723 19.5758 2.10954 18.2026 2 16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M15 15L17 17M16 11.5C16 9.01468 13.9853 6.99998 11.5 6.99998C9.01469 6.99998 7 9.01468 7 11.5C7 13.9853 9.01469 16 11.5 16C13.9853 16 16 13.9853 16 11.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),Fa={key:0,class:"search-text"},Ea={class:"right-icons"},Ma=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none"},[(0,r.Lk)("path",{d:"M11.922 4.79004C16.6963 3.16245 19.0834 2.34866 20.3674 3.63261C21.6513 4.91656 20.8375 7.30371 19.21 12.078L18.1016 15.3292C16.8517 18.9958 16.2267 20.8291 15.1964 20.9808C14.9195 21.0216 14.6328 20.9971 14.3587 20.9091C13.3395 20.5819 12.8007 18.6489 11.7231 14.783C11.4841 13.9255 11.3646 13.4967 11.0924 13.1692C11.0134 13.0742 10.9258 12.9866 10.8308 12.9076C10.5033 12.6354 10.0745 12.5159 9.21705 12.2769C5.35111 11.1993 3.41814 10.6605 3.0909 9.64127C3.00292 9.36724 2.97837 9.08053 3.01916 8.80355C3.17088 7.77332 5.00419 7.14834 8.6708 5.89838L11.922 4.79004Z",stroke:"currentColor","stroke-width":"3.5"})],-1))),Va=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none"},[(0,r.Lk)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"3.5"}),(0,r.Lk)("path",{d:"M9.5 9L9.5 15M14.5 9V15",stroke:"currentColor","stroke-width":"3.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),Ba={key:1,class:"file-preview-container"},$a=["src"],za=["onClick"],Qa=ya((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none"},[(0,r.Lk)("path",{d:"M19.0005 4.99988L5.00049 18.9999M5.00049 4.99988L19.0005 18.9999",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),Pa=[Qa];function Ua(e,t,a,i,l,s){const n=(0,r.g2)("el-input"),d=(0,r.g2)("el-upload"),c=(0,r.g2)("el-button");return(0,r.uX)(),(0,r.CE)("div",Sa,[(0,r.bF)(n,{placeholder:e.$t("SendBox.placeholder"),modelValue:l.query,"onUpdate:modelValue":t[0]||(t[0]=e=>l.query=e),autosize:{minRows:1,maxRows:8},resize:"none",onKeydown:[(0,o.jR)(s.onEnterKeyDown,["enter"]),(0,o.jR)(s.onEnterKeyUp,["up"])],type:"textarea",class:(0,C.C4)({"has-files":l.uploadedFiles.length>0})},null,8,["placeholder","modelValue","onKeydown","class"]),0===l.uploadedFiles.length?((0,r.uX)(),(0,r.CE)("div",La,[(0,r.bF)(d,{class:"upload-icon",action:"","show-file-list":!1,"auto-upload":!1,accept:"image/*",multiple:!1,"on-change":s.handleImageUpload,limit:s.upload_limit,disabled:l.uploadedFiles.length>=s.upload_limit},{default:(0,r.k6)((()=>[Aa])),_:1},8,["on-change","limit","disabled"]),(0,r.Lk)("div",{class:(0,C.C4)(["web-search-icon-wrapper",{selected:s.knowledgeEnabled}]),onClick:t[1]||(t[1]=e=>s.knowledgeEnabled=!s.knowledgeEnabled)},[xa,s.knowledgeEnabled?((0,r.uX)(),(0,r.CE)("span",Ta,(0,C.v_)(s.selectedRepo?.name),1)):(0,r.Q3)("",!0)],2),(0,r.Lk)("div",{class:(0,C.C4)(["web-search-icon-wrapper",{selected:s.webSearchEnabled}]),onClick:t[2]||(t[2]=e=>s.webSearchEnabled=!s.webSearchEnabled)},[Ia,s.webSearchEnabled?((0,r.uX)(),(0,r.CE)("span",Fa,(0,C.v_)(e.$t("SendBox.webSearch")),1)):(0,r.Q3)("",!0)],2)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Ea,[void 0===l.controller?((0,r.uX)(),(0,r.Wv)(c,{key:0,type:"primary",onClick:s.onSubmitChat,class:"right-send-stop-button"},{default:(0,r.k6)((()=>[Ma])),_:1},8,["onClick"])):(0,r.Q3)("",!0),void 0!==l.controller?((0,r.uX)(),(0,r.Wv)(c,{key:1,type:"danger",onClick:s.stopChat,class:"right-send-stop-button"},{default:(0,r.k6)((()=>[Va])),_:1},8,["onClick"])):(0,r.Q3)("",!0)]),l.uploadedFiles.length>0?((0,r.uX)(),(0,r.CE)("div",Ba,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.uploadedFiles,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"file-preview-item",key:t},[(0,r.Lk)("img",{src:e.base64,alt:"uploaded file"},null,8,$a),(0,r.Lk)("div",{class:"delete-icon",onClick:e=>s.removeFile(t)},Pa,8,za)])))),128))])):(0,r.Q3)("",!0)])}var Xa=a(6565),Wa=a(77402);const qa=(0,Wa.useDefault)(new Wa.Segment);var Oa={name:"SendBox",data(){return{query:"",controller:void 0,uploadedFiles:[],isWebSearchEnabled:!1}},mounted(){document.addEventListener("paste",this.handlePaste)},beforeDestroy(){document.removeEventListener("paste",this.handlePaste)},computed:{active:{get(){return this.$store.state.app.active},set(e){this.$store.dispatch("setActive",e)}},chat(){return this.$store.state.app.chat},active_session_qa_data(){const e=this.chat.findSession(this.active);return e?.data||[]},platform(){return this.$store.state.setting.platform},model_config(){return this.$store.state.setting.model_config},upload_limit(){return this.$store.state.setting.upload_limit},upload_size(){return this.$store.state.setting.upload_size},knowledgeEnabled:{get(){return this.$store.state.setting.kb_enabled||!1},set(e){this.$store.dispatch("changeSetting",{key:"kb_enabled",value:e})}},webSearchEnabled:{get(){return this.$store.state.setting.web_search_enabled},set(e){this.$store.dispatch("changeSetting",{key:"web_search_enabled",value:e})}},selectedRepo(){const e=this.$store.state.app.kb.list||[],t=this.$store.state.setting.selected_repoId,a=e.find((e=>e.repoId===t));return a}},methods:{onEnterKeyDown(e){e.shiftKey||(e.cancelBubble=!0,e.stopPropagation(),e.preventDefault(),this.onSubmitChat())},onEnterKeyUp(){""===this.query&&this.active_session_qa_data.length>0&&(this.query=this.active_session_qa_data[this.active_session_qa_data.length-1].query)},stopChat(){this.controller&&(this.controller.abort(),this.controller=void 0)},getDynamicCall(){return"Ali_DashScope"===this.platform?a.e(428).then(a.bind(a,61428)).then((e=>e.fetchAPI)):"Xunfei_Spark"===this.platform?a.e(266).then(a.bind(a,17266)).then((e=>e.fetchAPI)):"Zhipu_BigModel"===this.platform?a.e(801).then(a.bind(a,7801)).then((e=>e.fetchAPI)):"Baidu_QianFan"===this.platform?a.e(893).then(a.bind(a,15893)).then((e=>e.fetchAPI)):"Local"===this.platform?a.e(136).then(a.bind(a,91136)).then((e=>e.fetchAPI)):"Moonshot_AI"===this.platform?a.e(947).then(a.bind(a,35947)).then((e=>e.fetchAPI)):"OpenAI"===this.platform?a.e(191).then(a.bind(a,67191)).then((e=>e.fetchAPI)):void 0},async onSubmitChat(){if(this.query=this.query.trim(),""===this.query)return;let[e,t,a]=[this.query,Date.now(),JSON.parse(JSON.stringify(this.uploadedFiles))];this.query="",this.uploadedFiles=[];let o=new Xa.QA(t,e,"",a,void 0,void 0,this.model_config.series,this.model_config.name,this.model_config.type);if(""===this.active){Fe.add(e,t);let a=new Xa.N(t,[o]);Ee.addSession(a),this.active=t}else Ee.addQA(this.active,o);let i=[];if(this.$store.state.setting.memory&&(i=this.active_session_qa_data.slice(-1*(this.$store.state.setting.memory_limit+1)).filter((e=>e.answer&&e.answer.trim()))),this.knowledgeEnabled&&this.selectedRepo){const t=this.matchKnowledgeBase(e);t.length>0&&(e=`åŸºäºä»¥ä¸‹çŸ¥è¯†åº“å†…å®¹å›ç­”é—®é¢˜:${t.map((e=>e.content)).join("\n")}é—®é¢˜: ${e}`,o.recall=t,Ee.addQA(this.active,o))}try{this.controller=new AbortController,this.getDynamicCall().then((t=>{t({prompt:e,history:i,files:a,controller:this.controller,onopen:e=>{console.log("è¿æ¥æˆåŠŸ"),void 0!==e&&401===e.status&&this.$notify({title:this.$t("SendBox.notifications.remoteFailed"),message:this.$t("SendBox.errors.apiKey"),type:"error"}),void 0===e||500!==e.status&&404!==e.status?void 0!==e&&422===e.status&&this.$notify({title:this.$t("SendBox.notifications.interfaceError"),message:this.$t("SendBox.errors.interface"),type:"error"}):this.$notify({title:this.$t("SendBox.notifications.connectionFailed"),message:this.$t("SendBox.errors.connection"),type:"error"}),o.responseTime=(new Date).getTime(),Ee.addQA(this.active,o)},onmessage:e=>{if(console.log("æ¶ˆæ¯ä¼ è¾“"),"error"===e.event)return this.$notify({title:this.$t("SendBox.notifications.interfaceError"),message:this.$t("SendBox.errors.internalError"),type:"error"}),o.finishTime=(new Date).getTime(),void this.stopChat();if(void 0!==e&&e.error&&"1301"===e.error.code)this.$notify({title:this.$t("Common.failed"),message:e.error.message,type:"error"});else try{const t=(0,de.postProcess)(e,this.model_config.post_method);t&&(o.answer=(o.answer||"")+t,Ee.addQA(this.active,o))}catch(t){console.error("è§£æå“åº”é”™è¯¯:",t,e)}},onclose:()=>{console.log("è¿æ¥å…³é—­"),o.finishTime=(new Date).getTime(),this.stopChat(),Ee.addQA(this.active,o)},onerror:e=>{console.log("close",e),this.stopChat(),this.$message.error(this.$t("SendBox.errors.system",{error:e}))}})}))}catch(l){console.error(l)}},processImage(e){if(this.uploadedFiles.length>=this.upload_limit)return this.$notify({title:this.$t("SendBox.notifications.uploadFailed"),message:this.$t("SendBox.uploadLimit.error",{limit:this.upload_limit}),type:"error"}),!1;const t=e.type.startsWith(this.$store.state.setting.upload_type),a=e.size/1024/1024<=this.upload_size;if(!t)return this.$notify({title:this.$t("SendBox.notifications.uploadFailed"),message:this.$t("SendBox.uploadType.error"),type:"error"}),!1;if(!a)return this.$notify({title:this.$t("SendBox.notifications.uploadFailed"),message:this.$t("SendBox.uploadSize.error",{size:this.upload_size}),type:"error"}),!1;const o=new FileReader;return o.readAsDataURL(e),o.onload=()=>{this.uploadedFiles.push({base64:o.result,file:e})},!0},handleImageUpload(e){this.processImage(e.raw)},handlePaste(e){const t=(e.clipboardData||e.originalEvent.clipboardData).items;for(const a of t)if(-1!==a.type.indexOf("image")){const e=a.getAsFile();this.processImage(e);break}},removeFile(e){this.uploadedFiles.splice(e,1)},calculateRelevanceScore(e,t){const a=1.5,o=.75,i=qa.doSegment(e.toLowerCase()).map((e=>e.w)),l=t.length;let s=0;const n=new Map;return t.forEach((e=>{n.set(e,(n.get(e)||0)+1)})),i.forEach((e=>{const i=n.get(e)||0;if(0===i)return;const r=Math.log(1.5),d=i*(a+1),c=i+a*(1-o+o*(t.length/l));s+=r*(d/c)})),Math.min(s,1)},matchKnowledgeBase(e){if(!this.selectedRepo)return[];const t=[];return this.selectedRepo.list.forEach((a=>{a.list.forEach((o=>{t.push({content:o.content,score:this.calculateRelevanceScore(e,o.words),filename:a.name})}))})),t.sort(((e,t)=>t.score-e.score)),t.slice(0,this.$store.state.setting.recall_count).filter((e=>e.score>.6))}}};const Ra=(0,f.A)(Oa,[["render",Ua],["__scopeId","data-v-7d72bdec"]]);var Da=Ra;const Ka=e=>((0,r.Qi)("data-v-5858672c"),e=e(),(0,r.jt)(),e),Na={class:"dialog-custom-header"},ja=Ka((()=>(0,r.Lk)("path",{d:"M10.2471 6.7402C11.0734 7.56657 11.4866 7.97975 12.0001 7.97975C12.5136 7.97975 12.9268 7.56658 13.7531 6.74022L13.7532 6.7402L15.5067 4.98669L15.5067 4.98668C15.9143 4.5791 16.1182 4.37524 16.3302 4.25283C17.3966 3.63716 18.2748 4.24821 19.0133 4.98669C19.7518 5.72518 20.3628 6.60345 19.7472 7.66981C19.6248 7.88183 19.421 8.08563 19.0134 8.49321L17.26 10.2466C16.4336 11.073 16.0202 11.4864 16.0202 11.9999C16.0202 12.5134 16.4334 12.9266 17.2598 13.7529L19.0133 15.5065C19.4209 15.9141 19.6248 16.1179 19.7472 16.3299C20.3628 17.3963 19.7518 18.2746 19.0133 19.013C18.2749 19.7516 17.3965 20.3626 16.3302 19.7469C16.1182 19.6246 15.9143 19.4208 15.5067 19.013L13.7534 17.2598L13.7533 17.2597C12.9272 16.4336 12.5136 16.02 12.0001 16.02C11.4867 16.02 11.073 16.4336 10.2469 17.2598L10.2469 17.2598L8.49353 19.013C8.0859 19.4208 7.88208 19.6246 7.67005 19.7469C6.60377 20.3626 5.72534 19.7516 4.98693 19.013C4.2484 18.2746 3.63744 17.3963 4.25307 16.3299C4.37549 16.1179 4.5793 15.9141 4.98693 15.5065L6.74044 13.7529C7.56681 12.9266 7.98 12.5134 7.98 11.9999C7.98 11.4864 7.5666 11.073 6.74022 10.2466L4.98685 8.49321C4.57928 8.08563 4.37548 7.88183 4.25307 7.66981C3.63741 6.60345 4.24845 5.72518 4.98693 4.98669C5.72542 4.24821 6.60369 3.63716 7.67005 4.25283C7.88207 4.37524 8.08593 4.5791 8.49352 4.98668L8.49353 4.98669L10.2471 6.7402Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),Ha=[ja],Ja={class:"dialog-container"};function Za(e,t,a,o,i,l){const s=(0,r.g2)("el-dialog");return(0,r.uX)(),(0,r.Wv)(s,{modelValue:l.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>l.dialogVisible=e),"show-close":!1,"before-close":l.handleClose,"destroy-on-close":!0,"append-to-body":""},{header:(0,r.k6)((({close:e})=>[(0,r.Lk)("div",Na,[(0,r.Lk)("h4",null,(0,C.v_)(a.title),1),((0,r.uX)(),(0,r.CE)("svg",{class:"el-icon--left",onClick:t[0]||(t[0]=(...e)=>l.handleClose&&l.handleClose(...e)),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none"},Ha))])])),default:(0,r.k6)((()=>[(0,r.Lk)("div",Ja,[(0,r.RG)(e.$slots,"default",{},void 0,!0)])])),_:3},8,["modelValue","before-close"])}var Ga={name:"CustomDialog",props:{modelValue:Boolean,title:String},computed:{dialogVisible:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{handleClose(){this.dialogVisible=!1}}};const Ya=(0,f.A)(Ga,[["render",Za],["__scopeId","data-v-5858672c"]]);var eo=Ya;const to=[wa,Da,eo],ao={install(e){Object.entries(to).forEach((([,t])=>{e.component(t.name,t)}))}};var oo=ao;const io=(0,o.Ef)(k);for(const[lo,so]of Object.entries(l))io.component(lo,so);io.config.globalProperties.$notify=s.df,io.config.globalProperties.$imageViewer=n.Tg,io.use(Bt).use(oo).use(i.A,{size:"default",zIndex:3e3}).use(Ie.A).use(vt).mount("#app"),Ie.A.dispatch("initializeState").then((()=>{console.log("åº”ç”¨IndexedDBæ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ")})).catch((e=>{console.error("åº”ç”¨IndexedDBæ•°æ®åº“åˆå§‹åŒ–å¤±è´¥:",e)}))},6565:function(e,t,a){"use strict";a.d(t,{N:function(){return i},QA:function(){return o},r:function(){return l}});a(44114);class o{constructor(e,t,a,o,i,l,s,n,r,d){this.qaId=e,this.query=t,this.answer=a,this.files=o,this.responseTime=i,this.finishTime=l,this.series=s,this.modelName=n,this.modelType=r,this.recall=d}setResponse(e){this.responseTime=e}setAnswer(e){this.answer=e}setFinish(e){this.finishTime=e}}class i{constructor(e,t=[]){this.sessionId=e,this.data=t.map((e=>e instanceof o?e:new o(e.qaId,e.query,e.answer,e.files,e.responseTime,e.finishTime,e.series,e.modelName,e.modelType,e.recall)))}addQA(e){this.data.push(e instanceof o?e:new o(e.qaId,e.query,e.answer,e.files,e.responseTime,e.finishTime,e.series,e.modelName,e.modelType,e.recall))}findQA(e){return this.data.find((t=>t.qaId===e))}removeQA(e){this.data=this.data.filter((t=>t.qaId!==e))}}class l{constructor(e={}){let t=[];e.list&&Array.isArray(e.list)&&(t=e.list),this.list=t.map((e=>e instanceof i?e:new i(e.sessionId,e.data)))}addSession(e){this.list.unshift(e)}removeSession(e){this.list=this.list.filter((t=>t.sessionId!==e))}findSession(e){return this.list.find((t=>t.sessionId===e))}}},94086:function(e,t,a){"use strict";a.d(t,{AA:function(){return o},Kb:function(){return s},LN:function(){return l},ZH:function(){return i}});a(44114);class o{constructor(e,t,a=[]){this.chunkId=e,this.content=t,this.contentLength=t.length,this.words=a}}class i{constructor(e,t,a,i,l,s=0,n=[]){this.fileId=e,this.name=t,this.createTime=a,this.fileType=i,this.url=l,this.size=s,this.showChunks=!1,this.list=n.map((e=>e instanceof o?e:new o(e.chunkId,e.content,e.words)))}addChunk(e){this.list.push(e instanceof o?e:new o(e.chunkId,e.content,e.words))}findChunk(e){return this.list.find((t=>t.chunkId===e))}}class l{constructor(e,t,a,o,l=[]){this.repoId=e,this.name=t,this.createTime=a,this.description=o,this.list=l.map((e=>e instanceof i?e:new i(e.fileId,e.name,e.createTime,e.fileType,e.url,e.size,e.list)))}addFile(e){this.list.push(e instanceof i?e:new i(e.fileId,e.name,e.createTime,e.fileType,e.url,e.size,e.list))}findFile(e){return this.list.find((t=>t.fileId===e))}removeFile(e){this.list=this.list.filter((t=>t.fileId!==e))}}class s{constructor(e={}){this.statistics={totalRepositories:0,totalFiles:0,totalChunks:0};let t=[];e.list&&Array.isArray(e.list)&&(t=e.list),this.list=t.map((e=>(this.statistics.totalRepositories++,this.statistics.totalFiles+=e.list?.length||0,e.list?.forEach((e=>{this.statistics.totalChunks+=e.list?.length||0})),e instanceof l?e:new l(e.repoId,e.name,e.createTime,e.description,e.list))))}addRepository(e){this.list.push(e)}findRepository(e){return this.list.find((t=>t.repoId===e))}removeRepository(e){this.list=this.list.filter((t=>t.repoId!==e))}updateStatistics(){this.statistics={totalRepositories:this.list.length,totalFiles:this.list.reduce(((e,t)=>e+t.list.length),0),totalChunks:this.list.reduce(((e,t)=>e+t.list.reduce(((e,t)=>e+t.list.length),0)),0)}}}},46387:function(e,t,a){"use strict";a.d(t,{A:function(){return S}});var o=a(60782);const i="thchat-db",l=1,s=["active","tabStorage","chatStorage","kbStorage"];class n{constructor(){this.db=null,this.dbReady=this.init()}init(){return new Promise(((e,t)=>{const a=indexedDB.open(i,l);a.onerror=e=>{console.error("IndexDB æ•°æ®åº“æ‰“å¼€å¤±è´¥:",e),t(e)},a.onsuccess=t=>{this.db=t.target.result,console.log("IndexDB æ•°æ®åº“è¿æ¥æˆåŠŸ"),e(this.db)},a.onupgradeneeded=e=>{const t=e.target.result;s.forEach((e=>{t.objectStoreNames.contains(e)||t.createObjectStore(e)}))}}))}async set(e,t,a){return await this.dbReady,new Promise(((o,i)=>{const l=this.db.transaction([e],"readwrite"),s=l.objectStore(e),n=JSON.parse(JSON.stringify(a)),r=s.put(n,t);r.onsuccess=()=>o(),r.onerror=()=>i(r.error)}))}async get(e,t){return await this.dbReady,new Promise(((a,o)=>{const i=this.db.transaction([e],"readonly"),l=i.objectStore(e),s=l.get(t);s.onsuccess=()=>a(s.result),s.onerror=()=>o(s.error)}))}async delete(e,t){return await this.dbReady,new Promise(((a,o)=>{const i=this.db.transaction([e],"readwrite"),l=i.objectStore(e),s=l.delete(t);s.onsuccess=()=>a(),s.onerror=()=>o(s.error)}))}}const r=new n;var d=r;class c{constructor(e,t){this.title=e,this.uuid=t}}class u{constructor(e={}){let t=[];e.list&&Array.isArray(e.list)&&(t=e.list),this.list=t.map((e=>e instanceof c?e:new c(e.title,e.uuid)))}addTab(e,t){this.list.unshift(new c(e,t))}removeTab(e){this.list=this.list.filter((t=>t.uuid!==e))}getPrevUuid(e){const t=this.list.findIndex((t=>t.uuid===e));return-1===t||1===this.list.length?"":0===t?this.list[1].uuid:this.list[t-1].uuid}findTab(e){return this.list.find((t=>t.uuid===e))}getAllTabs(){return this.list}getCount(){return this.list.length}}var h=a(6565),p=a(94086);const m={state:{ready:!1,active:"",tab:new u({list:[]}),chat:new h.r({list:[]}),kb:new p.Kb({list:[]})},mutations:{SET_ACTIVE:(e,t)=>{e.active=t,d.set("active","value",t)},SET_TAB:(e,t)=>{e.tab=t instanceof u?t:new u(t),d.set("tabStorage","value",e.tab)},SET_CHAT:(e,t)=>{e.chat=t instanceof h.r?t:new h.r(t),d.set("chatStorage","value",e.chat)},SET_KB:(e,t)=>{e.kb=t instanceof p.Kb?t:new p.Kb(t),d.set("kbStorage","value",e.kb)},SET_READY:(e,t)=>{e.ready=t}},actions:{async initializeState({commit:e}){try{const t=await d.get("active","value")||"",a=await d.get("tabStorage","value")||{list:[]},o=await d.get("chatStorage","value")||{list:[]},i=await d.get("kbStorage","value")||{list:[]};e("SET_ACTIVE",t),e("SET_TAB",a),e("SET_CHAT",o),e("SET_KB",i),e("SET_READY",!0)}catch(t){console.error("åˆå§‹åŒ–çŠ¶æ€å¤±è´¥:",t)}},setActive({commit:e},t){e("SET_ACTIVE",t)},setTab({commit:e},t){e("SET_TAB",t)},setChat({commit:e},t){e("SET_CHAT",t)},setKb({commit:e},t){e("SET_KB",t)},clearAll({commit:e}){const t="",a={list:[]},o={list:[]},i={list:[]};e("SET_ACTIVE",t),e("SET_TAB",a),e("SET_CHAT",o),e("SET_KB",i)}},getters:{active:e=>e.active,tab:e=>e.tab,chat:e=>e.chat,kb:e=>e.kb,ready:e=>e.ready}};var g=m;const f={set(e,t){sessionStorage&&null!=e&&null!=t&&sessionStorage.setItem(e,t)},get(e){return sessionStorage?null==e?null:sessionStorage.getItem(e):null},setJSON(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON(e){const t=this.get(e);if(null!=t)return JSON.parse(t)},remove(e){sessionStorage.removeItem(e)}},v={set(e,t){localStorage&&null!=e&&null!=t&&localStorage.setItem(e,t)},get(e){return localStorage?null==e?null:localStorage.getItem(e):null},setJSON(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON(e){const t=this.get(e);if(null!=t)return JSON.parse(t)},remove(e){localStorage.removeItem(e)}};var k={session:f,local:v},b=a(59926);const C=JSON.parse(localStorage.getItem("settingStorage"))||"",_={theme:"light",bg:b,chat_detail:!0,api_key_map:{Ali_DashScope:"",Baidu_QianFan:"",Moonshot_AI:"",Xunfei_Spark:"",Zhipu_BigModel:"",OpenAI:{endpoint:"",api_key:"",model_name:""},Local:""},platform:"Xunfei_Spark",memory:!0,memory_limit:3,model_config:{type:"llm",name:"Spark Lite ğŸ†“",series:"xunfei",version:"spark lite",pre_method:"text_xunfei",post_method:"add"},upload_limit:1,upload_type:"image/",upload_size:2,chunk_size:500,kb_file_size:5,recall_count:3,selected_repoId:"",kb_enabled:!1,web_search_enabled:!1},w={state:Object.keys(_).reduce(((e,t)=>(e[t]=C?.[t]??_[t],e)),{}),mutations:{CHANGE_SETTING:(e,{key:t,value:a})=>{e.hasOwnProperty(t)&&(e[t]=a,k.local.setJSON("settingStorage",e))}},actions:{changeSetting({commit:e},t){e("CHANGE_SETTING",t)}}};C||k.local.setJSON("settingStorage",_);var y=w,S=(0,o.y$)({modules:{app:g,setting:y}})},32984:function(e,t,a){function o(e,t,a,o,r,d){let c={};switch(console.log(d),o){case"text_ali":c={model:e,input:{messages:i(t,a)},parameters:{result_format:"message",incremental_output:!0}},d&&(c.parameters.enable_search=!0);break;case"text_baidu":c={model:e,messages:i(t,a),stream:!0},d&&(c.web_search={enable:!0});break;case"text_xunfei":c={parameter:{chat:{domain:"general",temperature:.5,max_tokens:1024}},payload:{message:{text:i(t,a)}}};break;case"text_moonshot_zhipu":c={model:e,messages:i(t,a),stream:!0};break;case"local":c={input:{prompt:t,history:n(a),files:r}};break;case"img_ali":c={model:e,input:{messages:s(t,a,r)},parameters:{result_format:"message",incremental_output:!0}};break;case"img_zhipu":c={model:e,messages:l(t,a,r),stream:!0};break;case"igm_zhipu":c={model:e,prompt:t};break}return c}function i(e,t){function a(e){const t=[];for(let a=0;a<e.length-1;a++){const o=e[a];t.push({role:"user",content:o.query}),t.push({role:"assistant",content:o.answer})}return t}let o=a(t);return o.push({role:"user",content:e}),o}function l(e,t,a){function o(e){const t=[];for(let a=0;a<e.length-1;a++){const o=e[a];t.push({role:"user",content:[{type:"text",text:o.query}]}),t.push({role:"assistant",content:[{type:"text",text:o.answer}]})}return t}let i=o(t),l=[];return a&&a.length>0&&a[0].base64&&l.push({type:"image_url",image_url:{url:a[0].base64}}),l.push({type:"text",text:e}),i.push({role:"user",content:l}),i}function s(e,t,a){function o(e){const t=[];for(let a=0;a<e.length-1;a++){const o=e[a];t.push({role:"user",content:[{text:o.query}]}),t.push({role:"assistant",content:[{text:o.answer}]})}return t}let i=o(t),l=[];return a&&a.length>0&&a[0].base64&&l.push({image:a[0].base64}),l.push({text:e}),i.push({role:"user",content:l}),i}function n(e){const t=[];for(let a=0;a<e.length;a++){const o=e[a];t.push({user:o.query,assistant:o.answer})}return t}function r(e,t){switch(t){case"base":return JSON.parse(e.data).output.choices[0].message.content;case"text":const a=JSON.parse(e.data).output.choices[0].message.content;return a&&a.length>0?a[0].text:"";case"add":return e;case"delta":return JSON.parse(e.data).choices[0].delta.content;case"baidu":return JSON.parse(e.data).result;case"llm_local":if("data"!==e.event)return"";const o=JSON.parse(e.data);try{return o.data.content}catch(e){console.error(e)}case"igm_zhipu":return e.data[0].url;default:return console.warn(`æœªçŸ¥çš„åå¤„ç†æ–¹æ³•: ${t}`),e}}a(44114),e.exports={model_list:{Ali_DashScope:{platform_name:"é˜¿é‡Œäº‘ç™¾ç‚¼",list:[{type:"llm",name:"qwen-turbo",series:"qwen",version:"qwen-turbo-latest",pre_method:"text_ali",post_method:"base",can_web_search:!0},{type:"llm",name:"qwen-plus",series:"qwen",version:"qwen-plus-latest",pre_method:"text_ali",post_method:"base",can_web_search:!0},{type:"llm",name:"qwen-max",series:"qwen",version:"qwen-max-latest",pre_method:"text_ali",post_method:"base",can_web_search:!0},{type:"llm",name:"qwen-math-turbo",series:"qwen",version:"qwen-math-turbo-latest",pre_method:"text_ali",post_method:"base"},{type:"llm",name:"qwen-coder-plus",series:"qwen",version:"qwen-coder-plus-latest",pre_method:"text_ali",post_method:"base"},{type:"vim",name:"qwen-vl-max",series:"qwen",version:"qwen-vl-max-latest",pre_method:"img_ali",post_method:"text"},{type:"vim",name:"qwen-vl-plus",series:"qwen",version:"qwen-vl-plus-latest",pre_method:"img_ali",post_method:"text"},{type:"vim",name:"qwen-vl-ocr",series:"qwen",version:"qwen-vl-ocr-latest",pre_method:"img_ali",post_method:"text"}]},Baidu_QianFan:{platform_name:"ç™¾åº¦åƒå¸†",list:[{type:"llm",name:"ernie-4.0-8k",series:"wenxin",version:"ernie-4.0-8k-latest",pre_method:"text_baidu",post_method:"baidu",can_web_search:!0},{type:"llm",name:"ernie-speed-128k",series:"wenxin",version:"ernie-speed-128k",pre_method:"text_baidu",post_method:"baidu"},{type:"llm",name:"ernie-tiny-8k",series:"wenxin",version:"ernie-tiny-8k",pre_method:"text_baidu",post_method:"baidu"},{type:"llm",name:"ernie-lite-8k",series:"wenxin",version:"ernie-lite-8k",pre_method:"text_baidu",post_method:"baidu"},{type:"llm",name:"Yi-34B-Chat",series:"yi",version:"yi_34b_chat",pre_method:"text_baidu",post_method:"baidu"}]},Moonshot_AI:{platform_name:"æœˆä¹‹æš—é¢",list:[{type:"llm",name:"moonshot-v1-8k",series:"moonshot",version:"moonshot-v1-8k",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"moonshot-v1-32k",series:"moonshot",version:"moonshot-v1-32k",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"moonshot-v1-128k",series:"moonshot",version:"moonshot-v1-128k",pre_method:"text_moonshot_zhipu",post_method:"delta"}]},Xunfei_Spark:{platform_name:"è®¯é£æ˜Ÿç«",list:[{type:"llm",name:"Spark Lite ğŸ†“",series:"xunfei",version:"spark lite",pre_method:"text_xunfei",post_method:"add"}]},Zhipu_BigModel:{platform_name:"æ™ºè°±AI",list:[{type:"llm",name:"glm-4-flash ğŸ†“",series:"zhipu",version:"glm-4-flash",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-0520",series:"zhipu",version:"glm-4-0520",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-air",series:"zhipu",version:"glm-4-air",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-plus",series:"zhipu",version:"glm-4-plus",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-long",series:"zhipu",version:"glm-4-long",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-flashx",series:"zhipu",version:"glm-4-flashx",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4-airx",series:"zhipu",version:"glm-4-airx",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"llm",name:"glm-4",series:"zhipu",version:"glm-4",pre_method:"text_moonshot_zhipu",post_method:"delta"},{type:"vim",name:"glm-4v",series:"zhipu",version:"glm-4v",pre_method:"img_zhipu",post_method:"delta"},{type:"igm",name:"cogview-3-flash ğŸ†“",series:"zhipu",version:"cogview-3-flash",pre_method:"igm_zhipu",post_method:"igm_zhipu"},{type:"igm",name:"cogview-3",series:"zhipu",version:"cogview-3",pre_method:"igm_zhipu",post_method:"igm_zhipu"},{type:"igm",name:"cogview-3-plus",series:"zhipu",version:"cogview-3-plus",pre_method:"igm_zhipu",post_method:"igm_zhipu"}]},OpenAI:{platform_name:"OpenAI",list:[{type:"llm",name:"llm",series:"default",version:"llm_default",pre_method:"text_moonshot_zhipu",post_method:"add"}]},Local:{platform_name:"æœ¬åœ°è°ƒç”¨",list:[{type:"llm",name:"å¯¹è¯æ¨¡å‹",series:"local",version:"llm_local",pre_method:"local",post_method:"llm_local",can_web_search:!0},{type:"vim",name:"å›¾ç‰‡ç†è§£æ¨¡å‹",series:"local",version:"vim_local",pre_method:"local",post_method:"llm_local"},{type:"igm",name:"å›¾ç‰‡ç”Ÿæˆæ¨¡å‹",series:"local",version:"igm_local",pre_method:"local",post_method:"igm_zhipu"}]}},preProcess:o,postProcess:r}},4580:function(e,t,a){"use strict";e.exports=a.p+"img/moonshot.5ba2c9fc.svg"},17648:function(e,t,a){"use strict";e.exports=a.p+"img/xunfei.705278c4.svg"},53465:function(e,t,a){"use strict";e.exports=a.p+"img/yi.fa99cd65.svg"},24856:function(e,t,a){"use strict";e.exports=a.p+"img/baichuan.5b63fee4.png"},59926:function(e,t,a){"use strict";e.exports=a.p+"img/bg2.6d11e473.jpg"},82806:function(e,t,a){"use strict";e.exports=a.p+"img/logo.b32d73b7.png"},45010:function(e,t,a){"use strict";e.exports=a.p+"img/qwen.189dcb07.jpg"},5314:function(e,t,a){"use strict";e.exports=a.p+"img/user.1e7cd00f.png"},992:function(e){"use strict";e.exports="data:image/png;base64,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"},56181:function(e){"use strict";e.exports="data:image/png;base64,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"}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,i,l){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],l=e[c][2];for(var n=!0,r=0;r<o.length;r++)(!1&l||s>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(n=!1,l<s&&(s=l));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,i,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var l=Object.create(null);a.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&o;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){s[e]=function(){return o[e]}}));return s["default"]=function(){return o},a.d(l,s),l}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{136:"db1b55a8",191:"8cbc864d",195:"276ce346",266:"608dc72b",279:"803ef350",382:"1fadb32e",428:"8d7efd7e",585:"437986e7",801:"0e3b89e5",813:"910a0e0f",893:"5c193213",947:"c7126439"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{382:"5f5b167e",585:"0e4857ea",813:"962dd872"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="THChatUI:";a.l=function(o,i,l,s){if(e[o])e[o].push(i);else{var n,r;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+l){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+l),n.src=o),e[o]=[i];var h=function(t,a){n.onerror=n.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/THChatUI/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,i,l){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var n=function(a){if(s.onerror=s.onload=null,"load"===a.type)i();else{var o=a&&a.type,n=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+n+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=o,r.request=n,s.parentNode&&s.parentNode.removeChild(s),l(r)}};return s.onerror=s.onload=n,s.href=t,o?o.parentNode.insertBefore(s,o.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var i=a[o],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===e||l===t))return i}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){i=s[o],l=i.getAttribute("data-href");if(l===e||l===t)return i}},o=function(o){return new Promise((function(i,l){var s=a.miniCssF(o),n=a.p+s;if(t(s,n))return i();e(o,n,null,i,l)}))},i={524:0};a.f.miniCss=function(e,t){var a={382:1,585:1,813:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){a.b=document.baseURI||self.location.href;var e={524:0};a.f.j=function(t,o){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var l=new Promise((function(a,o){i=e[t]=[a,o]}));o.push(i[2]=l);var s=a.p+a.u(t),n=new Error,r=function(o){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var l=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",n.name="ChunkLoadError",n.type=l,n.request=s,i[1](n)}};a.l(s,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,l,s=o[0],n=o[1],r=o[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(r)var c=r(a)}for(t&&t(o);d<s.length;d++)l=s[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},o=self["webpackChunkTHChatUI"]=self["webpackChunkTHChatUI"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(16378)}));o=a.O(o)})();
//# sourceMappingURL=app.cb67b9ca.js.map