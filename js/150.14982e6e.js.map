{"version":3,"file":"js/150.14982e6e.js","mappings":"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","sources":["webpack://THChatUI/./src/views/AppMain.vue","webpack://THChatUI/./src/views/AppMain.vue?7807"],"sourcesContent":["<template>\n    <div class=\"home\" ref=\"homeRef\">\n\n        <el-row :gutter=\"24\" justify=\"center\" style=\"margin-left: 0;margin-right: 0;\">\n            <el-col :md=\"18\" :sm=\"22\" :xs=\"22\">\n                <ChatCard \n                    :qaId=\"c['qaId']\" \n                    :query=\"c['query']\" \n                    :answer=\"c['answer']\" \n                    :modelName=\"c['modelName']\" \n                    :series=\"c['series']\"\n                    :responseTime=\"c['responseTime']\" \n                    :finishTime=\"c['finishTime']\" \n                    :files=\"c['files']\"\n                    v-for=\"c in active_session_qa_data\" />\n\n                <div class=\"title-container dashed-border\" v-if=\"is_show\">\n                    <div class=\"title-line\">LLM的Web会话管理方案 <span>THChatUI</span></div>\n                    <div class=\"sub-title-line\"> 嗨喽~朋友！🤖 欢迎使用THWebUI。目前项目已支持</div>\n                    <el-row>\n                        <el-col :span=\"12\">\n                            <div class=\"grid-content bg-purple-light\">\n                                <h1>本地实现</h1>\n                                <p style=\"font-size: 10px\">(Python实现，支持知识库和联网搜索，可切换本地模型或远程模型)</p>\n                                <div class=\"sub-title-line\">\n                                    <p>① <b>聊天对话</b>功能：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>开源模型网站：Huggingface</p>\n                                        <p>远程模型平台：阿里云百炼 \\ 讯飞星火 \\ 智谱AI</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>② <b>联网搜索</b>功能</p>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>③ <b>知识库</b>功能：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>文档(pdf、word、txt)检索增强</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\">\n                            <div class=\"grid-content bg-purple\">\n                                <h1>远程模型</h1>\n                                <p style=\"font-size: 10px\">(只需填写api-key但仅支持聊天模型)</p>\n                                <div class=\"sub-title-line\">\n                                    <p> ① <b>阿里云百炼</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>千问（7个版本）</p>\n                                        <p>百川（2个版本）</p>\n                                        <p>ChatGLM（1个版本）</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>② <b>讯飞星火</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>星火(3种版本)</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>③ <b>智谱AI</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>ChatGLM（2个版本）</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </el-col>\n                    </el-row>\n\n                    <div class=\"sub-title-line\">\n                        (查看源码<el-link type=\"primary\" href=\"https://github.com/Unagi-cq/THChatUI\"\n                            target=\"_blank\">github</el-link>\n                        系统文档<el-link type=\"primary\" href=\"https://github.com/Unagi-cq/THChatUI\"\n                            @click=\"goTo('/about')\">文档</el-link>)</div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'AppMain',\n    computed: {\n        // 当前激活的聊天记录uuid\n        active() {\n            return this.$store.state.app.active;\n        },\n        // 激活会话的QA对\n        active_session_qa_data() {\n            const activeSession = this.$store.state.app.chat.findSession(this.active);\n            return activeSession?.data || [];\n        },\n        // 等app数据加载之后再执行逻辑 否则会闪屏\n        is_show() {\n            return this.$store.state.app.ready && this.active_session_qa_data.length === 0;\n        }\n    },\n    watch: {\n        // 监听chat的变化，当变化时，表示在Bot回答，此时需要刷新滚动条的位置\n        \"$store.state.app.chat\": {\n            deep: true, //深度监听设置为 true\n            handler: function (newVal, oldVal) {\n                // 检查是否滚动到底部 给200px的误差控制 这里的200px可以根据实际需求调整\n                let isAtBottom = this.$refs.homeRef.scrollTop + this.$refs.homeRef.clientHeight >= this.$refs.homeRef.scrollHeight - 200;\n                if (!isAtBottom) {\n                    return;\n                }\n                // 内容更新时，保持滚动条的位置\n                this.$nextTick(() => {\n                    this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n                });\n            }\n        },\n        // 监听active的变化，当变化时，表示切换了聊天选项卡，此时需要把滚动条的位置设置到最下方\n        \"$store.state.app.active\": {\n            deep: true, //深度监听设置为 true\n            handler: function (newVal, oldVal) {\n                // 内容更新时，保持滚动条的位置\n                this.$nextTick(() => {\n                    this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n                });\n            }\n        },\n        query: function (newVal, oldVal) {\n            // 内容更新时，保持滚动条的位置\n            this.$nextTick(() => {\n                this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n            });\n        }\n    },\n    created() {\n        // 内容更新时，保持滚动条的位置\n        this.$nextTick(() => {\n            this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n        });\n    },\n    methods: {\n        /**\n         * 跳转页面函数\n         * @param path\n         */\n        goTo(path) {\n            this.$router.push(path)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 确保容器可以滚动 */\n.home {\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none;\n    /* Firefox */\n}\n\n.home::-webkit-scrollbar {\n    display: none;\n    /* Chrome, Safari 和 Opera */\n}\n\n.el-link {\n    margin-right: 8px;\n}\n\n.el-link .el-icon--right.el-icon {\n    vertical-align: text-bottom;\n}\n\n.title-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -moz-box-orient: vertical;\n    -moz-box-direction: normal;\n    flex-direction: column;\n    padding: 20px;\n    gap: 4px;\n    max-width: 1000px;\n    margin: 2vh auto;\n    width: fit-content;\n    text-align: center;\n    border-radius: 20px;\n}\n\n.title-container .title-line {\n    font-style: normal;\n    font-weight: 700;\n    font-size: 34px;\n    line-height: 52px;\n    color: #1a2029;\n    margin-bottom: 14px;\n}\n\n.title-container .title-line span {\n    color: #2454ff;\n}\n\n.title-container .sub-title-line {\n    font-size: 15px;\n}\n</style>\n","import { render } from \"./AppMain.vue?vue&type=template&id=5d441dda&scoped=true\"\nimport script from \"./AppMain.vue?vue&type=script&lang=js\"\nexport * from \"./AppMain.vue?vue&type=script&lang=js\"\n\nimport \"./AppMain.vue?vue&type=style&index=0&id=5d441dda&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5d441dda\"]])\n\nexport default __exports__"],"names":["class","ref","key","_createElementVNode","_createTextVNode","style","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","justify","default","_withCtx","_component_el_col","md","sm","xs","_Fragment","_renderList","$options","active_session_qa_data","c","_createBlock","_component_ChatCard","qaId","query","answer","modelName","series","responseTime","finishTime","files","is_show","_hoisted_2","_hoisted_3","_hoisted_4","span","_hoisted_5","_","_hoisted_6","_hoisted_7","_component_el_link","type","href","target","onClick","_cache","$event","goTo","_createCommentVNode","name","computed","active","this","$store","state","app","activeSession","chat","findSession","data","ready","length","watch","deep","handler","newVal","oldVal","isAtBottom","$refs","homeRef","scrollTop","clientHeight","scrollHeight","$nextTick","created","methods","path","$router","push","__exports__","render"],"sourceRoot":""}