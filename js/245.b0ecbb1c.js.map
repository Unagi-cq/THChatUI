{"version":3,"file":"js/245.b0ecbb1c.js","mappings":"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","sources":["webpack://THChatUI/./src/views/AppMain.vue","webpack://THChatUI/./src/views/AppMain.vue?7807"],"sourcesContent":["<template>\n    <div class=\"home\" ref=\"homeRef\">\n\n        <el-row :gutter=\"24\" justify=\"center\" style=\"margin-left: 0;margin-right: 0;\">\n            <el-col :md=\"18\" :sm=\"22\" :xs=\"22\">\n                <ChatCard \n                    :qaId=\"c['qaId']\" \n                    :query=\"c['query']\" \n                    :answer=\"c['answer']\" \n                    :modelName=\"c['modelName']\" \n                    :series=\"c['series']\"\n                    :responseTime=\"c['responseTime']\" \n                    :finishTime=\"c['finishTime']\" \n                    :files=\"c['files']\"\n                    :modelType=\"c['modelType']\"\n                    :recall=\"c['recall']\"\n                    v-for=\"c in active_session_qa_data\" />\n\n                <div class=\"title-container\" v-if=\"is_show\">\n                    <div class=\"title-line\">LLM的Web会话管理方案 <span>THChatUI</span></div>\n                    <div class=\"sub-title-line\"> 嗨喽~朋友！🤖 欢迎使用THWebUI。目前项目已支持</div>\n                    <el-row>\n                        <el-col :span=\"12\">\n                            <div class=\"grid-content bg-purple-light\">\n                                <h1>本地实现</h1>\n                                <p style=\"font-size: 10px\">(Python实现，支持知识库和联网搜索，可切换本地模型或远程模型)</p>\n                                <div class=\"sub-title-line\">\n                                    <p>① <b>聊天对话</b>功能：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>开源模型网站：Huggingface</p>\n                                        <p>远程模型平台：阿里云百炼 \\ 讯飞星火 \\ 智谱AI</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>② <b>联网搜索</b>功能</p>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>③ <b>知识库</b>功能：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>文档(pdf、word、txt)检索增强</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\">\n                            <div class=\"grid-content bg-purple\">\n                                <h1>远程模型</h1>\n                                <p style=\"font-size: 10px\">(只需填写api-key但仅支持聊天模型)</p>\n                                <div class=\"sub-title-line\">\n                                    <p> ① <b>阿里云百炼</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>千问（7个版本）</p>\n                                        <p>百川（2个版本）</p>\n                                        <p>ChatGLM（1个版本）</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>② <b>讯飞星火</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>星火(3种版本)</p>\n                                    </div>\n                                </div>\n                                <div class=\"sub-title-line\">\n                                    <p>③ <b>智谱AI</b>平台以下模型：</p>\n                                    <div style=\"font-size: 10px\">\n                                        <p>ChatGLM（2个版本）</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </el-col>\n                    </el-row>\n\n                    <div class=\"sub-title-line\">\n                        源码<el-link type=\"primary\" href=\"https://github.com/Unagi-cq/THChatUI\"\n                            target=\"_blank\">Github</el-link>\n                        文档<el-link type=\"primary\" href=\"https://github.com/Unagi-cq/THChatUI\"\n                            @click=\"goTo('/about')\">Doc</el-link></div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'AppMain',\n    computed: {\n        // 当前激活的聊天记录uuid\n        active() {\n            return this.$store.state.app.active;\n        },\n        // 激活会话的QA对\n        active_session_qa_data() {\n            const activeSession = this.$store.state.app.chat.findSession(this.active);\n            return activeSession?.data || [];\n        },\n        // 等app数据加载之后再执行逻辑 否则会闪屏\n        is_show() {\n            return this.$store.state.app.ready && this.active_session_qa_data.length === 0;\n        }\n    },\n    watch: {\n        // 监听chat的变化，当变化时，表示在Bot回答，此时需要刷新滚动条的位置\n        \"$store.state.app.chat\": {\n            deep: true, //深度监听设置为 true\n            handler: function (newVal, oldVal) {\n                // 检查是否滚动到底部 给200px的误差控制 这里的200px可以根据实际需求调整\n                let isAtBottom = this.$refs.homeRef.scrollTop + this.$refs.homeRef.clientHeight >= this.$refs.homeRef.scrollHeight - 200;\n                if (!isAtBottom) {\n                    return;\n                }\n                // 内容更新时，保持滚动条的位置\n                this.$nextTick(() => {\n                    this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n                });\n            }\n        },\n        // 监听active的变化，当变化时，表示切换了聊天选项卡，此时需要把滚动条的位置设置到最下方\n        \"$store.state.app.active\": {\n            deep: true, //深度监听设置为 true\n            handler: function (newVal, oldVal) {\n                // 内容更新时，保持滚动条的位置\n                this.$nextTick(() => {\n                    this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n                });\n            }\n        },\n        query: function (newVal, oldVal) {\n            // 内容更新时，保持滚动条的位置\n            this.$nextTick(() => {\n                this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n            });\n        }\n    },\n    created() {\n        // 内容更新时，保持滚动条的位置\n        this.$nextTick(() => {\n            this.$refs.homeRef.scrollTop = this.$refs.homeRef.scrollHeight\n        });\n    },\n    methods: {\n        /**\n         * 跳转页面函数\n         * @param path\n         */\n        goTo(path) {\n            this.$router.push(path)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 确保容器可以滚动 */\n.home {\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none;\n    /* Firefox */\n}\n\n.home::-webkit-scrollbar {\n    display: none;\n    /* Chrome, Safari 和 Opera */\n}\n\n.el-link {\n    margin-right: 8px;\n}\n\n.el-link .el-icon--right.el-icon {\n    vertical-align: text-bottom;\n}\n\n.title-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -moz-box-orient: vertical;\n    -moz-box-direction: normal;\n    flex-direction: column;\n    padding: 20px;\n    gap: 4px;\n    max-width: 1000px;\n    margin: 2vh auto;\n    width: fit-content;\n    text-align: center;\n    border-radius: 20px;\n}\n\n.title-container .title-line {\n    font-style: normal;\n    font-weight: 700;\n    font-size: 34px;\n    line-height: 52px;\n    color: #1a2029;\n    margin-bottom: 14px;\n}\n\n.title-container .title-line span {\n    color: #2454ff;\n}\n\n.title-container .sub-title-line {\n    font-size: 15px;\n}\n</style>\n","import { render } from \"./AppMain.vue?vue&type=template&id=495fbd83&scoped=true\"\nimport script from \"./AppMain.vue?vue&type=script&lang=js\"\nexport * from \"./AppMain.vue?vue&type=script&lang=js\"\n\nimport \"./AppMain.vue?vue&type=style&index=0&id=495fbd83&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-495fbd83\"]])\n\nexport default __exports__"],"names":["class","ref","key","_createElementVNode","_createTextVNode","style","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","justify","default","_withCtx","_component_el_col","md","sm","xs","_Fragment","_renderList","$options","active_session_qa_data","c","_createBlock","_component_ChatCard","qaId","query","answer","modelName","series","responseTime","finishTime","files","modelType","recall","is_show","_hoisted_2","_hoisted_3","_hoisted_4","span","_hoisted_5","_","_hoisted_6","_hoisted_7","_component_el_link","type","href","target","onClick","_cache","$event","goTo","_createCommentVNode","name","computed","active","this","$store","state","app","activeSession","chat","findSession","data","ready","length","watch","deep","handler","newVal","oldVal","isAtBottom","$refs","homeRef","scrollTop","clientHeight","scrollHeight","$nextTick","created","methods","path","$router","push","__exports__","render"],"sourceRoot":""}