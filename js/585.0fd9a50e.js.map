{"version":3,"file":"js/585.0fd9a50e.js","mappings":"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","sources":["webpack://THChatUI/./src/views/docs/index.vue","webpack://THChatUI/./src/views/docs/index.vue?53f1"],"sourcesContent":["<template>\n    <div>\n        <el-page-header @back=\"onBack\" title=\"关闭\" content=\"知识库\" :icon=\"CloseBold\" style=\"margin-bottom: 15px;\"></el-page-header>\n\n            <el-row :gutter=\"24\" style=\"margin-left: 0;margin-right: 0;\">\n\n                <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                    <div class=\"file-container dashed-border\">\n                        <!-- 文件展示卡片 -->\n                        <div class=\"file-card\" v-for=\"x in files\">\n                            <img src=\"@/assets/images/file.svg\" alt=\"File Icon\" class=\"file-icon\"/>\n                            <div class=\"file-details\">\n                                <div class=\"file-title\">{{x.title}}</div>\n                                <div class=\"upload-time\">上传时间: {{ formattedTime(x.uuid) }}</div>\n                            </div>\n                            <button class=\"delete-btn\" @click=\"delFile(x.uuid)\">&#x2715;</button>\n                        </div>\n\n                        <div class=\"upload-card\" style=\"border-bottom: none;\">\n                            <el-upload\n                                class=\"upload-button\"\n                                drag\n                                action=\"/local/upload\"\n                                multiple\n                                :on-success=\"handleSuccess\"\n                                accept=\".pdf,.doc,.docx,.txt\"\n                            >\n                                <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\n                                <div class=\"el-upload__text\">\n                                    将文件拖拽至此处 或 <em>点击上传</em>\n                                </div>\n                                <template #tip>\n                                    <div class=\"el-upload__tip\">\n                                        目前仅支持5MB以内的PDF/DOC/DOCX/TXT文件上传，请确保文件格式正确\n                                    </div>\n                                </template>\n                            </el-upload>\n                        </div>\n                    </div>\n                </el-col>\n\n            </el-row>\n\n        </div>\n</template>\n\n<script>\nimport {CloseBold} from \"@element-plus/icons-vue\";\nimport { UploadFilled } from '@element-plus/icons-vue'\n\nexport default {\n    name: \"Docs\",\n    computed: {\n        CloseBold() {\n            return CloseBold\n        },\n        // 获取所有文件\n        files: {\n            get() {\n                return this.$store.state.app.files;\n            },\n            set(val) {\n                this.$store.dispatch('setFiles', val);\n            }\n        },\n    },\n    methods: {\n        onBack() {\n            // 返回首页\n            this.$router.push('/');\n        },\n        handleSuccess(response, file, fileList) {\n            if (response.code === 400) {\n                this.$notify({\n                    title: '上传失败！',\n                    message: response.msg,\n                    type: 'error',\n                });\n            } else if (response.code === 200) {\n                let file_data = {\"title\": response.title,\"uuid\": response.uuid,\"file_type\":response.file_type,\"url\":response.url};\n                // 使用解构赋值创建chatList的副本，以避免直接修改原始数组\n                let files = [...this.files];\n                files.push(file_data)\n                this.files = files;\n            }\n        },\n        delFile(uuid) {\n            // 使用filter方法删除具有指定uuid的数据项 此时会触发get函数\n            this.files = this.files.filter(item => item.uuid !== uuid);\n        },\n        /**\n         * 格式化时间戳\n         * @param timestamp\n         * @returns {string}\n         */\n        formattedTime(timestamp) {\n            // 将时间戳转换为Date对象\n            const date = new Date(timestamp); // 乘以1000以将时间戳从秒转换为毫秒\n            // 创建日期和时间格式化函数\n            return date.toLocaleString('zh-CN', {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n.file-container {\n    display: flex;\n    flex-direction: column;\n    padding: 5px;\n    border-radius: 8px;\n    margin: 5px 0 5px 0;\n\n    /* 卡片样式 */\n    > .file-card, .upload-card {\n        display: flex;\n        \n        justify-content: space-between;\n        padding: 10px;\n        border-bottom: 1px dashed grey;\n\n        /* 文件图标样式 */\n        > .file-icon {\n            width: 40px;\n            height: 40px;\n            object-fit: cover;\n            margin-right: 10px;\n            border-radius: 5px;\n        }\n\n        /* 文件详情样式 */\n        > .file-details {\n            flex: 1;\n\n            > .file-title {\n                font-size: 14px;\n                font-weight: bold;\n                margin-bottom: 5px;\n            }\n\n            > .upload-time {\n                font-size: 12px;\n                color: #777;\n            }\n        }\n\n        /* 删除按钮样式 */\n        > .delete-btn {\n            background: none;\n            border: none;\n            color: #f00;\n            cursor: pointer;\n            font-size: 18px;\n        }\n\n        /* 拖拽上传按钮 */\n        > .upload-button {\n            width: 100%;\n        }\n    }\n}\n\n:deep(.el-upload-dragger) {\n    padding: 0;\n    background: none;\n}\n\n.el-upload__tip {\n    text-align: center;\n}\n\n:deep(.el-page-header__content), :deep(.el-page-header__back) {\n    color: var(--common-color);\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=9098d8dc&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9098d8dc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9098d8dc\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","style","_createTextVNode","_createElementBlock","_createVNode","_component_el_page_header","onBack","$options","title","content","icon","CloseBold","_component_el_row","gutter","default","_withCtx","_component_el_col","xs","sm","md","lg","xl","_hoisted_1","_Fragment","_renderList","files","x","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","formattedTime","uuid","onClick","$event","delFile","_hoisted_7","_hoisted_8","_component_el_upload","drag","action","multiple","handleSuccess","accept","tip","_hoisted_10","_component_el_icon","_component_upload_filled","_","_hoisted_9","name","computed","get","this","$store","state","app","set","val","dispatch","methods","$router","push","response","file","fileList","code","$notify","message","msg","type","file_data","file_type","url","filter","item","timestamp","date","Date","toLocaleString","year","month","day","hour","minute","second","__exports__","render"],"sourceRoot":""}